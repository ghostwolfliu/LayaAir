{"version":3,"file":"laya.ui.js","sources":["../../../src/layaAir/UIConfig.ts","../../../src/layaAir/laya/ui/Styles.ts","../../../src/layaAir/laya/ui/AutoBitmap.ts","../../../src/layaAir/laya/ui/Widget.ts","../../../src/layaAir/laya/ui/UIEvent.ts","../../../src/layaAir/laya/ui/UIUtils.ts","../../../src/layaAir/laya/ui/UIComponent.ts","../../../src/layaAir/laya/ui/Image.ts","../../../src/layaAir/laya/ui/AdvImage.ts","../../../src/layaAir/laya/ui/Box.ts","../../../src/layaAir/laya/ui/Button.ts","../../../src/layaAir/laya/ui/CheckBox.ts","../../../src/layaAir/laya/ui/Clip.ts","../../../src/layaAir/laya/ui/ColorPicker.ts","../../../src/layaAir/laya/ui/Label.ts","../../../src/layaAir/laya/ui/Slider.ts","../../../src/layaAir/laya/ui/ScrollBar.ts","../../../src/layaAir/laya/ui/VScrollBar.ts","../../../src/layaAir/laya/ui/HScrollBar.ts","../../../src/layaAir/laya/ui/List.ts","../../../src/layaAir/laya/ui/ComboBox.ts","../../../src/layaAir/laya/ui/ProgressBar.ts","../../../src/layaAir/laya/ui/Radio.ts","../../../src/layaAir/laya/ui/UIGroup.ts","../../../src/layaAir/laya/ui/RadioGroup.ts","../../../src/layaAir/laya/ui/Tab.ts","../../../src/layaAir/laya/ui/ViewStack.ts","../../../src/layaAir/laya/ui/TextInput.ts","../../../src/layaAir/laya/ui/TextArea.ts","../../../src/layaAir/laya/ui/ScaleBox.ts","../../../src/layaAir/laya/ui/HSlider.ts","../../../src/layaAir/laya/ui/Panel.ts","../../../src/layaAir/laya/ui/VSlider.ts","../../../src/layaAir/laya/ui/Tree.ts","../../../src/layaAir/laya/ui/LayoutBox.ts","../../../src/layaAir/laya/ui/HBox.ts","../../../src/layaAir/laya/ui/VBox.ts","../../../src/layaAir/laya/ui/FontClip.ts","../../../src/layaAir/laya/ui/View.ts","../../../src/layaAir/laya/ui/IUI.ts","../../../src/layaAir/laya/ui/DialogManager.ts","../../../src/layaAir/laya/ui/Dialog.ts","../../../src/layaAir/laya/ui/TipManager.ts","../../../src/layaAir/laya/ui/UILib.ts","../../../src/layaAir/laya/ui/WXOpenDataViewer.ts"],"sourcesContent":["/**全局配置*/\r\n\texport class UIConfig {\r\n\t\t/**是否开启触摸滚动（针对滚动条）*/\r\n\t\t static touchScrollEnable:boolean = true;\r\n\t\t/**是否开启滑轮滚动（针对滚动条）*/\r\n\t\t static mouseWheelEnable:boolean = true;\r\n\t\t/**是否显示滚动条按钮*/\r\n\t\t static showButtons:boolean = true;\r\n\t\t/**弹出框背景颜色*/\r\n\t\t static popupBgColor:string = \"#000000\";\r\n\t\t/**弹出框背景透明度*/\r\n\t\t static popupBgAlpha:number = 0.5;\r\n\t\t/**模式窗口点击边缘，是否关闭窗口，默认是关闭的*/\r\n\t\t static closeDialogOnSide:boolean = true;\r\n\t}\r\n\t(window as any).UIConfig = UIConfig;\r\n\r\n","\r\n/**\r\n * <code>Styles</code> 定义了组件常用的样式属性。\r\n */\r\nexport class Styles {\r\n\r\n    /**\r\n     * 默认九宫格信息。\r\n     * @see laya.ui.AutoBitmap#sizeGrid\r\n     */\r\n    static defaultSizeGrid: any[] = [4, 4, 4, 4, 0];\r\n\r\n    //-----------------Label-----------------\r\n    /**\r\n     * 标签颜色。\r\n     */\r\n    static labelColor: string = \"#000000\";\r\n    /**\r\n     * 标签的边距。\r\n     * <p><b>格式：</b>[上边距，右边距，下边距，左边距]。</p>\r\n     */\r\n    static labelPadding: any[] = [2, 2, 2, 2];\r\n\r\n    /**\r\n     * 标签的边距。\r\n     * <p><b>格式：</b>[上边距，右边距，下边距，左边距]。</p>\r\n     */\r\n    static inputLabelPadding: any[] = [1, 1, 1, 3];\r\n\r\n    //-----------------Button-----------------\r\n    /**\r\n     * 按钮皮肤的状态数，支持1,2,3三种状态值。\r\n     */\r\n    static buttonStateNum: number = 3;\r\n    /**\r\n     * 按钮标签颜色。\r\n     * <p><b>格式：</b>[upColor,overColor,downColor,disableColor]。</p>\r\n     */\r\n    static buttonLabelColors: any[] = [\"#32556b\", \"#32cc6b\", \"#ff0000\", \"#C0C0C0\"];\r\n\r\n    //-----------------ComboBox-----------------\r\n    /**\r\n     * 下拉框项颜色。\r\n     * <p><b>格式：</b>[overBgColor,overLabelColor,outLabelColor,borderColor,bgColor]。</p>\r\n     */\r\n    static comboBoxItemColors: any[] = [\"#5e95b6\", \"#ffffff\", \"#000000\", \"#8fa4b1\", \"#ffffff\"];\r\n\r\n    //-----------------ScrollBar-----------------\r\n    /**\r\n     * 滚动条的最小值。\r\n     */\r\n    static scrollBarMinNum: number = 15;\r\n    /**\r\n     * 长按按钮，等待时间，使其可激活连续滚动。\r\n     */\r\n    static scrollBarDelayTime: number = 500;\r\n}\r\n\r\n\r\n//ILaya.regClass(Styles);    ","import { Graphics } from \"../display/Graphics\"\r\nimport { Texture } from \"../resource/Texture\"\r\nimport { Utils } from \"../utils/Utils\"\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { ILaya } from \"../../ILaya\";\r\n\r\n/**\r\n * <code>AutoBitmap</code> 类是用于表示位图图像或绘制图形的显示对象。\r\n * <p>封装了位置，宽高及九宫格的处理，供UI组件使用。</p>\r\n */\r\nexport class AutoBitmap extends Graphics {\r\n    /**@private 是否自动缓存命令*/\r\n    autoCacheCmd: boolean = true;\r\n    /**@private 宽度*/\r\n    private _width: number = 0;\r\n    /**@private 高度*/\r\n    private _height: number = 0;\r\n    /**@private 源数据*/\r\n    private _source: Texture;\r\n    /**@private 网格数据*/\r\n    private _sizeGrid: number[];\r\n    /**@private */\r\n    protected _isChanged: boolean;\r\n    /**@internal */\r\n    _offset: any[];\r\n    uv: number[] = null;\r\n    ///**@private */\r\n    //private var _key:String;\r\n\r\n    /**@inheritDoc \r\n     * @override\r\n    */\r\n    destroy(): void {\r\n        super.destroy();\r\n        this._source = null;\r\n        this._sizeGrid = null;\r\n        this._offset = null;\r\n    }\r\n\r\n    /**\r\n     * 当前实例的有效缩放网格数据。\r\n     * <p>如果设置为null,则在应用任何缩放转换时，将正常缩放整个显示对象。</p>\r\n     * <p>数据格式：[上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)]。\r\n     * <ul><li>例如：[4,4,4,4,1]</li></ul></p>\r\n     * <p> <code>sizeGrid</code> 的值如下所示：\r\n     * <ol>\r\n     * <li>上边距</li>\r\n     * <li>右边距</li>\r\n     * <li>下边距</li>\r\n     * <li>左边距</li>\r\n     * <li>是否重复填充(值为0：不重复填充，1：重复填充)</li>\r\n     * </ol></p>\r\n     * <p>当定义 <code>sizeGrid</code> 属性时，该显示对象被分割到以 <code>sizeGrid</code> 数据中的\"上边距,右边距,下边距,左边距\" 组成的矩形为基础的具有九个区域的网格中，该矩形定义网格的中心区域。网格的其它八个区域如下所示：\r\n     * <ul>\r\n     * <li>矩形上方的区域</li>\r\n     * <li>矩形外的右上角</li>\r\n     * <li>矩形左侧的区域</li>\r\n     * <li>矩形右侧的区域</li>\r\n     * <li>矩形外的左下角</li>\r\n     * <li>矩形下方的区域</li>\r\n     * <li>矩形外的右下角</li>\r\n     * <li>矩形外的左上角</li>\r\n     * </ul>\r\n     * 同时也支持3宫格，比如0,4,0,4,1为水平3宫格，4,0,4,0,1为垂直3宫格，3宫格性能比9宫格高。\r\n     * </p>\r\n     */\r\n    get sizeGrid(): number[] {\r\n        return this._sizeGrid;\r\n    }\r\n\r\n    set sizeGrid(value: number[]) {\r\n        this._sizeGrid = value.map((v) => { return +v; });\r\n        this._setChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示显示对象的宽度，以像素为单位。\r\n     */\r\n    get width(): number {\r\n        if (this._width) return this._width;\r\n        if (this._source) return this._source.sourceWidth;\r\n        return 0;\r\n    }\r\n\r\n    set width(value: number) {\r\n        if (this._width != value) {\r\n            this._width = value;\r\n            this._setChanged();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示显示对象的高度，以像素为单位。\r\n     */\r\n    get height(): number {\r\n        if (this._height) return this._height;\r\n        if (this._source) return this._source.sourceHeight;\r\n        return 0;\r\n    }\r\n\r\n    set height(value: number) {\r\n        if (this._height != value) {\r\n            this._height = value;\r\n            this._setChanged();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对象的纹理资源。\r\n     * @see laya.resource.Texture\r\n     */\r\n    get source(): Texture {\r\n        return this._source;\r\n    }\r\n\r\n    set source(value: Texture) {\r\n        if (value) {\r\n            this._source = value\r\n            this._setChanged();\r\n        } else {\r\n            this._source = null;\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    /** @private */\r\n    protected _setChanged(): void {\r\n        if (!this._isChanged) {\r\n            this._isChanged = true;\r\n            ILaya.timer.callLater(this, this.changeSource);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 修改纹理资源。\r\n     */\r\n    protected changeSource(): void {\r\n        this._isChanged = false;\r\n        var source: Texture = this._source;\r\n        if (!source || !source.bitmap) return;\r\n\r\n        var width: number = this.width;\r\n        var height: number = this.height;\r\n        var sizeGrid: any[] = this._sizeGrid;\r\n        var sw: number = source.sourceWidth;\r\n        var sh: number = source.sourceHeight;\r\n\r\n        //如果没有设置9宫格，或大小未改变，则直接用原图绘制\r\n        if (!sizeGrid || (sw === width && sh === height)) {\r\n            this.clear();\r\n            this.drawTexture(source, this._offset ? this._offset[0] : 0, this._offset ? this._offset[1] : 0, width, height, null, 1, null, null, this.uv);\r\n        } else {\r\n            //从缓存中读取渲染命令(和回收冲突，暂时去掉)\r\n            //source.$_GID || (source.$_GID = Utils.getGID());\r\n            //_key = source.$_GID + \".\" + width + \".\" + height + \".\" + sizeGrid.join(\".\");\r\n            //if (Utils.isOKCmdList(WeakObject.I.get(_key))) {\r\n            //this.cmds = WeakObject.I.get(_key);\r\n            //return;\r\n            //}\r\n\r\n            this.clear();\r\n            this.draw9Grid(source, 0, 0, width, height, sizeGrid);\r\n            this._repaint();\r\n            return;\r\n        }\r\n        this._repaint();\r\n    }\r\n\r\n    private drawBitmap(repeat: boolean, tex: Texture, x: number, y: number, width: number = 0, height: number = 0): void {\r\n        if (width < 0.1 || height < 0.1) return;\r\n        if (repeat && (tex.width != width || tex.height != height)) this.fillTexture(tex, x, y, width, height);\r\n        else this.drawImage(tex, x, y, width, height);\r\n    }\r\n\r\n    private static getTexture(tex: Texture, x: number, y: number, width: number, height: number): Texture {\r\n        if (width <= 0) width = 1;\r\n        if (height <= 0) height = 1;\r\n        tex.$_GID || (tex.$_GID = Utils.getGID())\r\n        //var key:String = tex.$_GID + \".\" + x + \".\" + y + \".\" + width + \".\" + height;\r\n        //var texture:Texture = WeakObject.I.get(key);\r\n        var texture: Texture;\r\n        if (!texture || !texture._getSource()) {\r\n            texture = Texture.createFromTexture(tex, x, y, width, height);\r\n            //WeakObject.I.set(key, texture);\r\n        }\r\n        return texture;\r\n    }\r\n\r\n    //override public function clear(recoverCmds:Boolean = true):void {\r\n    ////重写clear，防止缓存被清理\r\n    //super.clear(recoverCmds);\r\n    //_key && WeakObject.I.del(_key);\r\n    //}\r\n}\r\n\r\nClassUtils.regClass(\"laya.ui.AutoBitmap\", AutoBitmap);\r\nClassUtils.regClass(\"Laya.AutoBitmap\", AutoBitmap);","import { Component } from \"../components/Component\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 相对布局插件\r\n */\r\nexport class Widget extends Component {\r\n    /**一个已初始化的 <code>Widget</code> 实例。*/\r\n    static EMPTY: Widget = null;// new Widget();\r\n\r\n    private _top: number = NaN;\r\n    private _bottom: number = NaN;\r\n    private _left: number = NaN;\r\n    private _right: number = NaN;\r\n    private _centerX: number = NaN;\r\n    private _centerY: number = NaN;\r\n\t\t/**\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  onReset(): void {\r\n        this._top = this._bottom = this._left = this._right = this._centerX = this._centerY = NaN;\r\n    }\r\n    /**\r\n     * @override\r\n     * @internal\r\n     */\r\n    _onEnable(): void {\r\n        if (this.owner.parent) this._onAdded();\r\n        else this.owner.once(Event.ADDED, this, this._onAdded);\r\n    }\r\n    /**\r\n     * @override\r\n     * @internal\r\n     */\r\n    protected _onDisable(): void {\r\n        this.owner.off(Event.ADDED, this, this._onAdded);\r\n        if (this.owner.parent) this.owner.parent.off(Event.RESIZE, this, this._onParentResize);\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @internal\r\n\t\t * 对象被添加到显示列表的事件侦听处理函数。\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  _onAdded(): void {\r\n        if (this.owner.parent)\r\n            this.owner.parent.on(Event.RESIZE, this, this._onParentResize);\r\n        this.resetLayoutX();\r\n        this.resetLayoutY();\r\n    }\r\n\r\n    /**\r\n     * 父容器的 <code>Event.RESIZE</code> 事件侦听处理函数。\r\n     */\r\n    protected _onParentResize(): void {\r\n        var flagX = this.resetLayoutX();\r\n        var flagY = this.resetLayoutY();\r\n        if (flagX || flagY) this.owner.event(Event.RESIZE);\r\n    }\r\n\r\n    /**\r\n     * <p>重置对象的 <code>X</code> 轴（水平方向）布局。</p>\r\n     * @private\r\n     */\r\n    resetLayoutX(): boolean {\r\n        var owner: Sprite = (<Sprite>this.owner);\r\n        if (!owner) return false;\r\n        var parent: Sprite = (<Sprite>owner.parent);\r\n        if (parent) {\r\n            if (!isNaN(this.centerX)) {\r\n                owner.x = Math.round((parent.width - owner.displayWidth) * 0.5 + this.centerX + owner.pivotX * owner.scaleX);\r\n            } else if (!isNaN(this.left)) {\r\n                owner.x = Math.round(this.left + owner.pivotX * owner.scaleX);\r\n                if (!isNaN(this.right)) {\r\n                    //TODO:如果用width，会死循环\r\n                    var temp: number = (parent._width - this.left - this.right) / (owner.scaleX || 0.01);\r\n                    if (temp != owner.width) {\r\n                        owner.width = temp;\r\n                        return true;\r\n                    }\r\n                }\r\n            } else if (!isNaN(this.right)) {\r\n                owner.x = Math.round(parent.width - owner.displayWidth - this.right + owner.pivotX * owner.scaleX);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * <p>重置对象的 <code>Y</code> 轴（垂直方向）布局。</p>\r\n     * @private\r\n     */\r\n    resetLayoutY(): boolean {\r\n        var owner: Sprite = (<Sprite>this.owner);\r\n        if (!owner) return false;\r\n        var parent: Sprite = (<Sprite>owner.parent);\r\n        if (parent) {\r\n            if (!isNaN(this.centerY)) {\r\n                owner.y = Math.round((parent.height - owner.displayHeight) * 0.5 + this.centerY + owner.pivotY * owner.scaleY);\r\n            } else if (!isNaN(this.top)) {\r\n                owner.y = Math.round(this.top + owner.pivotY * owner.scaleY);\r\n                if (!isNaN(this.bottom)) {\r\n                    //TODO:\r\n                    var temp: number = (parent._height - this.top - this.bottom) / (owner.scaleY || 0.01);\r\n                    if (temp != owner.height) {\r\n                        owner.height = temp;\r\n                        return true;\r\n                    }\r\n                }\r\n            } else if (!isNaN(this.bottom)) {\r\n                owner.y = Math.round(parent.height - owner.displayHeight - this.bottom + owner.pivotY * owner.scaleY);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 重新计算布局\r\n     */\r\n    resetLayout(): void {\r\n        if (this.owner) {\r\n            this.resetLayoutX();\r\n            this.resetLayoutY();\r\n        }\r\n    }\r\n\r\n    /**表示距顶边的距离（以像素为单位）。*/\r\n    get top(): number {\r\n        return this._top;\r\n    }\r\n\r\n    set top(value: number) {\r\n        if (this._top != value) {\r\n            this._top = value;\r\n            this.resetLayoutY();\r\n        }\r\n    }\r\n\r\n    /**表示距底边的距离（以像素为单位）。*/\r\n    get bottom(): number {\r\n        return this._bottom;\r\n    }\r\n\r\n    set bottom(value: number) {\r\n        if (this._bottom != value) {\r\n            this._bottom = value;\r\n            this.resetLayoutY();\r\n        }\r\n    }\r\n\r\n    /**表示距左边的距离（以像素为单位）。*/\r\n    get left(): number {\r\n        return this._left;\r\n    }\r\n\r\n    set left(value: number) {\r\n        if (this._left != value) {\r\n            this._left = value;\r\n            this.resetLayoutX();\r\n        }\r\n    }\r\n\r\n    /**表示距右边的距离（以像素为单位）。*/\r\n    get right(): number {\r\n        return this._right;\r\n    }\r\n\r\n    set right(value: number) {\r\n        if (this._right != value) {\r\n            this._right = value;\r\n            this.resetLayoutX();\r\n        }\r\n    }\r\n\r\n    /**表示距水平方向中心轴的距离（以像素为单位）。*/\r\n    get centerX(): number {\r\n        return this._centerX;\r\n    }\r\n\r\n    set centerX(value: number) {\r\n        if (this._centerX != value) {\r\n            this._centerX = value;\r\n            this.resetLayoutX();\r\n        }\r\n    }\r\n\r\n    /**表示距垂直方向中心轴的距离（以像素为单位）。*/\r\n    get centerY(): number {\r\n        return this._centerY;\r\n    }\r\n\r\n    set centerY(value: number) {\r\n        if (this._centerY != value) {\r\n            this._centerY = value;\r\n            this.resetLayoutY();\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(Widget);\r\nWidget.EMPTY = new Widget();\r\nClassUtils.regClass(\"laya.ui.Widget\", Widget);\r\nClassUtils.regClass(\"Laya.Widget\", Widget);\r\n","import { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>UIEvent</code> 类用来定义UI组件类的事件类型。\r\n */\r\nexport class UIEvent extends Event {\r\n\t/**\r\n\t * 显示提示信息。\r\n\t */\r\n    static SHOW_TIP: string = \"showtip\";\r\n\t/**\r\n\t * 隐藏提示信息。\r\n\t */\r\n    static HIDE_TIP: string = \"hidetip\";\r\n}\r\n\r\nILaya.regClass(UIEvent);\r\nClassUtils.regClass(\"laya.ui.UIEvent\", UIEvent);\r\nClassUtils.regClass(\"Laya.UIEvent\", UIEvent);","import { Sprite } from \"../display/Sprite\"\r\nimport { ColorFilter } from \"../filters/ColorFilter\"\r\nimport { IFilter } from \"../filters/IFilter\"\r\nimport { Utils } from \"../utils/Utils\"\r\nimport { WeakObject } from \"../utils/WeakObject\"\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>UIUtils</code> 是文本工具集。\r\n */\r\nexport class UIUtils {\r\n    private static grayFilter: ColorFilter = new ColorFilter([0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0, 0, 0, 1, 0]);\r\n    /**\r\n     * 需要替换的转义字符表\r\n     */\r\n    static escapeSequence: any = { \"\\\\n\": \"\\n\", \"\\\\t\": \"\\t\" };\r\n\r\n    /**\r\n     * 用字符串填充数组，并返回数组副本。\r\n     * @param\tarr 源数组对象。\r\n     * @param\tstr 用逗号连接的字符串。如\"p1,p2,p3,p4\"。\r\n     * @param\ttype 如果值不为null，则填充的是新增值得类型。\r\n     * @return 填充后的数组。\r\n     */\r\n    static fillArray(arr: any[], str: string, type: typeof Number | typeof String = null): any[] {\r\n        var temp: any[] = arr.concat();\r\n        if (str) {\r\n            var a: any[] = str.split(\",\");\r\n            for (var i: number = 0, n: number = Math.min(temp.length, a.length); i < n; i++) {\r\n                var value: string = a[i];\r\n                temp[i] = (value == \"true\" ? true : (value == \"false\" ? false : value));\r\n                if (type != null) temp[i] = type(value);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    /**\r\n     * 转换uint类型颜色值为字符型颜色值。\r\n     * @param color uint颜色值。\r\n     * @return 字符型颜色值。\r\n     */\r\n    static toColor(color: number): string {\r\n        return Utils.toHexColor(color);\r\n    }\r\n\r\n    /**\r\n     * 给指定的目标显示对象添加或移除灰度滤镜。\r\n     * @param\ttraget 目标显示对象。\r\n     * @param\tisGray 如果值true，则添加灰度滤镜，否则移除灰度滤镜。\r\n     */\r\n    //TODO:coverage\r\n    static gray(traget: Sprite, isGray: boolean = true): void {\r\n        if (isGray) {\r\n            UIUtils.addFilter(traget, UIUtils.grayFilter);\r\n        } else {\r\n            UIUtils.clearFilter(traget, ColorFilter);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给指定的目标显示对象添加滤镜。\r\n     * @param\ttarget 目标显示对象。\r\n     * @param\tfilter 滤镜对象。\r\n     */\r\n    //TODO:coverage\r\n    static addFilter(target: Sprite, filter: IFilter): void {\r\n        var filters: any[] = target.filters || [];\r\n        filters.push(filter);\r\n        target.filters = filters;\r\n    }\r\n\r\n    /**\r\n     * 移除目标显示对象的指定类型滤镜。\r\n     * @param\ttarget 目标显示对象。\r\n     * @param\tfilterType 滤镜类型。\r\n     */\r\n    //TODO:coverage\r\n    static clearFilter(target: Sprite, filterType: new () => any): void {\r\n        var filters: any[] = target.filters;\r\n        if (filters != null && filters.length > 0) {\r\n            for (var i: number = filters.length - 1; i > -1; i--) {\r\n                var filter: any = filters[i];\r\n                if (filter instanceof filterType) filters.splice(i, 1);\r\n            }\r\n            target.filters = filters;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取当前要替换的转移字符\r\n     * @param word\r\n     * @return\r\n     *\r\n     */\r\n    //TODO:coverage\r\n    private static _getReplaceStr(word: string): string {\r\n        return UIUtils.escapeSequence[word];\r\n    }\r\n\r\n    /**\r\n     * 替换字符串中的转义字符\r\n     * @param str\r\n     */\r\n    static adptString(str: string): string {\r\n        return str.replace(/\\\\(\\w)/g, UIUtils._getReplaceStr);\r\n    }\r\n\r\n    /**@private */\r\n    private static _funMap: WeakObject = null;//new WeakObject();\r\n\r\n    /**\r\n     * @private 根据字符串，返回函数表达式\r\n     */\r\n    //TODO:coverage\r\n    static getBindFun(value: string): Function {\r\n        if (!UIUtils._funMap) {\r\n            UIUtils._funMap = new WeakObject();\r\n        }\r\n        var fun: Function = UIUtils._funMap.get(value);\r\n        if (fun == null) {\r\n            var temp: string = \"\\\"\" + value + \"\\\"\";\r\n            temp = temp.replace(/^\"\\${|}\"$/g, \"\").replace(/\\${/g, \"\\\"+\").replace(/}/g, \"+\\\"\");\r\n            var str: string = \"(function(data){if(data==null)return;with(data){try{\\nreturn \" + temp + \"\\n}catch(e){}}})\";\r\n            fun = (window as any).Laya._runScript(str);\r\n            UIUtils._funMap.set(value, fun);\r\n        }\r\n        return fun;\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.ui.UIUtils\", UIUtils);\r\nClassUtils.regClass(\"Laya.UIUtils\", UIUtils);","import { Widget } from \"./Widget\";\r\nimport { UIEvent } from \"./UIEvent\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { Node } from \"../display/Node\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>Component</code> 是ui控件类的基类。\r\n * <p>生命周期：preinitialize > createChildren > initialize > 组件构造函数</p>\r\n */\r\nexport class UIComponent extends Sprite {\r\n    /**X锚点，值为0-1，设置anchorX值最终通过pivotX值来改变节点轴心点。*/\r\n    protected _anchorX: number = NaN;\r\n    /**Y锚点，值为0-1，设置anchorY值最终通过pivotY值来改变节点轴心点。*/\r\n    protected _anchorY: number = NaN;\r\n    /**@private 控件的数据源。 */\r\n    protected _dataSource: any;\r\n    /**@private 鼠标悬停提示 */\r\n    protected _toolTip: any;\r\n    /**@private 标签 */\r\n    protected _tag: any;\r\n    /**@private 禁用 */\r\n    protected _disabled: boolean;\r\n    /**@private 变灰*/\r\n    protected _gray: boolean;\r\n    /**@private 相对布局组件*/\r\n    protected _widget: Widget = Widget.EMPTY;\r\n\r\n    /**\r\n     * <p>创建一个新的 <code>Component</code> 实例。</p>\r\n     */\r\n    constructor(createChildren = true) {\r\n        super();\r\n        if (createChildren) {\r\n            this.preinitialize();\r\n            this.createChildren();\r\n            this.initialize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._dataSource = null;\r\n        this._tag = null;\r\n        this._toolTip = null;\r\n    }\r\n\r\n    /**\r\n     * <p>预初始化。</p>\r\n     * 子类可在此函数内设置、修改属性默认值\r\n     */\r\n    protected preinitialize(): void {\r\n    }\r\n\r\n    /**\r\n     * <p>创建并添加控件子节点。</p>\r\n     * 子类可在此函数内创建并添加子节点。\r\n     */\r\n    protected createChildren(): void {\r\n    }\r\n\r\n    /**\r\n     * <p>控件初始化。</p>\r\n     * 在此子对象已被创建，可以对子对象进行修改。\r\n     */\r\n    protected initialize(): void {\r\n    }\r\n\r\n    /**\r\n     * <p>表示显示对象的宽度，以像素为单位。</p>\r\n     * <p><b>注：</b>当值为0时，宽度为自适应大小。</p>\r\n     *@override\r\n     */\r\n    get width(): number {\r\n        return this.get_width();\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    get_width(): number {\r\n        if (this._width) return this._width;\r\n        return this.measureWidth();\r\n    }\r\n\r\n    /**\r\n     * <p>显示对象的实际显示区域宽度（以像素为单位）。</p>\r\n     */\r\n    protected measureWidth(): number {\r\n        var max: number = 0;\r\n        this.commitMeasure();\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var comp: Sprite = (<Sprite>this.getChildAt(i));\r\n            if (comp._visible) {\r\n                max = Math.max(comp._x + comp.width * comp.scaleX, max);\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n\r\n    /**\r\n     * <p>立即执行影响宽高度量的延迟调用函数。</p>\r\n     * <p>使用 <code>runCallLater</code> 函数，立即执行影响宽高度量的延迟运行函数(使用 <code>callLater</code> 设置延迟执行函数)。</p>\r\n     * @see #callLater()\r\n     * @see #runCallLater()\r\n     */\r\n    protected commitMeasure(): void {\r\n    }\r\n\r\n    /**\r\n     * <p>表示显示对象的高度，以像素为单位。</p>\r\n     * <p><b>注：</b>当值为0时，高度为自适应大小。</p>\r\n     * @override\r\n     */\r\n    get height(): number {\r\n        return this.get_height();\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    get_height(): number {\r\n        if (this._height) return this._height;\r\n        return this.measureHeight();\r\n    }\r\n\r\n    /**\r\n     * <p>显示对象的实际显示区域高度（以像素为单位）。</p>\r\n     */\r\n    protected measureHeight(): number {\r\n        var max: number = 0;\r\n        this.commitMeasure();\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var comp: Sprite = (<Sprite>this.getChildAt(i));\r\n            if (comp._visible) {\r\n                max = Math.max(comp._y + comp.height * comp.scaleY, max);\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n\r\n    /**\r\n     * @implements\r\n     * <p>数据赋值，通过对UI赋值来控制UI显示逻辑。</p>\r\n     * <p>简单赋值会更改组件的默认属性，使用大括号可以指定组件的任意属性进行赋值。</p>\r\n     * @example\r\n       //默认属性赋值\r\n       dataSource = {label1: \"改变了label\", checkbox1: true};//(更改了label1的text属性值，更改checkbox1的selected属性)。\r\n       //任意属性赋值\r\n       dataSource = {label2: {text:\"改变了label\",size:14}, checkbox2: {selected:true,x:10}};\r\n     */\r\n    get dataSource(): any {\r\n        return this.get_dataSource();\r\n    }\r\n\r\n    get_dataSource(): any {\r\n        return this._dataSource;\r\n    }\r\n\r\n    set dataSource(value: any) {\r\n        this.set_dataSource(value);\r\n    }\r\n\r\n    set_dataSource(value: any) {\r\n        this._dataSource = value;\r\n        for (var prop in this._dataSource) {\r\n            if (prop in this && !(typeof (this[prop]) == 'function')) {\r\n                this[prop] = this._dataSource[prop];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件顶边到其内容区域顶边之间的垂直距离（以像素为单位）。</p>\r\n     */\r\n    get top(): number {\r\n        return this.get_top();\r\n    }\r\n\r\n    get_top(): number {\r\n        return this._widget.top;\r\n    }\r\n\r\n    set top(value: number) {\r\n        this.set_top(value);\r\n    }\r\n\r\n    set_top(value: number) {\r\n        if (value != this._widget.top) {\r\n            this._getWidget().top = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件底边到其内容区域底边之间的垂直距离（以像素为单位）。</p>\r\n     */\r\n    get bottom(): number {\r\n        return this.get_bottom();\r\n    }\r\n\r\n    get_bottom(): number {\r\n        return this._widget.bottom;\r\n    }\r\n\r\n    set bottom(value: number) {\r\n        this.set_bottom(value);\r\n    }\r\n\r\n    set_bottom(value: number) {\r\n        if (value != this._widget.bottom) {\r\n            this._getWidget().bottom = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件左边到其内容区域左边之间的水平距离（以像素为单位）。</p>\r\n     */\r\n    get left(): number {\r\n        return this._widget.left;\r\n    }\r\n\r\n    set left(value: number) {\r\n        if (value != this._widget.left) {\r\n            this._getWidget().left = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件右边到其内容区域右边之间的水平距离（以像素为单位）。</p>\r\n     */\r\n    get right(): number {\r\n        return this._widget.right;\r\n    }\r\n\r\n    set right(value: number) {\r\n        if (value != this._widget.right) {\r\n            this._getWidget().right = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>在父容器中，此对象的水平方向中轴线与父容器的水平方向中心线的距离（以像素为单位）。</p>\r\n     */\r\n    get centerX(): number {\r\n        return this._widget.centerX;\r\n    }\r\n\r\n    set centerX(value: number) {\r\n        if (value != this._widget.centerX) {\r\n            this._getWidget().centerX = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>在父容器中，此对象的垂直方向中轴线与父容器的垂直方向中心线的距离（以像素为单位）。</p>\r\n     */\r\n    get centerY(): number {\r\n        return this._widget.centerY;\r\n    }\r\n\r\n    set centerY(value: number) {\r\n        if (value != this._widget.centerY) {\r\n            this._getWidget().centerY = value;\r\n        }\r\n    }\r\n\r\n    protected _sizeChanged(): void {\r\n        if (!isNaN(this._anchorX)) this.pivotX = this.anchorX * this.width;\r\n        if (!isNaN(this._anchorY)) this.pivotY = this.anchorY * this.height;\r\n        this.event(Event.RESIZE);\r\n        if (this._widget !== Widget.EMPTY) this._widget.resetLayout();\r\n    }\r\n\r\n    /**\r\n     * <p>对象的标签。</p>\r\n     * 冗余字段，可以用来储存数据。\r\n     */\r\n    get tag(): any {\r\n        return this._tag;\r\n    }\r\n\r\n    set tag(value: any) {\r\n        this._tag = value;\r\n    }\r\n\r\n    /**\r\n     * <p>鼠标悬停提示。</p>\r\n     * <p>可以赋值为文本 <code>String</code> 或函数 <code>Handler</code> ，用来实现自定义样式的鼠标提示和参数携带等。</p>\r\n     * @example\r\n     * private var _testTips:TestTipsUI = new TestTipsUI();\r\n     * private function testTips():void {\r\n       //简单鼠标提示\r\n     * btn2.toolTip = \"这里是鼠标提示&lt;b&gt;粗体&lt;/b&gt;&lt;br&gt;换行\";\r\n       //自定义的鼠标提示\r\n     * btn1.toolTip = showTips1;\r\n       //带参数的自定义鼠标提示\r\n     * clip.toolTip = new Handler(this,showTips2, [\"clip\"]);\r\n     * }\r\n     * private function showTips1():void {\r\n     * _testTips.label.text = \"这里是按钮[\" + btn1.label + \"]\";\r\n     * tip.addChild(_testTips);\r\n     * }\r\n     * private function showTips2(name:String):void {\r\n     * _testTips.label.text = \"这里是\" + name;\r\n     * tip.addChild(_testTips);\r\n     * }\r\n     */\r\n    get toolTip(): any {\r\n        return this._toolTip;\r\n    }\r\n\r\n    set toolTip(value: any) {\r\n        if (this._toolTip != value) {\r\n            this._toolTip = value;\r\n            if (value != null) {\r\n                this.on(Event.MOUSE_OVER, this, this.onMouseOver);\r\n                this.on(Event.MOUSE_OUT, this, this.onMouseOut);\r\n            } else {\r\n                this.off(Event.MOUSE_OVER, this, this.onMouseOver);\r\n                this.off(Event.MOUSE_OUT, this, this.onMouseOut);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对象的 <code>Event.MOUSE_OVER</code> 事件侦听处理函数。\r\n     */\r\n    private onMouseOver(e: Event): void {\r\n        ILaya.stage.event(UIEvent.SHOW_TIP, this._toolTip);\r\n    }\r\n\r\n    /**\r\n     * 对象的 <code>Event.MOUSE_OUT</code> 事件侦听处理函数。\r\n     */\r\n    private onMouseOut(e: Event): void {\r\n        ILaya.stage.event(UIEvent.HIDE_TIP, this._toolTip);\r\n    }\r\n\r\n    /** 是否变灰。*/\r\n    get gray(): boolean {\r\n        return this._gray;\r\n    }\r\n\r\n    set gray(value: boolean) {\r\n        if (value !== this._gray) {\r\n            this._gray = value;\r\n            UIUtils.gray(this, value);\r\n        }\r\n    }\r\n\r\n    /** 是否禁用页面，设置为true后，会变灰并且禁用鼠标。*/\r\n    get disabled(): boolean {\r\n        return this._disabled;\r\n    }\r\n\r\n    set disabled(value: boolean) {\r\n        if (value !== this._disabled) {\r\n            this.gray = this._disabled = value;\r\n            this.mouseEnabled = !value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * <p>获取对象的布局样式。请不要直接修改此对象</p>\r\n     */\r\n    private _getWidget(): Widget {\r\n        this._widget === Widget.EMPTY && (this._widget = this.addComponent(Widget));\r\n        return this._widget;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set scaleX(value: number) {\r\n        this.set_scaleX(value);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set_scaleX(value: number) {\r\n        if (super.get_scaleX() == value) return;\r\n        super.set_scaleX(value);\r\n        this.event(Event.RESIZE);\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get scaleX() {\r\n        return super.scaleX;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set scaleY(value: number) {\r\n        this.set_scaleY(value);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set_scaleY(value: number) {\r\n        if (super.get_scaleY() == value) return;\r\n        super.set_scaleY(value);\r\n        this.event(Event.RESIZE);\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get scaleY() {\r\n        return super.scaleY;\r\n    }\r\n\r\n    /**@private */\r\n    protected onCompResize(): void {\r\n        this._sizeChanged();\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set width(value: number) {\r\n        this.set_width(value);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set_width(value: number) {\r\n        if (super.get_width() == value) return;\r\n        super.set_width(value);\r\n        this.callLater(this._sizeChanged);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set height(value: number) {\r\n        this.set_height(value);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set_height(value: number) {\r\n        if (super.get_height() == value) return;\r\n        super.set_height(value);\r\n        this.callLater(this._sizeChanged);\r\n    }\r\n\r\n    /**X锚点，值为0-1，设置anchorX值最终通过pivotX值来改变节点轴心点。*/\r\n    get anchorX(): number {\r\n        return this.get_anchorX();\r\n    }\r\n\r\n    get_anchorX(): number {\r\n        return this._anchorX;\r\n    }\r\n\r\n    set anchorX(value: number) {\r\n        this.set_anchorX(value);\r\n    }\r\n\r\n    set_anchorX(value: number) {\r\n        if (this._anchorX != value) {\r\n            this._anchorX = value;\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n    }\r\n\r\n    /**Y锚点，值为0-1，设置anchorY值最终通过pivotY值来改变节点轴心点。*/\r\n    get anchorY(): number {\r\n        return this.get_anchorY();\r\n    }\r\n\r\n    get_anchorY(): number {\r\n        return this._anchorY;\r\n    }\r\n\r\n    set anchorY(value: number) {\r\n        this.set_anchorY(value);\r\n    }\r\n\r\n    set_anchorY(value: number) {\r\n        if (this._anchorY != value) {\r\n            this._anchorY = value\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param child \r\n     * @override\r\n     */\r\n    protected _childChanged(child: Node = null): void {\r\n        this.callLater(this._sizeChanged);\r\n        super._childChanged(child);\r\n    }\r\n}\r\n\r\nILaya.regClass(UIComponent);\r\nClassUtils.regClass(\"laya.ui.UIComponent\", UIComponent);\r\nClassUtils.regClass(\"Laya.UIComponent\", UIComponent);","import { Styles } from \"./Styles\";\r\nimport { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Texture } from \"../resource/Texture\"\r\nimport { AutoBitmap } from \"./AutoBitmap\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { UIUtils } from \"./UIUtils\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 资源加载完成后调度。\r\n * @eventType Event.LOADED\r\n */\r\n/*[Event(name = \"loaded\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>Image</code> 类是用于表示位图图像或绘制图形的显示对象。\r\n * Image和Clip组件是唯一支持异步加载的两个组件，比如img.skin = \"abc/xxx.png\"，其他UI组件均不支持异步加载。\r\n * \r\n * @example <caption>以下示例代码，创建了一个新的 <code>Image</code> 实例，设置了它的皮肤、位置信息，并添加到舞台上。</caption>\r\n *\tpackage\r\n *\t {\r\n *\t\timport laya.ui.Image;\r\n *\t\tpublic class Image_Example\r\n *\t\t{\r\n *\t\t\tpublic function Image_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tonInit();\r\n *\t\t\t}\r\n *\t\t\tprivate function onInit():void\r\n *\t \t\t{\r\n *\t\t\t\tvar bg:Image = new Image(\"resource/ui/bg.png\");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。\r\n *\t\t\t\tbg.x = 100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。\r\n *\t\t\t\tbg.y = 100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。\r\n *\t\t\t\tbg.sizeGrid = \"40,10,5,10\";//设置 bg 对象的网格信息。\r\n *\t\t\t\tbg.width = 150;//设置 bg 对象的宽度。\r\n *\t\t\t\tbg.height = 250;//设置 bg 对象的高度。\r\n *\t\t\t\tLaya.stage.addChild(bg);//将此 bg 对象添加到显示列表。\r\n *\t\t\t\tvar image:Image = new Image(\"resource/ui/image.png\");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。\r\n *\t\t\t\timage.x = 100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。\r\n *\t\t\t\timage.y = 100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。\r\n *\t\t\t\tLaya.stage.addChild(image);//将此 image 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t}\r\n *\t }\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * onInit();\r\n * function onInit() {\r\n *     var bg = new laya.ui.Image(\"resource/ui/bg.png\");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。\r\n *     bg.x = 100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。\r\n *     bg.y = 100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。\r\n *     bg.sizeGrid = \"40,10,5,10\";//设置 bg 对象的网格信息。\r\n *     bg.width = 150;//设置 bg 对象的宽度。\r\n *     bg.height = 250;//设置 bg 对象的高度。\r\n *     Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。\r\n *     var image = new laya.ui.Image(\"resource/ui/image.png\");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。\r\n *     image.x = 100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。\r\n *     image.y = 100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。\r\n *     Laya.stage.addChild(image);//将此 image 对象添加到显示列表。\r\n * }\r\n * @example\r\n * class Image_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         this.onInit();\r\n *     }\r\n *     private onInit(): void {\r\n *         var bg: laya.ui.Image = new laya.ui.Image(\"resource/ui/bg.png\");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。\r\n *         bg.x = 100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。\r\n *         bg.y = 100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。\r\n *         bg.sizeGrid = \"40,10,5,10\";//设置 bg 对象的网格信息。\r\n *         bg.width = 150;//设置 bg 对象的宽度。\r\n *         bg.height = 250;//设置 bg 对象的高度。\r\n *         Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。\r\n *         var image: laya.ui.Image = new laya.ui.Image(\"resource/ui/image.png\");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。\r\n *         image.x = 100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。\r\n *         image.y = 100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。\r\n *         Laya.stage.addChild(image);//将此 image 对象添加到显示列表。\r\n *     }\r\n * }\r\n * @see laya.ui.AutoBitmap\r\n */\r\nexport class Image extends UIComponent {\r\n    /**@internal */\r\n    _bitmap: AutoBitmap;\r\n    /**@private */\r\n    protected _skin: string;\r\n    /**@private */\r\n    protected _group: string;\r\n\r\n    /**\r\n     * 创建一个 <code>Image</code> 实例。\r\n     * @param skin 皮肤资源地址。\r\n     */\r\n    constructor(skin: string = null) {\r\n        super();\r\n        this.skin = skin;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tdestroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._bitmap && this._bitmap.destroy();\r\n        this._bitmap = null;\r\n    }\r\n\r\n    /**\r\n     * 销毁对象并释放加载的皮肤资源。\r\n     */\r\n    dispose(): void {\r\n        this.destroy(true);\r\n        ILaya.loader.clearRes(this._skin);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected createChildren(): void {\r\n        this.graphics = this._bitmap = new AutoBitmap();\r\n        this._bitmap.autoCacheCmd = false;\r\n    }\r\n\r\n    /**\r\n     * <p>对象的皮肤地址，以字符串表示。</p>\r\n     * <p>如果资源未加载，则先加载资源，加载完成后应用于此对象。</p>\r\n     * <b>注意：</b>资源加载完成后，会自动缓存至资源库中。\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (value) {\r\n                var source: Texture = Loader.getRes(value);\r\n                if (source) {\r\n                    this.source = source;\r\n                    this.onCompResize();\r\n                } else ILaya.loader.load(this._skin, Handler.create(this, this.setSource, [this._skin]), null, Loader.IMAGE, 1, true, this._group);\r\n            } else {\r\n                this.source = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.AutoBitmap#source\r\n     */\r\n    get source(): Texture {\r\n        return this._bitmap.source;\r\n    }\r\n\r\n    set source(value: Texture) {\r\n        if (!this._bitmap) return;\r\n        this._bitmap.source = value;\r\n        this.event(Event.LOADED);\r\n        this.repaint();\r\n    }\r\n\r\n    /**\r\n     * 资源分组。\r\n     */\r\n    get group(): string {\r\n        return this._group;\r\n    }\r\n\r\n    set group(value: string) {\r\n        if (value && this._skin) Loader.setGroup(this._skin, value);\r\n        this._group = value;\r\n    }\r\n    /**\r\n     * @private\r\n     * 设置皮肤资源。\r\n     */\r\n    protected setSource(url: string, img: any = null): void {\r\n        if (url === this._skin && img) {\r\n            this.source = img\r\n            this.onCompResize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected measureWidth(): number {\r\n        return this._bitmap.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected measureHeight(): number {\r\n        return this._bitmap.height;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this._bitmap.width = value == 0 ? 0.0000001 : value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override \r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this._bitmap.height = value == 0 ? 0.0000001 : value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"。</li></ul></p>\r\n     * @see laya.ui.AutoBitmap#sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        if (this._bitmap.sizeGrid) return this._bitmap.sizeGrid.join(\",\");\r\n        return null;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bitmap.sizeGrid = UIUtils.fillArray(Styles.defaultSizeGrid, value, Number);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'string') this.skin = value as string;\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n}\r\n\r\n\r\nILaya.regClass(Image);\r\nClassUtils.regClass(\"laya.ui.Image\", Image);\r\nClassUtils.regClass(\"Laya.Image\", Image);","import { Image } from \"./Image\";\r\nimport { Event } from \"../events/Event\"\r\nimport { LocalStorage } from \"../net/LocalStorage\"\r\nimport { Browser } from \"../utils/Browser\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 广告插件 \r\n * @author 小松\r\n * @date -2018-09-19\r\n */\r\nexport class AdvImage extends Image {\r\n\t/**广告列表数据**/\r\n\tprivate advsListArr: any[] = [];\r\n\t/**资源列表请求地址**/\r\n\tprivate resUrl: string = \"https://unioncdn.layabox.com/config/iconlist.json\";\r\n\t/**加载请求实例**/\r\n\tprivate _http: any = new Browser.window.XMLHttpRequest();\r\n\t/**广告列表信息**/\r\n\tprivate _data: any = [];\r\n\t/**每6分钟重新请求一次新广告列表**/\r\n\tprivate _resquestTime: number = 360000;\r\n\t/**微信跳转appid**/\r\n\tprivate _appid: string;\r\n\t/**播放索引**/\r\n\tprivate _playIndex: number = 0;\r\n\t/**轮播间隔时间**/\r\n\tprivate _lunboTime: number = 5000;\r\n\tconstructor(skin: string = null) {\r\n\t\tsuper();\r\n\t\tthis.skin = skin;\r\n\t\tthis.setLoadUrl();\r\n\t\tthis.init();\r\n\t\tthis.size(120, 120);\r\n\t}\r\n\r\n\t/**设置导量加载地址**/\r\n\tprivate setLoadUrl(): void {\r\n\t}\r\n\r\n\tprivate init(): void {\r\n\t\tif (this.isSupportJump()) {\r\n\t\t\t//这里需要去加载广告列表资源信息\r\n\t\t\tif (Browser.onMiniGame || Browser.onBDMiniGame) {\r\n\t\t\t\tILaya.timer.loop(this._resquestTime, this, this.onGetAdvsListData);\r\n\t\t\t}\r\n\t\t\tthis.onGetAdvsListData();\r\n\t\t\tthis.initEvent();\r\n\t\t} else\r\n\t\t\tthis.visible = false;\r\n\t}\r\n\r\n\tprivate initEvent(): void {\r\n\t\tthis.on(Event.CLICK, this, this.onAdvsImgClick);\r\n\t}\r\n\r\n\tprivate onAdvsImgClick(): void {\r\n\t\tvar currentJumpUrl: string = this.getCurrentAppidObj();\r\n\t\tif (currentJumpUrl)\r\n\t\t\tthis.jumptoGame();\r\n\t}\r\n\r\n\tprivate revertAdvsData(): void {\r\n\t\tif (this.advsListArr[this._playIndex]) {\r\n\t\t\tthis.visible = true;\r\n\t\t\tthis.skin = this.advsListArr[this._playIndex];\r\n\t\t}\r\n\t}\r\n\r\n\t/**当前小游戏环境是否支持游戏跳转功能**/\r\n\tisSupportJump(): boolean {\r\n\t\tif (Browser.onMiniGame) {\r\n\t\t\tvar isSupperJump: boolean = (window as any).wx.navigateToMiniProgram instanceof Function;\r\n\t\t\treturn isSupperJump;\r\n\t\t} else if (Browser.onBDMiniGame)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * 跳转游戏 \r\n\t * @param callBack Function 回调参数说明：type 0 跳转成功；1跳转失败；2跳转接口调用成功\r\n\t */\r\n\tprivate jumptoGame(): void {\r\n\t\tvar advsObj: any = this.advsListArr[this._playIndex];\r\n\t\tvar desGameId: number = parseInt(advsObj.gameid); //跳转的gameid，必须为数字\r\n\t\tvar extendInfo: number = advsObj.extendInfo; //额外参数，必须为字符串\r\n\t\tvar path: any = advsObj.path;//扩展数据\r\n\t\tif (Browser.onMiniGame) {\r\n\t\t\tif (this.isSupportJump()) {\r\n\t\t\t\t(window as any).wx.navigateToMiniProgram({\r\n\t\t\t\t\tappId: this._appid,\r\n\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\textraData: \"\",\r\n\t\t\t\t\tenvVersion: \"release\",\r\n\t\t\t\t\tsuccess: function success(): void {\r\n\t\t\t\t\t\tconsole.log(\"-------------跳转成功--------------\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function fail(): void {\r\n\t\t\t\t\t\tconsole.log(\"-------------跳转失败--------------\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function complete(): void {\r\n\t\t\t\t\t\tconsole.log(\"-------------跳转接口调用成功--------------\");\r\n\t\t\t\t\t\tthis.updateAdvsInfo();\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if (Browser.onBDMiniGame) {\r\n\r\n\t\t} else {\r\n\t\t\tthis.visible = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateAdvsInfo(): void {\r\n\t\tthis.visible = false;\r\n\t\tthis.onLunbo();\r\n\t\tILaya.timer.loop(this._lunboTime, this, this.onLunbo);\r\n\t}\r\n\r\n\tprivate onLunbo(): void {\r\n\t\tif (this._playIndex >= this.advsListArr.length - 1)\r\n\t\t\tthis._playIndex = 0;\r\n\t\telse\r\n\t\t\tthis._playIndex += 1;\r\n\t\tthis.visible = true;\r\n\t\tthis.revertAdvsData();\r\n\t}\r\n\r\n\t/**获取轮播数据**/\r\n\tprivate getCurrentAppidObj(): string {\r\n\t\treturn this.advsListArr[this._playIndex];\r\n\t}\r\n\r\n\t/**\r\n\t * 获取广告列表数据信息 \r\n\t */\r\n\tprivate onGetAdvsListData(): void {\r\n\t\tvar _this: any = this;\r\n\t\tvar random: number = AdvImage.randRange(10000, 1000000);\r\n\t\tvar url: string = this.resUrl + \"?\" + random;\r\n\t\tthis._http.open(\"get\", url, true);\r\n\t\tthis._http.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\")\r\n\t\tthis._http.responseType = \"text\";\r\n\t\tthis._http.onerror = function (e: any): void {\r\n\t\t\t_this._onError(e);\r\n\t\t}\r\n\t\tthis._http.onload = function (e: any): void {\r\n\t\t\t_this._onLoad(e);\r\n\t\t}\r\n\t\tthis._http.send(null);\r\n\t}\r\n\r\n\t/**\r\n\t * 生成指定范围的随机数\r\n\t * @param {*} minNum 最小值\r\n\t * @param {*} maxNum 最大值\r\n\t */\r\n\tstatic randRange(minNum, maxNum): number {\r\n\t\treturn (Math.floor(Math.random() * (maxNum - minNum + 1)) + minNum);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 请求出错侦的听处理函数。\r\n\t * @param\te 事件对象。\r\n\t */\r\n\tprivate _onError(e: any): void {\r\n\t\tthis.error(\"Request failed Status:\" + this._http.status + \" text:\" + this._http.statusText);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 请求消息返回的侦听处理函数。\r\n\t * @param\te 事件对象。\r\n\t */\r\n\tprivate _onLoad(e: any): void {\r\n\t\tvar http: any = this._http;\r\n\t\tvar status: number = http.status !== undefined ? http.status : 200;\r\n\t\tif (status === 200 || status === 204 || status === 0) {\r\n\t\t\tthis.complete();\r\n\t\t} else {\r\n\t\t\tthis.error(\"[\" + http.status + \"]\" + http.statusText + \":\" + http.responseURL);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 请求错误的处理函数。\r\n\t * @param\tmessage 错误信息。\r\n\t */\r\n\tprivate error(message: string): void {\r\n\t\tthis.event(Event.ERROR, message);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 请求成功完成的处理函数。\r\n\t */\r\n\tprivate complete(): void {\r\n\t\tvar flag: boolean = true;\r\n\t\ttry {\r\n\t\t\tthis._data = this._http.response || this._http.responseText;\r\n\t\t\tthis._data = JSON.parse(this._data);\r\n\t\t\t//加载成功，做出回调通知处理\r\n\t\t\t//百度，微信\r\n\t\t\tthis.advsListArr = this._data.list;\r\n\t\t\tthis._appid = this._data.appid;\r\n\t\t\tthis.updateAdvsInfo();\r\n\t\t\tthis.revertAdvsData();\r\n\r\n\t\t} catch (e) {\r\n\t\t\tflag = false;\r\n\t\t\tthis.error(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\t/**转换数据**/\r\n\tprivate getAdvsQArr(data: any): any[] {\r\n\t\tvar tempArr: any[] = [];\r\n\t\tvar gameAdvsObj: any = LocalStorage.getJSON(\"gameObj\");\r\n\t\tfor (var key in data) {\r\n\t\t\tvar tempObj: any = data[key];\r\n\t\t\tif (gameAdvsObj && gameAdvsObj[tempObj.gameid] && !tempObj.isQiangZhi)\r\n\t\t\t\tcontinue;//如果游戏id之前点击过就跳过，放弃轮播显示\r\n\t\t\ttempArr.push(tempObj);\r\n\t\t}\r\n\t\treturn tempArr;\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 清除当前请求。\r\n\t */\r\n\tprivate clear(): void {\r\n\t\tvar http: any = this._http;\r\n\t\thttp.onerror = http.onabort = http.onprogress = http.onload = null;\r\n\t}\r\n\t/**\r\n\t * @override\r\n\t * @param destroyChild \r\n\t */\r\n \tdestroy(destroyChild: boolean = true): void {\r\n\t\tILaya.timer.clear(this, this.onLunbo);\r\n\t\tsuper.destroy(true);\r\n\t\tthis.clear();\r\n\t\tILaya.timer.clear(this, this.onGetAdvsListData);\r\n\t}\r\n}\r\n\r\nClassUtils.regClass(\"laya.ui.AdvImage\", AdvImage);\r\nClassUtils.regClass(\"Laya.AdvImage\", AdvImage);","import { UIComponent } from \"./UIComponent\";\r\nimport { IBox } from \"./IBox\";\r\nimport { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>Box</code> 类是一个控件容器类。\r\n */\r\nexport class Box extends UIComponent implements IBox {\r\n    private _bgColor: string;\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        for (var name in value) {\r\n            var comp: UIComponent = (<UIComponent>this.getChildByName(name));\r\n            if (comp) comp.dataSource = value[name];\r\n            else if (name in this && !(this[name] instanceof Function)) this[name] = value[name];\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**背景颜色*/\r\n    get bgColor(): string {\r\n        return this._bgColor;\r\n    }\r\n\r\n    set bgColor(value: string) {\r\n        this._bgColor = value;\r\n        if (value) {\r\n            this._onResize(null);\r\n            this.on(Event.RESIZE, this, this._onResize);\r\n        } else {\r\n            this.graphics.clear();\r\n            this.off(Event.RESIZE, this, this._onResize);\r\n        }\r\n    }\r\n\r\n    private _onResize(e: Event): void {\r\n        this.graphics.clear();\r\n        this.graphics.drawRect(0, 0, this.width, this.height, this._bgColor);\r\n    }\r\n}\r\n\r\nILaya.regClass(Box);\r\nClassUtils.regClass(\"laya.ui.Box\", Box);\r\nClassUtils.regClass(\"Laya.Box\", Box);","import { UIComponent } from \"./UIComponent\";\r\nimport { ISelect } from \"./ISelect\";\r\nimport { Styles } from \"./Styles\";\r\nimport { Const } from \"../Const\"\r\nimport { Text } from \"../display/Text\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Texture } from \"../resource/Texture\"\r\nimport { AutoBitmap } from \"./AutoBitmap\"\r\nimport { UIUtils } from \"./UIUtils\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { Utils } from \"../utils/Utils\"\r\nimport { WeakObject } from \"../utils/WeakObject\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当按钮的选中状态（ <code>selected</code> 属性）发生改变时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>Button</code> 组件用来表示常用的多态按钮。 <code>Button</code> 组件可显示文本标签、图标或同时显示两者。\t *\r\n * <p>可以是单态，两态和三态，默认三态(up,over,down)。</p>\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>Button</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Button;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class Button_Example\r\n *\t\t{\r\n *\t\t\tpublic function Button_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load(\"resource/ui/button.png\", Handler.create(this,onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"资源加载完成！\");\r\n *\t\t\t\tvar button:Button = new Button(\"resource/ui/button.png\",\"label\");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。\r\n *\t\t\t\tbutton.x = 100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n *\t\t\t\tbutton.y = 100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n *\t\t\t\tbutton.clickHandler = new Handler(this, onClickButton,[button]);//设置 button 的点击事件处理器。\r\n *\t\t\t\tLaya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onClickButton(button:Button):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"按钮button被点击了！\");\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n * Laya.loader.load(\"resource/ui/button.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n * function loadComplete()\r\n * {\r\n *     console.log(\"资源加载完成！\");\r\n *     var button = new laya.ui.Button(\"resource/ui/button.png\",\"label\");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。\r\n *     button.x =100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n *     button.y =100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n *     button.clickHandler = laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理函数。\r\n *     Laya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n * }\r\n * function onClickButton(button)\r\n * {\r\n *     console.log(\"按钮被点击了。\",button);\r\n * }\r\n * @example\r\n * import Button=laya.ui.Button;\r\n * import Handler=laya.utils.Handler;\r\n * class Button_Example{\r\n *     constructor()\r\n *     {\r\n *         Laya.init(640, 800);\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load(\"resource/ui/button.png\", laya.utils.Handler.create(this,this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete()\r\n *     {\r\n *         var button:Button = new Button(\"resource/ui/button.png\",\"label\");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。\r\n *         button.x = 100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n *         button.y = 100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n *         button.clickHandler = new Handler(this, this.onClickButton,[button]);//设置 button 的点击事件处理器。\r\n *         Laya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n *     }\r\n *     private onClickButton(button:Button):void\r\n *     {\r\n *         console.log(\"按钮button被点击了！\")\r\n *     }\r\n * }\r\n */\r\nexport class Button extends UIComponent implements ISelect {\r\n    /**\r\n     * 按钮状态集。\r\n     */\r\n    protected static stateMap: any = { \"mouseup\": 0, \"mouseover\": 1, \"mousedown\": 2, \"mouseout\": 0 };\r\n\r\n    /**\r\n     * 指定按钮按下时是否是切换按钮的显示状态。\r\n     *\r\n     * @example 以下示例代码，创建了一个 <code>Button</code> 实例，并设置为切换按钮。\r\n     * @example\r\n     * package\r\n     *\t{\r\n     *\t\timport laya.ui.Button;\r\n     *\t\timport laya.utils.Handler;\r\n     *\t\tpublic class Button_toggle\r\n     *\t\t{\r\n     *\t\t\tpublic function Button_toggle()\r\n     *\t\t\t{\r\n     *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n     *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n     *\t\t\t\tLaya.loader.load(\"resource/ui/button.png\", Handler.create(this,onLoadComplete));\r\n     *\t\t\t}\r\n     *\t\t\tprivate function onLoadComplete():void\r\n     *\t\t\t{\r\n     *\t\t\t\ttrace(\"资源加载完成！\");\r\n     *\t\t\t\tvar button:Button = new Button(\"resource/ui/button.png\",\"label\");//创建一个 Button 实例对象 button ,传入它的皮肤skin和标签label。\r\n     *\t\t\t\tbutton.x = 100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n     *\t\t\t\tbutton.y = 100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n     *\t\t\t\tbutton.toggle = true;//设置 button 对象为切换按钮。\r\n     *\t\t\t\tbutton.clickHandler = new Handler(this, onClickButton,[button]);//设置 button 的点击事件处理器。\r\n     *\t\t\t\tLaya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n     *\t \t\t}\r\n     *\t\t\tprivate function onClickButton(button:Button):void\r\n     *\t\t\t{\r\n     *\t\t\t\ttrace(\"button.selected = \"+ button.selected);\r\n     *\t\t\t}\r\n     *\t\t}\r\n     *\t}\r\n     * @example\r\n     * Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n     * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n     * Laya.loader.load(\"resource/ui/button.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n     * function loadComplete()\r\n     * {\r\n     *     console.log(\"资源加载完成！\");\r\n     *     var button = new laya.ui.Button(\"resource/ui/button.png\",\"label\");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。\r\n     *     button.x =100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n     *     button.y =100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n     *     button.toggle = true;//设置 button 对象为切换按钮。\r\n     *     button.clickHandler = laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理器。\r\n     *     Laya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n     * }\r\n     * function onClickButton(button)\r\n     * {\r\n     *     console.log(\"button.selected = \",button.selected);\r\n     * }\r\n     * @example\r\n     * Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n     * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n     * Laya.loader.load(\"button.png\", null,null, null, null, null);//加载资源\r\n     * function loadComplete() {\r\n     *     console.log(\"资源加载完成！\");\r\n     *     var button:laya.ui.Button = new laya.ui.Button(\"button.png\", \"label\");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。\r\n     *     button.x = 100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n     *     button.y = 100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n     *     button.toggle = true;//设置 button 对象为切换按钮。\r\n     *     button.clickHandler = laya.utils.Handler.create(this, onClickButton, [button], false);//设置 button 的点击事件处理器。\r\n     *     Laya.stage.addChild(button);//将此 button 对象添加到显示列表。\r\n     * }\r\n     * function onClickButton(button) {\r\n     *     console.log(\"button.selected = \", button.selected);\r\n     * }\r\n     */\r\n    toggle: boolean;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _bitmap: AutoBitmap;\r\n    /**\r\n     * @private\r\n     * 按钮上的文本。\r\n     */\r\n    protected _text: Text;\r\n    /**\r\n     * @private\r\n     * 按钮文本标签的颜色值。\r\n     */\r\n    protected _labelColors: any[] = Styles.buttonLabelColors;\r\n    /**\r\n     * @private\r\n     * 按钮文本标签描边的颜色值。\r\n     */\r\n    protected _strokeColors: any[];\r\n    /**\r\n     * @private\r\n     * 按钮的状态值。\r\n     */\r\n    protected _state: number = 0;\r\n    /**\r\n     * @private\r\n     * 表示按钮的选中状态。\r\n     */\r\n    protected _selected: boolean;\r\n    /**\r\n     * @private\r\n     * 按钮的皮肤资源。\r\n     */\r\n    protected _skin: string;\r\n    /**\r\n     * @private\r\n     * 指定此显示对象是否自动计算并改变大小等属性。\r\n     */\r\n    protected _autoSize: boolean = true;        // 注意 由于构造函数执行顺序的区别，这里设置为true真的会导致ts的值为true，as的为false （as的 后调用super）\r\n    /**\r\n     * @private\r\n     * 按钮的状态数。\r\n     */\r\n    protected _stateNum: number = Styles.buttonStateNum;\r\n    /**\r\n     * @private\r\n     * 源数据。\r\n     */\r\n    protected _sources: any[];\r\n    /**\r\n     * @private\r\n     * 按钮的点击事件函数。\r\n     */\r\n    protected _clickHandler: Handler;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _stateChanged: boolean = false;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Button</code> 类实例。\r\n     * @param skin 皮肤资源地址。\r\n     * @param label 按钮的文本内容。\r\n     */\r\n    constructor(skin: string = null, label: string = \"\") {\r\n        super();\r\n        this.skin = skin;\r\n        this.label = label;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._bitmap && this._bitmap.destroy();\r\n        this._text && this._text.destroy(destroyChild);\r\n        this._bitmap = null;\r\n        this._text = null;\r\n        this._clickHandler = null;\r\n        this._labelColors = this._sources = this._strokeColors = null;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    protected createChildren(): void {\r\n        this.graphics = this._bitmap = new AutoBitmap();\r\n    }\r\n\r\n    /**@private */\r\n    protected createText(): void {\r\n        if (!this._text) {\r\n            this._text = new Text();\r\n            this._text.overflow = Text.HIDDEN;\r\n            this._text.align = \"center\";\r\n            this._text.valign = \"middle\";\r\n            this._text.width = this._width;\r\n            this._text.height = this._height;\r\n        }\r\n    }\r\n\r\n    /**@inheritDoc \r\n     * @override\r\n    */\r\n    protected initialize(): void {\r\n        if (this._mouseState !== 1) {\r\n            this.mouseEnabled = true;\r\n            this._setBit(Const.HAS_MOUSE, true);\r\n        }\r\n        this._createListener(Event.MOUSE_OVER, this, this.onMouse, null, false, false);\r\n        this._createListener(Event.MOUSE_OUT, this, this.onMouse, null, false, false);\r\n        this._createListener(Event.MOUSE_DOWN, this, this.onMouse, null, false, false);\r\n        this._createListener(Event.MOUSE_UP, this, this.onMouse, null, false, false);\r\n        this._createListener(Event.CLICK, this, this.onMouse, null, false, false);\r\n    }\r\n\r\n    /**\r\n     * 对象的 <code>Event.MOUSE_OVER、Event.MOUSE_OUT、Event.MOUSE_DOWN、Event.MOUSE_UP、Event.CLICK</code> 事件侦听处理函数。\r\n     * @param e Event 对象。\r\n     */\r\n    protected onMouse(e: Event): void {\r\n        if (this.toggle === false && this._selected) return;\r\n        if (e.type === Event.CLICK) {\r\n            this.toggle && (this.selected = !this._selected);\r\n            this._clickHandler && this._clickHandler.run();\r\n            return;\r\n        }\r\n        !this._selected && (this.state = Button.stateMap[e.type]);\r\n    }\r\n\r\n    /**\r\n     * <p>对象的皮肤资源地址。</p>\r\n     * 支持单态，两态和三态，用 <code>stateNum</code> 属性设置\r\n     * <p>对象的皮肤地址，以字符串表示。</p>\r\n     * @see #stateNum\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (value) {\r\n                if (!Loader.getRes(value)) {\r\n                    ILaya.loader.load(this._skin, Handler.create(this, this._skinLoaded), null, Loader.IMAGE, 1);//TODO \r\n                } else {\r\n                    this._skinLoaded();\r\n                }\r\n            } else {\r\n                this._skinLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this.callLater(this.changeClips);\r\n        this._setStateChanged();\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * <p>指定对象的状态值，以数字表示。</p>\r\n     * <p>默认值为3。此值决定皮肤资源图片的切割方式。</p>\r\n     * <p><b>取值：</b>\r\n     * <li>1：单态。图片不做切割，按钮的皮肤状态只有一种。</li>\r\n     * <li>2：两态。图片将以竖直方向被等比切割为2部分，从上向下，依次为\r\n     * 弹起状态皮肤、\r\n     * 按下和经过及选中状态皮肤。</li>\r\n     * <li>3：三态。图片将以竖直方向被等比切割为3部分，从上向下，依次为\r\n     * 弹起状态皮肤、\r\n     * 经过状态皮肤、\r\n     * 按下和选中状态皮肤</li>\r\n     * </p>\r\n     */\r\n    get stateNum(): number {\r\n        return this._stateNum;\r\n    }\r\n\r\n    set stateNum(value: number) {\r\n        if (typeof (value as any) == 'string') {\r\n            value = parseInt(value as any);\r\n        }\r\n        if (this._stateNum != value) {\r\n            this._stateNum = value < 1 ? 1 : value > 3 ? 3 : value;\r\n            this.callLater(this.changeClips);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 对象的资源切片发生改变。\r\n     */\r\n    protected changeClips(): void {\r\n        var img: Texture = Loader.getRes(this._skin);\r\n        if (!img) {\r\n            console.log(\"lose skin\", this._skin);\r\n            return;\r\n        }\r\n        var width: number = img.sourceWidth;\r\n        var height: number = img.sourceHeight / this._stateNum;\r\n        img.$_GID || (img.$_GID = Utils.getGID());\r\n        var key: string = img.$_GID + \"-\" + this._stateNum;\r\n        var clips: any[] = WeakObject.I.get(key);\r\n        if (!Utils.isOkTextureList(clips)) {\r\n            clips = null;\r\n        }\r\n        if (clips) this._sources = clips;\r\n        else {\r\n            this._sources = [];\r\n            if (this._stateNum === 1) {\r\n                this._sources.push(img);\r\n            } else {\r\n                for (var i: number = 0; i < this._stateNum; i++) {\r\n                    this._sources.push(Texture.createFromTexture(img, 0, height * i, width, height));\r\n                }\r\n            }\r\n            WeakObject.I.set(key, this._sources);\r\n        }\r\n\r\n        if (this._autoSize) {\r\n            this._bitmap.width = this._width || width;\r\n            this._bitmap.height = this._height || height;\r\n            if (this._text) {\r\n                this._text.width = this._bitmap.width;\r\n                this._text.height = this._bitmap.height;\r\n            }\r\n        } else {\r\n            this._text && (this._text.x = width);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    protected measureWidth(): number {\r\n        this.runCallLater(this.changeClips);\r\n        if (this._autoSize) return this._bitmap.width;\r\n        this.runCallLater(this.changeState);\r\n        return this._bitmap.width + (this._text ? this._text.width : 0);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    protected measureHeight(): number {\r\n        this.runCallLater(this.changeClips);\r\n        return this._text ? Math.max(this._bitmap.height, this._text.height) : this._bitmap.height;\r\n    }\r\n\r\n    /**\r\n     * 按钮的文本内容。\r\n     */\r\n    get label(): string {\r\n        return this._text ? this._text.text : null;\r\n    }\r\n\r\n    set label(value: string) {\r\n        if (!this._text && !value) return;\r\n        this.createText();\r\n        if (this._text.text != value) {\r\n            value && !this._text.parent && this.addChild(this._text);\r\n            this._text.text = (value + \"\").replace(/\\\\n/g, \"\\n\");\r\n            this._setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示按钮的选中状态。\r\n     * <p>如果值为true，表示该对象处于选中状态。否则该对象处于未选中状态。</p>\r\n     * @implements\r\n     */\r\n    get selected(): boolean {\r\n        return this._selected;\r\n    }\r\n\r\n    set selected(value: boolean) {\r\n        if (this._selected != value) {\r\n            this._selected = value;\r\n            this.state = this._selected ? 2 : 0;\r\n            this.event(Event.CHANGE);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对象的状态值。\r\n     * @see #stateMap\r\n     */\r\n    protected get state(): number {\r\n        return this._state;\r\n    }\r\n\r\n    protected set state(value: number) {\r\n        if (this._state != value) {\r\n            this._state = value;\r\n            this._setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 改变对象的状态。\r\n     */\r\n    protected changeState(): void {\r\n        this._stateChanged = false;\r\n        this.runCallLater(this.changeClips);\r\n        var index: number = this._state < this._stateNum ? this._state : this._stateNum - 1;\r\n        this._sources && (this._bitmap.source = this._sources[index]);\r\n        if (this.label) {\r\n            this._text.color = this._labelColors[index];\r\n            if (this._strokeColors) this._text.strokeColor = this._strokeColors[index];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的文本颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor\"。</p>\r\n     */\r\n    get labelColors(): string {\r\n        return this._labelColors.join(\",\");\r\n    }\r\n\r\n    set labelColors(value: string) {\r\n        this._labelColors = UIUtils.fillArray(Styles.buttonLabelColors, value, String);\r\n        this._setStateChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的描边颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor\"。</p>\r\n     */\r\n    get strokeColors(): string {\r\n        return this._strokeColors ? this._strokeColors.join(\",\") : \"\";\r\n    }\r\n\r\n    set strokeColors(value: string) {\r\n        this._strokeColors = UIUtils.fillArray(Styles.buttonLabelColors, value, String);\r\n        this._setStateChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签的边距。\r\n     * <p><b>格式：</b>\"上边距,右边距,下边距,左边距\"。</p>\r\n     */\r\n    get labelPadding(): string {\r\n        this.createText();\r\n        return this._text.padding.join(\",\");\r\n    }\r\n\r\n    set labelPadding(value: string) {\r\n        this.createText();\r\n        this._text.padding = UIUtils.fillArray(Styles.labelPadding, value, Number);\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签的字体大小。\r\n     * @see laya.display.Text.fontSize()\r\n     */\r\n    get labelSize(): number {\r\n        this.createText();\r\n        return this._text.fontSize;\r\n    }\r\n\r\n    set labelSize(value: number) {\r\n        this.createText();\r\n        this._text.fontSize = value\r\n    }\r\n\r\n    /**\r\n     * <p>描边宽度（以像素为单位）。</p>\r\n     * 默认值0，表示不描边。\r\n     * @see laya.display.Text.stroke()\r\n     */\r\n    get labelStroke(): number {\r\n        this.createText();\r\n        return this._text.stroke;\r\n    }\r\n\r\n    set labelStroke(value: number) {\r\n        this.createText();\r\n        this._text.stroke = value\r\n    }\r\n\r\n    /**\r\n     * <p>描边颜色，以字符串表示。</p>\r\n     * 默认值为 \"#000000\"（黑色）;\r\n     * @see laya.display.Text.strokeColor()\r\n     */\r\n    get labelStrokeColor(): string {\r\n        this.createText();\r\n        return this._text.strokeColor;\r\n    }\r\n\r\n    set labelStrokeColor(value: string) {\r\n        this.createText();\r\n        this._text.strokeColor = value\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签是否为粗体字。\r\n     * @see laya.display.Text.bold()\r\n     */\r\n    get labelBold(): boolean {\r\n        this.createText();\r\n        return this._text.bold;\r\n    }\r\n\r\n    set labelBold(value: boolean) {\r\n        this.createText();\r\n        this._text.bold = value;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签的字体名称，以字符串形式表示。\r\n     * @see laya.display.Text.font()\r\n     */\r\n    get labelFont(): string {\r\n        this.createText();\r\n        return this._text.font;\r\n    }\r\n\r\n    set labelFont(value: string) {\r\n        this.createText();\r\n        this._text.font = value;\r\n    }\r\n\r\n    /**标签对齐模式，默认为居中对齐。*/\r\n    get labelAlign(): string {\r\n        this.createText()\r\n        return this._text.align;\r\n    }\r\n\r\n    set labelAlign(value: string) {\r\n        this.createText()\r\n        this._text.align = value;\r\n    }\r\n\r\n    /**\r\n     * 对象的点击事件处理器函数（无默认参数）。\r\n     * @implements\r\n     */\r\n    get clickHandler(): Handler {\r\n        return this._clickHandler;\r\n    }\r\n\r\n    set clickHandler(value: Handler) {\r\n        this._clickHandler = value;\r\n    }\r\n\r\n    /**\r\n     * 按钮文本标签 <code>Text</code> 控件。\r\n     */\r\n    get text(): Text {\r\n        this.createText();\r\n        return this._text;\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        if (this._bitmap.sizeGrid) return this._bitmap.sizeGrid.join(\",\");\r\n        return null;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bitmap.sizeGrid = UIUtils.fillArray(Styles.defaultSizeGrid, value, Number);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set width(value: number) {\r\n        super.set_width(value);\r\n        if (this._autoSize) {\r\n            this._bitmap.width = value;\r\n            this._text && (this._text.width = value);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width(): number {\r\n        return super.get_width();\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set height(value: number) {\r\n        super.set_height(value);\r\n        if (this._autoSize) {\r\n            this._bitmap.height = value;\r\n            this._text && (this._text.height = value);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height(): number {\r\n        return super.get_height();\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.label = value + \"\";\r\n        else super.set_dataSource(value);\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource(): any {\r\n        return super.get_dataSource();\r\n    }\r\n\r\n    /**图标x,y偏移，格式：100,100*/\r\n    get iconOffset(): string {\r\n        return this._bitmap._offset ? this._bitmap._offset.join(\",\") : null;\r\n    }\r\n\r\n    set iconOffset(value: string) {\r\n        if (value) this._bitmap._offset = UIUtils.fillArray([1, 1], value, Number);\r\n        else this._bitmap._offset = [];\r\n    }\r\n\r\n    /**@private */\r\n    protected _setStateChanged(): void {\r\n        if (!this._stateChanged) {\r\n            this._stateChanged = true;\r\n            this.callLater(this.changeState);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(Button);\r\nClassUtils.regClass(\"laya.ui.Button\", Button);\r\nClassUtils.regClass(\"Laya.Button\", Button);","import { Button } from \"./Button\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当按钮的选中状态（ <code>selected</code> 属性）发生改变时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>CheckBox</code> 组件显示一个小方框，该方框内可以有选中标记。\r\n * <code>CheckBox</code> 组件还可以显示可选的文本标签，默认该标签位于 CheckBox 右侧。\r\n * <p><code>CheckBox</code> 使用 <code>dataSource</code>赋值时的的默认属性是：<code>selected</code>。</p>\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>CheckBox</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.CheckBox;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class CheckBox_Example\r\n *\t\t{\r\n *\t\t\tpublic function CheckBox_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n * \t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load(\"resource/ui/check.png\", Handler.create(this,onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"资源加载完成！\");\r\n *\t\t\t\tvar checkBox:CheckBox = new CheckBox(\"resource/ui/check.png\", \"这个是一个CheckBox组件。\");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。\r\n *\t\t\t\tcheckBox.x = 100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。\r\n *\t\t\t\tcheckBox.y = 100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。\r\n *\t\t\t\tcheckBox.clickHandler = new Handler(this, onClick, [checkBox]);//设置 checkBox 的点击事件处理器。\r\n *\t\t\t\tLaya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onClick(checkBox:CheckBox):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"输出选中状态: checkBox.selected = \" + checkBox.selected);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load(\"resource/ui/check.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n * function loadComplete()\r\n * {\r\n *     console.log(\"资源加载完成！\");\r\n *     var checkBox:laya.ui.CheckBox= new laya.ui.CheckBox(\"resource/ui/check.png\", \"这个是一个CheckBox组件。\");//创建一个 CheckBox 类的类的实例对象 checkBox ,传入它的皮肤skin和标签label。\r\n *     checkBox.x =100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。\r\n *     checkBox.y =100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。\r\n *     checkBox.clickHandler = new laya.utils.Handler(this,this.onClick,[checkBox],false);//设置 checkBox 的点击事件处理器。\r\n *     Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。\r\n * }\r\n * function onClick(checkBox)\r\n * {\r\n *     console.log(\"checkBox.selected = \",checkBox.selected);\r\n * }\r\n * @example\r\n * import CheckBox= laya.ui.CheckBox;\r\n * import Handler=laya.utils.Handler;\r\n * class CheckBox_Example{\r\n *     constructor()\r\n *     {\r\n *         Laya.init(640, 800);\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load(\"resource/ui/check.png\", Handler.create(this,this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete()\r\n *     {\r\n *         var checkBox:CheckBox = new CheckBox(\"resource/ui/check.png\", \"这个是一个CheckBox组件。\");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。\r\n *         checkBox.x = 100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。\r\n *         checkBox.y = 100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。\r\n *         checkBox.clickHandler = new Handler(this, this.onClick,[checkBox]);//设置 checkBox 的点击事件处理器。\r\n *         Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。\r\n *     }\r\n *     private onClick(checkBox:CheckBox):void\r\n *     {\r\n *         console.log(\"输出选中状态: checkBox.selected = \" + checkBox.selected);\r\n *     }\r\n * }\r\n */\r\nexport class CheckBox extends Button {\r\n\r\n    /**\r\n     * 创建一个新的 <code>CheckBox</code> 组件实例。\r\n     * @param skin 皮肤资源地址。\r\n     * @param label 文本标签的内容。\r\n     */\r\n    constructor(skin: string = null, label: string = \"\") {\r\n        super(skin, label);\r\n        this.toggle = true;\r\n        this._autoSize = false;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    protected preinitialize(): void {\r\n        super.preinitialize();\r\n        this.toggle = true;\r\n        this._autoSize = false;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    protected initialize(): void {\r\n        super.initialize();\r\n        this.createText();\r\n        this._text.align = \"left\";\r\n        this._text.valign = \"top\";\r\n        this._text.width = 0;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (value instanceof Boolean) this.selected = value as boolean;\r\n        else if (typeof (value) == 'string') this.selected = value === \"true\";\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n}\r\n\r\nILaya.regClass(CheckBox);\r\nClassUtils.regClass(\"laya.ui.CheckBox\", CheckBox);\r\nClassUtils.regClass(\"Laya.CheckBox\", CheckBox);","import { UIComponent } from \"./UIComponent\";\r\nimport { AutoBitmap } from \"./AutoBitmap\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { Styles } from \"./Styles\";\r\nimport { Const } from \"../Const\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Texture } from \"../resource/Texture\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { Utils } from \"../utils/Utils\"\r\nimport { WeakObject } from \"../utils/WeakObject\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 图片加载完成后调度。\r\n * @eventType Event.LOADED\r\n */\r\n/*[Event(name = \"loaded\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 当前帧发生变化后调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <p> <code>Clip</code> 类是位图切片动画。</p>\r\n * <p> <code>Clip</code> 可将一张图片，按横向分割数量 <code>clipX</code> 、竖向分割数量 <code>clipY</code> ，\r\n * 或横向分割每个切片的宽度 <code>clipWidth</code> 、竖向分割每个切片的高度 <code>clipHeight</code> ，\r\n * 从左向右，从上到下，分割组合为一个切片动画。</p>\r\n * Image和Clip组件是唯一支持异步加载的两个组件，比如clip.skin = \"abc/xxx.png\"，其他UI组件均不支持异步加载。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>Clip</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Clip;\r\n *\t\tpublic class Clip_Example\r\n *\t\t{\r\n *\t\t\tprivate var clip:Clip;\r\n *\t\t\tpublic function Clip_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tonInit();\r\n *\t\t\t}\r\n *\t\t\tprivate function onInit():void\r\n *\t\t\t{\r\n *\t\t\t\tclip = new Clip(\"resource/ui/clip_num.png\", 10, 1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。\r\n *\t\t\t\tclip.autoPlay = true;//设置 clip 动画自动播放。\r\n *\t\t\t\tclip.interval = 100;//设置 clip 动画的播放时间间隔。\r\n *\t\t\t\tclip.x = 100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。\r\n *\t\t\t\tclip.y = 100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。\r\n *\t\t\t\tclip.on(Event.CLICK, this, onClick);//给 clip 添加点击事件函数侦听。\r\n *\t\t\t\tLaya.stage.addChild(clip);//将此 clip 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onClick():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"clip 的点击事件侦听处理函数。clip.total=\"+ clip.total);\r\n *\t\t\t\tif (clip.isPlaying == true)\r\n *\t\t\t\t{\r\n *\t\t\t\t\tclip.stop();//停止动画。\r\n *\t\t\t\t}else {\r\n *\t\t\t\t\tclip.play();//播放动画。\r\n *\t\t\t\t}\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * var clip;\r\n * Laya.loader.load(\"resource/ui/clip_num.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n * function loadComplete() {\r\n *     console.log(\"资源加载完成！\");\r\n *     clip = new laya.ui.Clip(\"resource/ui/clip_num.png\",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。\r\n *     clip.autoPlay = true;//设置 clip 动画自动播放。\r\n *     clip.interval = 100;//设置 clip 动画的播放时间间隔。\r\n *     clip.x =100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。\r\n *     clip.y =100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。\r\n *     clip.on(Event.CLICK,this,onClick);//给 clip 添加点击事件函数侦听。\r\n *     Laya.stage.addChild(clip);//将此 clip 对象添加到显示列表。\r\n * }\r\n * function onClick()\r\n * {\r\n *     console.log(\"clip 的点击事件侦听处理函数。\");\r\n *     if(clip.isPlaying == true)\r\n *     {\r\n *         clip.stop();\r\n *     }else {\r\n *         clip.play();\r\n *     }\r\n * }\r\n * @example\r\n * import Clip = laya.ui.Clip;\r\n * import Handler = laya.utils.Handler;\r\n * class Clip_Example {\r\n *     private clip: Clip;\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         this.onInit();\r\n *     }\r\n *     private onInit(): void {\r\n *         this.clip = new Clip(\"resource/ui/clip_num.png\", 10, 1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。\r\n *         this.clip.autoPlay = true;//设置 clip 动画自动播放。\r\n *         this.clip.interval = 100;//设置 clip 动画的播放时间间隔。\r\n *         this.clip.x = 100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。\r\n *         this.clip.y = 100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。\r\n *         this.clip.on(laya.events.Event.CLICK, this, this.onClick);//给 clip 添加点击事件函数侦听。\r\n *         Laya.stage.addChild(this.clip);//将此 clip 对象添加到显示列表。\r\n *     }\r\n *     private onClick(): void {\r\n *         console.log(\"clip 的点击事件侦听处理函数。clip.total=\" + this.clip.total);\r\n *         if (this.clip.isPlaying == true) {\r\n *             this.clip.stop();//停止动画。\r\n *         } else {\r\n *             this.clip.play();//播放动画。\r\n *         }\r\n *     }\r\n * }\r\n *\r\n */\r\nexport class Clip extends UIComponent {\r\n    /**@private */\r\n    protected _sources: any[];\r\n    /**@private */\r\n    protected _bitmap: AutoBitmap;\r\n    /**@private */\r\n    protected _skin: string;\r\n    /**@private */\r\n    protected _clipX: number = 1;\r\n    /**@private */\r\n    protected _clipY: number = 1;\r\n    /**@private */\r\n    protected _clipWidth: number = 0;\r\n    /**@private */\r\n    protected _clipHeight: number = 0;\r\n    /**@private */\r\n    protected _autoPlay: boolean;\r\n    /**@private */\r\n    protected _interval: number = 50;\r\n    /**@private */\r\n    protected _complete: Handler;\r\n    /**@private */\r\n    protected _isPlaying: boolean;\r\n    /**@private */\r\n    protected _index: number = 0;\r\n    /**@private */\r\n    protected _clipChanged: boolean;\r\n    /**@private */\r\n    protected _group: string;\r\n    /**@private */\r\n    protected _toIndex: number = -1;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Clip</code> 示例。\r\n     * @param url 资源类库名或者地址\r\n     * @param clipX x方向分割个数\r\n     * @param clipY y方向分割个数\r\n     */\r\n    constructor(url: string = null, clipX: number = 1, clipY: number = 1) {\r\n        super();\r\n        this._clipX = clipX;\r\n        this._clipY = clipY;\r\n        this.skin = url;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tdestroy(destroyChild: boolean = true): void {\r\n        super.destroy(true);\r\n        this._bitmap && this._bitmap.destroy();\r\n        this._bitmap = null;\r\n        this._sources = null;\r\n    }\r\n\r\n    /**\r\n     * 销毁对象并释放加载的皮肤资源。\r\n     */\r\n    dispose(): void {\r\n        this.destroy(true);\r\n        ILaya.loader.clearRes(this._skin);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override \r\n     */\r\n\tprotected createChildren(): void {\r\n        this.graphics = this._bitmap = new AutoBitmap();\r\n    }\r\n\r\n    /**@private\t @override*/\r\n    protected _onDisplay(e?: boolean): void {\r\n        if (this._isPlaying) {\r\n            if (this._getBit(Const.DISPLAYED_INSTAGE)) this.play();\r\n            else this.stop();\r\n        } else if (this._autoPlay) {\r\n            this.play();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Image#skin\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (value) {\r\n                if (!Loader.getRes(value)) {\r\n                    ILaya.loader.load(this._skin, Handler.create(this, this._skinLoaded), null, Loader.IMAGE, 1);\r\n                } else {\r\n                    this._skinLoaded();\r\n                }\r\n            } else {\r\n                this._bitmap.source = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this._setClipChanged();\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**X轴（横向）切片数量。*/\r\n    get clipX(): number {\r\n        return this._clipX;\r\n    }\r\n\r\n    set clipX(value: number) {\r\n        this._clipX = value || 1;\r\n        this._setClipChanged()\r\n    }\r\n\r\n    /**Y轴(竖向)切片数量。*/\r\n    get clipY(): number {\r\n        return this._clipY;\r\n    }\r\n\r\n    set clipY(value: number) {\r\n        this._clipY = value || 1;\r\n        this._setClipChanged()\r\n    }\r\n\r\n    /**\r\n     * 横向分割时每个切片的宽度，与 <code>clipX</code> 同时设置时优先级高于 <code>clipX</code> 。\r\n     */\r\n    get clipWidth(): number {\r\n        return this._clipWidth;\r\n    }\r\n\r\n    set clipWidth(value: number) {\r\n        this._clipWidth = value;\r\n        this._setClipChanged()\r\n    }\r\n\r\n    /**\r\n     * 竖向分割时每个切片的高度，与 <code>clipY</code> 同时设置时优先级高于 <code>clipY</code> 。\r\n     */\r\n    get clipHeight(): number {\r\n        return this._clipHeight;\r\n    }\r\n\r\n    set clipHeight(value: number) {\r\n        this._clipHeight = value;\r\n        this._setClipChanged()\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 改变切片的资源、切片的大小。\r\n     */\r\n    protected changeClip(): void {\r\n        this._clipChanged = false;\r\n        if (!this._skin) return;\r\n        var img: any = Loader.getRes(this._skin);\r\n        if (img) {\r\n            this.loadComplete(this._skin, img);\r\n        } else {\r\n            ILaya.loader.load(this._skin, Handler.create(this, this.loadComplete, [this._skin]));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 加载切片图片资源完成函数。\r\n     * @param url 资源地址。\r\n     * @param img 纹理。\r\n     */\r\n    protected loadComplete(url: string, img: Texture): void {\r\n        if (url === this._skin && img) {\r\n            var w: number = this._clipWidth || Math.ceil(img.sourceWidth / this._clipX);\r\n            var h: number = this._clipHeight || Math.ceil(img.sourceHeight / this._clipY);\r\n\r\n            var key: string = this._skin + w + h;\r\n            var clips: any[] = WeakObject.I.get(key);\r\n            if (!Utils.isOkTextureList(clips)) {\r\n                clips = null;\r\n            }\r\n            if (clips) this._sources = clips;\r\n            else {\r\n                this._sources = [];\r\n                for (var i: number = 0; i < this._clipY; i++) {\r\n                    for (var j: number = 0; j < this._clipX; j++) {\r\n                        this._sources.push(Texture.createFromTexture(img, w * j, h * i, w, h));\r\n                    }\r\n                }\r\n                WeakObject.I.set(key, this._sources);\r\n            }\r\n\r\n            this.index = this._index;\r\n            this.event(Event.LOADED);\r\n            this.onCompResize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 源数据。\r\n     */\r\n    get sources(): any[] {\r\n        return this._sources;\r\n    }\r\n\r\n    set sources(value: any[]) {\r\n        this._sources = value;\r\n        this.index = this._index;\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * 资源分组。\r\n     */\r\n    get group(): string {\r\n        return this._group;\r\n    }\r\n\r\n    set group(value: string) {\r\n        if (value && this._skin) Loader.setGroup(this._skin, value);\r\n        this._group = value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this._bitmap.width = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this._bitmap.height = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected measureWidth(): number {\r\n        this.runCallLater(this.changeClip);\r\n        return this._bitmap.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected measureHeight(): number {\r\n        this.runCallLater(this.changeClip);\r\n        return this._bitmap.height;\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        if (this._bitmap.sizeGrid) return this._bitmap.sizeGrid.join(\",\");\r\n        return null;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bitmap.sizeGrid = UIUtils.fillArray(Styles.defaultSizeGrid, value, Number);\r\n    }\r\n\r\n    /**\r\n     * 当前帧索引。\r\n     */\r\n    get index(): number {\r\n        return this._index;\r\n    }\r\n\r\n    set index(value: number) {\r\n        this._index = value;\r\n        this._bitmap && this._sources && (this._bitmap.source = this._sources[value]);\r\n        this.event(Event.CHANGE);\r\n    }\r\n\r\n    /**\r\n     * 切片动画的总帧数。\r\n     */\r\n    get total(): number {\r\n        this.runCallLater(this.changeClip);\r\n        return this._sources ? this._sources.length : 0;\r\n    }\r\n\r\n    /**\r\n     * 表示是否自动播放动画，若自动播放值为true,否则值为false;\r\n     * <p>可控制切片动画的播放、停止。</p>\r\n     */\r\n    get autoPlay(): boolean {\r\n        return this._autoPlay;\r\n    }\r\n\r\n    set autoPlay(value: boolean) {\r\n        if (this._autoPlay != value) {\r\n            this._autoPlay = value;\r\n            value ? this.play() : this.stop();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示动画播放间隔时间(以毫秒为单位)。\r\n     */\r\n    get interval(): number {\r\n        return this._interval;\r\n    }\r\n\r\n    set interval(value: number) {\r\n        if (this._interval != value) {\r\n            this._interval = value;\r\n            if (this._isPlaying) this.play();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示动画的当前播放状态。\r\n     * 如果动画正在播放中，则为true，否则为flash。\r\n     */\r\n    get isPlaying(): boolean {\r\n        return this._isPlaying;\r\n    }\r\n\r\n    set isPlaying(value: boolean) {\r\n        this._isPlaying = value;\r\n    }\r\n\r\n    /**\r\n     * 播放动画。\r\n     * @param\tfrom\t开始索引\r\n     * @param\tto\t\t结束索引，-1为不限制\r\n     */\r\n    play(from: number = 0, to: number = -1): void {\r\n        this._isPlaying = true;\r\n        this.index = from;\r\n        this._toIndex = to;\r\n        this._index++;\r\n        ILaya.timer.loop(this.interval, this, this._loop);\r\n\r\n        this.on(Event.DISPLAY, this, this._onDisplay);\r\n        this.on(Event.UNDISPLAY, this, this._onDisplay);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    protected _loop(): void {\r\n        if (this._visible && this._sources) {\r\n            this._index++;\r\n            if (this._toIndex > -1 && this._index >= this._toIndex) this.stop();\r\n            else if (this._index >= this._sources.length) this._index = 0;\r\n            this.index = this._index;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 停止动画。\r\n     */\r\n    stop(): void {\r\n        this._isPlaying = false;\r\n        ILaya.timer.clear(this, this._loop);\r\n        this.event(Event.COMPLETE);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.index = parseInt(value as string);\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**\r\n     * <code>AutoBitmap</code> 位图实例。\r\n     */\r\n    get bitmap(): AutoBitmap {\r\n        return this._bitmap;\r\n    }\r\n\r\n    /**@private */\r\n    protected _setClipChanged(): void {\r\n        if (!this._clipChanged) {\r\n            this._clipChanged = true;\r\n            this.callLater(this.changeClip);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(Clip);\r\nClassUtils.regClass(\"laya.ui.Clip\", Clip);\r\nClassUtils.regClass(\"Laya.Clip\", Clip);","import { UIComponent } from \"./UIComponent\";\r\nimport { Box } from \"./Box\";\r\nimport { Button } from \"./Button\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { Graphics } from \"../display/Graphics\"\r\nimport { Input } from \"../display/Input\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 选择项改变后调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>ColorPicker</code> 组件将显示包含多个颜色样本的列表，用户可以从中选择颜色。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>ColorPicker</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.ColorPicker;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class ColorPicker_Example\r\n *\t\t{\r\n *\t\t\tpublic function ColorPicker_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load(\"resource/ui/color.png\", Handler.create(this,onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"资源加载完成！\");\r\n *\t\t\t\tvar colorPicket:ColorPicker = new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。\r\n *\t\t\t\tcolorPicket.skin = \"resource/ui/color.png\";//设置 colorPicket 的皮肤。\r\n *\t\t\t\tcolorPicket.x = 100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。\r\n *\t\t\t\tcolorPicket.y = 100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。\r\n *\t\t\t\tcolorPicket.changeHandler = new Handler(this, onChangeColor,[colorPicket]);//设置 colorPicket 的颜色改变回调函数。\r\n *\t\t\t\tLaya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onChangeColor(colorPicket:ColorPicker):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"当前选择的颜色： \" + colorPicket.selectedColor);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load(\"resource/ui/color.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n * function loadComplete()\r\n * {\r\n *     console.log(\"资源加载完成！\");\r\n *     var colorPicket = new laya.ui.ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。\r\n *     colorPicket.skin = \"resource/ui/color.png\";//设置 colorPicket 的皮肤。\r\n *     colorPicket.x = 100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。\r\n *     colorPicket.y = 100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。\r\n *     colorPicket.changeHandler = laya.utils.Handler.create(this, onChangeColor,[colorPicket],false);//设置 colorPicket 的颜色改变回调函数。\r\n *     Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。\r\n * }\r\n * function onChangeColor(colorPicket)\r\n * {\r\n *     console.log(\"当前选择的颜色： \" + colorPicket.selectedColor);\r\n * }\r\n * @example\r\n * import ColorPicker = laya.ui.ColorPicker;\r\n * import Handler = laya.utils.Handler;\r\n * class ColorPicker_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load(\"resource/ui/color.png\", Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         console.log(\"资源加载完成！\");\r\n *         var colorPicket: ColorPicker = new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。\r\n *         colorPicket.skin = \"resource/ui/color.png\";//设置 colorPicket 的皮肤。\r\n *         colorPicket.x = 100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。\r\n *         colorPicket.y = 100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。\r\n *         colorPicket.changeHandler = new Handler(this, this.onChangeColor, [colorPicket]);//设置 colorPicket 的颜色改变回调函数。\r\n *         Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。\r\n *     }\r\n *     private onChangeColor(colorPicket: ColorPicker): void {\r\n *         console.log(\"当前选择的颜色： \" + colorPicket.selectedColor);\r\n *     }\r\n * }\r\n */\r\nexport class ColorPicker extends UIComponent {\r\n\r\n    /**\r\n     * 当颜色发生改变时执行的函数处理器。\r\n     * 默认返回参数color：颜色值字符串。\r\n     */\r\n    changeHandler: Handler;\r\n\r\n    /**\r\n     * @private\r\n     * 指定每个正方形的颜色小格子的宽高（以像素为单位）。\r\n     */\r\n    protected _gridSize: number = 11;\r\n    /**\r\n     * @private\r\n     * 表示颜色样本列表面板的背景颜色值。\r\n     */\r\n    protected _bgColor: string = \"#ffffff\";\r\n    /**\r\n     * @private\r\n     * 表示颜色样本列表面板的边框颜色值。\r\n     */\r\n    protected _borderColor: string = \"#000000\";\r\n    /**\r\n     * @private\r\n     * 表示颜色样本列表面板选择或输入的颜色值。\r\n     */\r\n    protected _inputColor: string = \"#000000\";\r\n    /**\r\n     * @private\r\n     * 表示颜色输入框的背景颜色值。\r\n     */\r\n    protected _inputBgColor: string = \"#efefef\";\r\n    /**\r\n     * @private\r\n     * 表示颜色样本列表面板。\r\n     */\r\n    protected _colorPanel: Box;\r\n    /**\r\n     * @private\r\n     * 表示颜色网格。\r\n     */\r\n    protected _colorTiles: Sprite;\r\n    /**\r\n     * @private\r\n     * 表示颜色块显示对象。\r\n     */\r\n    protected _colorBlock: Sprite;\r\n    /**\r\n     * @private\r\n     * 表示颜色输入框控件 <code>Input</code> 。\r\n     */\r\n    protected _colorInput: Input;\r\n    /**\r\n     * @private\r\n     * 表示点击后显示颜色样本列表面板的按钮控件 <code>Button</code> 。\r\n     */\r\n    protected _colorButton: Button;\r\n    /**\r\n     * @private\r\n     * 表示颜色值列表。\r\n     */\r\n    protected _colors: any[] = [];\r\n    /**\r\n     * @private\r\n     * 表示选择的颜色值。\r\n     */\r\n    protected _selectedColor: string = \"#000000\";\r\n    /** @private */\r\n    protected _panelChanged: boolean;\r\n\r\n    constructor(createChildren = true){\r\n        super(false);\r\n        if(createChildren){\r\n            this.preinitialize();\r\n            this.createChildren();\r\n            this.initialize();\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tdestroy(destroyChild: boolean = true): void {\r\n        ILaya.stage.off(Event.MOUSE_DOWN, this, this.removeColorBox);\r\n        super.destroy(destroyChild);\r\n        this._colorPanel && this._colorPanel.destroy(destroyChild);\r\n        this._colorButton && this._colorButton.destroy(destroyChild);\r\n        this._colorPanel = null;\r\n        this._colorTiles = null;\r\n        this._colorBlock = null;\r\n        this._colorInput = null;\r\n        this._colorButton = null;\r\n        this._colors = null;\r\n        this.changeHandler = null;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected createChildren(): void {\r\n        this.addChild(this._colorButton = new Button());\r\n        this._colorPanel = new Box();\r\n        this._colorPanel.size(230, 166);\r\n        this._colorPanel.addChild(this._colorTiles = new Sprite());\r\n        this._colorPanel.addChild(this._colorBlock = new Sprite());\r\n        this._colorPanel.addChild(this._colorInput = new Input());\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tprotected initialize(): void {\r\n        this._colorButton.on(Event.CLICK, this, this.onColorButtonClick);\r\n\r\n        this._colorBlock.pos(5, 5);\r\n\r\n        this._colorInput.pos(60, 5);\r\n        this._colorInput.size(60, 20);\r\n        this._colorInput.on(Event.CHANGE, this, this.onColorInputChange);\r\n        this._colorInput.on(Event.KEY_DOWN, this, this.onColorFieldKeyDown);\r\n\r\n        this._colorTiles.pos(5, 30);\r\n        this._colorTiles.on(Event.MOUSE_MOVE, this, this.onColorTilesMouseMove);\r\n        this._colorTiles.on(Event.CLICK, this, this.onColorTilesClick);\r\n        this._colorTiles.size(20 * this._gridSize, 12 * this._gridSize);\r\n\r\n        this._colorPanel.on(Event.MOUSE_DOWN, this, this.onPanelMouseDown);\r\n\r\n        this.bgColor = this._bgColor;\r\n    }\r\n\r\n    private onPanelMouseDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    /**\r\n     * 改变颜色样本列表面板。\r\n     */\r\n    protected changePanel(): void {\r\n        this._panelChanged = false;\r\n        var g: Graphics = this._colorPanel.graphics;\r\n        g.clear(true);\r\n        //g.drawRect(0, 0, 230, 166, _bgColor);\r\n        g.drawRect(0, 0, 230, 166, this._bgColor, this._borderColor);\r\n\r\n        this.drawBlock(this._selectedColor);\r\n\r\n        this._colorInput.borderColor = this._borderColor;\r\n        this._colorInput.bgColor = this._inputBgColor;\r\n        this._colorInput.color = this._inputColor;\r\n\r\n        g = this._colorTiles.graphics;\r\n        g.clear(true);\r\n\r\n        var mainColors: any[] = [0x000000, 0x333333, 0x666666, 0x999999, 0xCCCCCC, 0xFFFFFF, 0xFF0000, 0x00FF00, 0x0000FF, 0xFFFF00, 0x00FFFF, 0xFF00FF];\r\n        for (var i: number = 0; i < 12; i++) {\r\n            for (var j: number = 0; j < 20; j++) {\r\n                var color: number;\r\n                if (j === 0) color = mainColors[i];\r\n                else if (j === 1) color = 0x000000;\r\n                else color = (((i * 3 + j / 6) % 3 << 0) + ((i / 6) << 0) * 3) * 0x33 << 16 | j % 6 * 0x33 << 8 | (i << 0) % 6 * 0x33;\r\n\r\n                var strColor: string = UIUtils.toColor(color);\r\n                this._colors.push(strColor);\r\n\r\n                var x: number = j * this._gridSize;\r\n                var y: number = i * this._gridSize;\r\n\r\n                g.drawRect(x, y, this._gridSize, this._gridSize, strColor, \"#000000\");\r\n                //g.drawRect(x + 1, y + 1, _gridSize - 1, _gridSize - 1, strColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 颜色样本列表面板的显示按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    private onColorButtonClick(e: Event): void {\r\n        if (this._colorPanel.parent) this.close();\r\n        else this.open();\r\n    }\r\n\r\n    /**\r\n     * 打开颜色样本列表面板。\r\n     */\r\n    open(): void {\r\n        let stage = ILaya.stage;\r\n        var p: Point = this.localToGlobal(new Point());\r\n        var px: number = p.x + this._colorPanel.width <= stage.width ? p.x : stage.width - this._colorPanel.width;\r\n        var py: number = p.y + this._colorButton.height;\r\n        py = py + this._colorPanel.height <= stage.height ? py : p.y - this._colorPanel.height;\r\n        this._colorPanel.pos(px, py);\r\n        this._colorPanel.zOrder = 1001;\r\n        stage.addChild(this._colorPanel);\r\n        stage.on(Event.MOUSE_DOWN, this, this.removeColorBox);\r\n    }\r\n\r\n    /**\r\n     * 关闭颜色样本列表面板。\r\n     */\r\n    close(): void {\r\n        ILaya.stage.off(Event.MOUSE_DOWN, this, this.removeColorBox);\r\n        this._colorPanel.removeSelf();\r\n    }\r\n\r\n    /**\r\n     * 舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    private removeColorBox(e: Event = null): void {\r\n        this.close();\r\n        //var target:Sprite = e.target as Sprite;\r\n        //if (!_colorButton.contains(target) && !_colorPanel.contains(target)) {\r\n        //close();\r\n        //}\r\n    }\r\n\r\n    /**\r\n     * 小格子色块的 <code>Event.KEY_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    private onColorFieldKeyDown(e: Event): void {\r\n        if (e.keyCode == 13) {\r\n            if (this._colorInput.text) this.selectedColor = this._colorInput.text;\r\n            else this.selectedColor = null;\r\n            this.close();\r\n            e.stopPropagation();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 颜色值输入框 <code>Event.CHANGE</code> 事件侦听处理函数。\r\n     */\r\n    private onColorInputChange(e: Event = null): void {\r\n        if (this._colorInput.text) this.drawBlock(this._colorInput.text);\r\n        else this.drawBlock(\"#FFFFFF\");\r\n    }\r\n\r\n    /**\r\n     * 小格子色块的 <code>Event.CLICK</code> 事件侦听处理函数。\r\n     */\r\n    private onColorTilesClick(e: Event): void {\r\n        this.selectedColor = this.getColorByMouse();\r\n        this.close();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 小格子色块的 <code>Event.MOUSE_MOVE</code> 事件侦听处理函数。\r\n     */\r\n    private onColorTilesMouseMove(e: Event): void {\r\n        this._colorInput.focus = false;\r\n        var color: string = this.getColorByMouse();\r\n        this._colorInput.text = color;\r\n        this.drawBlock(color);\r\n    }\r\n\r\n    /**\r\n     * 通过鼠标位置取对应的颜色块的颜色值。\r\n     */\r\n    protected getColorByMouse(): string {\r\n        var point: Point = this._colorTiles.getMousePoint();\r\n        var x: number = Math.floor(point.x / this._gridSize);\r\n        var y: number = Math.floor(point.y / this._gridSize);\r\n        return this._colors[y * 20 + x];\r\n    }\r\n\r\n    /**\r\n     * 绘制颜色块。\r\n     * @param color 需要绘制的颜色块的颜色值。\r\n     */\r\n    private drawBlock(color: string): void {\r\n        var g: Graphics = this._colorBlock.graphics;\r\n        g.clear(true);\r\n        var showColor: string = color ? color : \"#ffffff\";\r\n        g.drawRect(0, 0, 50, 20, showColor, this._borderColor);\r\n\r\n        color || g.drawLine(0, 0, 50, 20, \"#ff0000\");\r\n    }\r\n\r\n    /**\r\n     * 表示选择的颜色值。\r\n     */\r\n    get selectedColor(): string {\r\n        return this._selectedColor;\r\n    }\r\n\r\n    set selectedColor(value: string) {\r\n        if (this._selectedColor != value) {\r\n            this._selectedColor = this._colorInput.text = value;\r\n            this.drawBlock(value);\r\n            this.changeColor();\r\n            this.changeHandler && this.changeHandler.runWith(this._selectedColor);\r\n            this.event(Event.CHANGE, Event.EMPTY.setTo(Event.CHANGE, this, this));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Button#skin\r\n     */\r\n    get skin(): string {\r\n        return this._colorButton.skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        this._colorButton.once(Event.LOADED, this, this.changeColor);\r\n        this._colorButton.skin = value;\r\n        //changeColor();\r\n    }\r\n\r\n    /**\r\n     * 改变颜色。\r\n     */\r\n    private changeColor(): void {\r\n        var g: Graphics = this.graphics;\r\n        g.clear(true);\r\n        var showColor: string = this._selectedColor || \"#000000\";\r\n        g.drawRect(0, 0, this._colorButton.width, this._colorButton.height, showColor);\r\n    }\r\n\r\n    /**\r\n     * 表示颜色样本列表面板的背景颜色值。\r\n     */\r\n    get bgColor(): string {\r\n        return this._bgColor;\r\n    }\r\n\r\n    set bgColor(value: string) {\r\n        this._bgColor = value;\r\n        this._setPanelChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示颜色样本列表面板的边框颜色值。\r\n     */\r\n    get borderColor(): string {\r\n        return this._borderColor;\r\n    }\r\n\r\n    set borderColor(value: string) {\r\n        this._borderColor = value;\r\n        this._setPanelChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示颜色样本列表面板选择或输入的颜色值。\r\n     */\r\n    get inputColor(): string {\r\n        return this._inputColor;\r\n    }\r\n\r\n    set inputColor(value: string) {\r\n        this._inputColor = value;\r\n        this._setPanelChanged();\r\n    }\r\n\r\n    /**\r\n     * 表示颜色输入框的背景颜色值。\r\n     */\r\n    get inputBgColor(): string {\r\n        return this._inputBgColor;\r\n    }\r\n\r\n    set inputBgColor(value: string) {\r\n        this._inputBgColor = value;\r\n        this._setPanelChanged();\r\n    }\r\n\r\n    /**@private */\r\n    protected _setPanelChanged(): void {\r\n        if (!this._panelChanged) {\r\n            this._panelChanged = true;\r\n            this.callLater(this.changePanel);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(ColorPicker);\r\nClassUtils.regClass(\"laya.ui.ColorPicker\", ColorPicker);\r\nClassUtils.regClass(\"Laya.ColorPicker\", ColorPicker);","import { Styles } from \"./Styles\";\r\nimport { Text } from \"../display/Text\"\r\nimport { Event } from \"../events/Event\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { UIUtils } from \"./UIUtils\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 文本内容发生改变后调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <p> <code>Label</code> 类用于创建显示对象以显示文本。</p>\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>Label</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Label;\r\n *\t\tpublic class Label_Example\r\n *\t\t{\r\n *\t\t\tpublic function Label_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tonInit();\r\n *\t\t\t}\r\n *\t\t\tprivate function onInit():void\r\n *\t\t\t{\r\n *\t\t\t\tvar label:Label = new Label();//创建一个 Label 类的实例对象 label 。\r\n *\t\t\t\tlabel.font = \"Arial\";//设置 label 的字体。\r\n *\t\t\t\tlabel.bold = true;//设置 label 显示为粗体。\r\n *\t\t\t\tlabel.leading = 4;//设置 label 的行间距。\r\n *\t\t\t\tlabel.wordWrap = true;//设置 label 自动换行。\r\n *\t\t\t\tlabel.padding = \"10,10,10,10\";//设置 label 的边距。\r\n *\t\t\t\tlabel.color = \"#ff00ff\";//设置 label 的颜色。\r\n *\t\t\t\tlabel.text = \"Hello everyone,我是一个可爱的文本！\";//设置 label 的文本内容。\r\n *\t\t\t\tlabel.x = 100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。\r\n *\t\t\t\tlabel.y = 100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。\r\n *\t\t\t\tlabel.width = 300;//设置 label 的宽度。\r\n *\t\t\t\tlabel.height = 200;//设置 label 的高度。\r\n *\t\t\t\tLaya.stage.addChild(label);//将 label 添加到显示列表。\r\n *\t\t\t\tvar passwordLabel:Label = new Label(\"请原谅我，我不想被人看到我心里话。\");//创建一个 Label 类的实例对象 passwordLabel 。\r\n *\t\t\t\tpasswordLabel.asPassword = true;//设置 passwordLabel 的显示反式为密码显示。\r\n *\t\t\t\tpasswordLabel.x = 100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。\r\n *\t\t\t\tpasswordLabel.y = 350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。\r\n *\t\t\t\tpasswordLabel.width = 300;//设置 passwordLabel 的宽度。\r\n *\t\t\t\tpasswordLabel.color = \"#000000\";//设置 passwordLabel 的文本颜色。\r\n *\t\t\t\tpasswordLabel.bgColor = \"#ccffff\";//设置 passwordLabel 的背景颜色。\r\n *\t\t\t\tpasswordLabel.fontSize = 20;//设置 passwordLabel 的文本字体大小。\r\n *\t\t\t\tLaya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * onInit();\r\n * function onInit(){\r\n *     var label = new laya.ui.Label();//创建一个 Label 类的实例对象 label 。\r\n *     label.font = \"Arial\";//设置 label 的字体。\r\n *     label.bold = true;//设置 label 显示为粗体。\r\n *     label.leading = 4;//设置 label 的行间距。\r\n *     label.wordWrap = true;//设置 label 自动换行。\r\n *     label.padding = \"10,10,10,10\";//设置 label 的边距。\r\n *     label.color = \"#ff00ff\";//设置 label 的颜色。\r\n *     label.text = \"Hello everyone,我是一个可爱的文本！\";//设置 label 的文本内容。\r\n *     label.x = 100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。\r\n *     label.y = 100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。\r\n *     label.width = 300;//设置 label 的宽度。\r\n *     label.height = 200;//设置 label 的高度。\r\n *     Laya.stage.addChild(label);//将 label 添加到显示列表。\r\n *     var passwordLabel = new laya.ui.Label(\"请原谅我，我不想被人看到我心里话。\");//创建一个 Label 类的实例对象 passwordLabel 。\r\n *     passwordLabel.asPassword = true;//设置 passwordLabel 的显示反式为密码显示。\r\n *     passwordLabel.x = 100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。\r\n *     passwordLabel.y = 350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。\r\n *     passwordLabel.width = 300;//设置 passwordLabel 的宽度。\r\n *     passwordLabel.color = \"#000000\";//设置 passwordLabel 的文本颜色。\r\n *     passwordLabel.bgColor = \"#ccffff\";//设置 passwordLabel 的背景颜色。\r\n *     passwordLabel.fontSize = 20;//设置 passwordLabel 的文本字体大小。\r\n *     Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。\r\n * }\r\n * @example\r\n * import Label = laya.ui.Label;\r\n * class Label_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         this.onInit();\r\n *     }\r\n *     private onInit(): void {\r\n *         var label: Label = new Label();//创建一个 Label 类的实例对象 label 。\r\n *         label.font = \"Arial\";//设置 label 的字体。\r\n *         label.bold = true;//设置 label 显示为粗体。\r\n *         label.leading = 4;//设置 label 的行间距。\r\n *         label.wordWrap = true;//设置 label 自动换行。\r\n *         label.padding = \"10,10,10,10\";//设置 label 的边距。\r\n *         label.color = \"#ff00ff\";//设置 label 的颜色。\r\n *         label.text = \"Hello everyone,我是一个可爱的文本！\";//设置 label 的文本内容。\r\n *         label.x = 100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。\r\n *         label.y = 100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。\r\n *         label.width = 300;//设置 label 的宽度。\r\n *         label.height = 200;//设置 label 的高度。\r\n *         Laya.stage.addChild(label);//将 label 添加到显示列表。\r\n *         var passwordLabel: Label = new Label(\"请原谅我，我不想被人看到我心里话。\");//创建一个 Label 类的实例对象 passwordLabel 。\r\n *         passwordLabel.asPassword = true;//设置 passwordLabel 的显示反式为密码显示。\r\n *         passwordLabel.x = 100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。\r\n *         passwordLabel.y = 350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。\r\n *         passwordLabel.width = 300;//设置 passwordLabel 的宽度。\r\n *         passwordLabel.color = \"#000000\";//设置 passwordLabel 的文本颜色。\r\n *         passwordLabel.bgColor = \"#ccffff\";//设置 passwordLabel 的背景颜色。\r\n *         passwordLabel.fontSize = 20;//设置 passwordLabel 的文本字体大小。\r\n *         Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。\r\n *     }\r\n * }\r\n * @see laya.display.Text\r\n */\r\nexport class Label extends UIComponent {\r\n\r\n    /**\r\n     * @private\r\n     * 文本 <code>Text</code> 实例。\r\n     */\r\n    protected _tf: Text;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Label</code> 实例。\r\n     * @param text 文本内容字符串。\r\n     */\r\n    constructor(text: string = \"\") {\r\n        super();\r\n        this.text = text;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._tf = null;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     * @inheritDoc \r\n    */\r\n    protected createChildren(): void {\r\n        this.addChild(this._tf = new Text());\r\n    }\r\n\r\n    /**\r\n     * 当前文本内容字符串。\r\n     * @see laya.display.Text.text\r\n     */\r\n    get text(): string {\r\n        return this._tf.text;\r\n    }\r\n\r\n    set text(value: string) {\r\n        if (this._tf.text != value) {\r\n            if (value)\r\n                value = UIUtils.adptString(value + \"\");\r\n            this._tf.text = value;\r\n            this.event(Event.CHANGE);\r\n            if (!this._width || !this._height) this.onCompResize();\r\n        }\r\n    }\r\n\r\n    /**@copy laya.display.Text#changeText()\r\n     **/\r\n    changeText(text: string): void {\r\n        this._tf.changeText(text);\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#wordWrap\r\n     */\r\n    get wordWrap(): boolean {\r\n        return this._tf.wordWrap;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#wordWrap\r\n     */\r\n    set wordWrap(value: boolean) {\r\n        this._tf.wordWrap = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#color\r\n     */\r\n    get color(): string {\r\n        return this._tf.color;\r\n    }\r\n\r\n    set color(value: string) {\r\n        this._tf.color = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#font\r\n     */\r\n    get font(): string {\r\n        return this._tf.font;\r\n    }\r\n\r\n    set font(value: string) {\r\n        this._tf.font = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#align\r\n     */\r\n    get align(): string {\r\n        return this._tf.align;\r\n    }\r\n\r\n    set align(value: string) {\r\n        this._tf.align = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#valign\r\n     */\r\n    get valign(): string {\r\n        return this._tf.valign;\r\n    }\r\n\r\n    set valign(value: string) {\r\n        this._tf.valign = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#bold\r\n     */\r\n    get bold(): boolean {\r\n        return this._tf.bold;\r\n    }\r\n\r\n    set bold(value: boolean) {\r\n        this._tf.bold = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#italic\r\n     */\r\n    get italic(): boolean {\r\n        return this._tf.italic;\r\n    }\r\n\r\n    set italic(value: boolean) {\r\n        this._tf.italic = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#leading\r\n     */\r\n    get leading(): number {\r\n        return this._tf.leading;\r\n    }\r\n\r\n    set leading(value: number) {\r\n        this._tf.leading = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#fontSize\r\n     */\r\n    get fontSize(): number {\r\n        return this._tf.fontSize;\r\n    }\r\n\r\n    set fontSize(value: number) {\r\n        this._tf.fontSize = value;\r\n    }\r\n\r\n    /**\r\n     * <p>边距信息</p>\r\n     * <p>\"上边距，右边距，下边距 , 左边距（边距以像素为单位）\"</p>\r\n     * @see laya.display.Text.padding\r\n     */\r\n    get padding(): string {\r\n        return this._tf.padding.join(\",\");\r\n    }\r\n\r\n    set padding(value: string) {\r\n        this._tf.padding = UIUtils.fillArray(Styles.labelPadding, value, Number);\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#bgColor\r\n     */\r\n    get bgColor(): string {\r\n        return this._tf.bgColor\r\n    }\r\n\r\n    set bgColor(value: string) {\r\n        this._tf.bgColor = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#borderColor\r\n     */\r\n    get borderColor(): string {\r\n        return this._tf.borderColor\r\n    }\r\n\r\n    set borderColor(value: string) {\r\n        this._tf.borderColor = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#stroke\r\n     */\r\n    get stroke(): number {\r\n        return this._tf.stroke;\r\n    }\r\n\r\n    set stroke(value: number) {\r\n        this._tf.stroke = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#strokeColor\r\n     */\r\n    get strokeColor(): string {\r\n        return this._tf.strokeColor;\r\n    }\r\n\r\n    set strokeColor(value: string) {\r\n        this._tf.strokeColor = value;\r\n    }\r\n\r\n    /**\r\n     * 文本控件实体 <code>Text</code> 实例。\r\n     */\r\n    get textField(): Text {\r\n        return this._tf;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/ protected measureWidth(): number {\r\n        return this._tf.width;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/ protected measureHeight(): number {\r\n        return this._tf.height;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  get width(): number {\r\n        if (this._width || this._tf.text) return super.width;\r\n        return 0;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  set width(value: number) {\r\n        super.width = value;\r\n        this._tf.width = value;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  get height(): number {\r\n        if (this._height || this._tf.text) return super.height;\r\n        return 0;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  set height(value: number) {\r\n        super.height = value;\r\n        this._tf.height = value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.text = value + \"\";\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#overflow\r\n     */\r\n    get overflow(): string {\r\n        return this._tf.overflow;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#overflow\r\n     */\r\n    set overflow(value: string) {\r\n        this._tf.overflow = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#underline\r\n     */\r\n    get underline(): boolean {\r\n        return this._tf.underline;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#underline\r\n     */\r\n    set underline(value: boolean) {\r\n        this._tf.underline = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#underlineColor\r\n     */\r\n    get underlineColor(): string {\r\n        return this._tf.underlineColor;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Text#underlineColor\r\n     */\r\n    set underlineColor(value: string) {\r\n        this._tf.underlineColor = value;\r\n    }\r\n}\r\n\r\nILaya.regClass(Label);\r\nClassUtils.regClass(\"laya.ui.Label\", Label);\r\nClassUtils.regClass(\"Laya.Label\", Label);","import { UIComponent } from \"./UIComponent\";\r\nimport { Label } from \"./Label\";\r\nimport { Image } from \"./Image\";\r\nimport { Button } from \"./Button\";\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 移动滑块位置时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * 移动滑块位置完成（用户鼠标抬起）后调度。\r\n * @eventType @eventType laya.events.EventD\r\n *\r\n */\r\n/*[Event(name = \"changed\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * 使用 <code>Slider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。\r\n * <p>滑块的当前值由滑块端点（对应于滑块的最小值和最大值）之间滑块的相对位置确定。</p>\r\n * <p>滑块允许最小值和最大值之间特定间隔内的值。滑块还可以使用数据提示显示其当前值。</p>\r\n *\r\n * @see laya.ui.HSlider\r\n * @see laya.ui.VSlider\r\n */\r\nexport class Slider extends UIComponent {\r\n\r\n    /** @private 获取对 <code>Slider</code> 组件所包含的 <code>Label</code> 组件的引用。*/\r\n    static label: Label = null;// new Label(); 静态的可能还没有初始化\r\n\r\n    /**\r\n     * 数据变化处理器。\r\n     * <p>默认回调参数为滑块位置属性 <code>value</code>属性值：Number 。</p>\r\n     */\r\n    changeHandler: Handler;\r\n\r\n    /**\r\n     * 一个布尔值，指示是否为垂直滚动。如果值为true，则为垂直方向，否则为水平方向。\r\n     * <p>默认值为：true。</p>\r\n     * @default true\r\n     */\r\n    isVertical: boolean = true;\r\n\r\n    /**\r\n     * 一个布尔值，指示是否显示标签。\r\n     * @default true\r\n     */\r\n    showLabel: boolean = true;\r\n    /**@private */\r\n    protected _allowClickBack: boolean;\r\n    /**@private */\r\n    protected _max: number = 100;\r\n    /**@private */\r\n    protected _min: number = 0;\r\n    /**@private */\r\n    protected _tick: number = 1;\r\n    /**@private */\r\n    protected _value: number = 0;\r\n    /**@private */\r\n    protected _skin: string;\r\n    /**@private */\r\n    protected _bg: Image;\r\n    /**@private */\r\n    protected _progress: Image;\r\n    /**@private */\r\n    protected _bar: Button;\r\n    /**@private */\r\n    protected _tx: number;\r\n    /**@private */\r\n    protected _ty: number;\r\n    /**@private */\r\n    protected _maxMove: number;\r\n    /**@private */\r\n    protected _globalSacle: Point;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Slider</code> 类示例。\r\n     * @param skin 皮肤。\r\n     */\r\n    constructor(skin: string = null) {\r\n        super();\r\n        if (!Slider.label) {\r\n            Slider.label = new Label();\r\n        }\r\n        this.skin = skin;\r\n    }\r\n\r\n\t\t/**\r\n\t\t *@inheritDoc\r\n\t\t @override\r\n\t\t */\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._bg && this._bg.destroy(destroyChild);\r\n        this._bar && this._bar.destroy(destroyChild);\r\n        this._progress && this._progress.destroy(destroyChild);\r\n        this._bg = null;\r\n        this._bar = null;\r\n        this._progress = null;\r\n        this.changeHandler = null;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n         * @override\r\n\t\t*/\r\n\t\tprotected createChildren(): void {\r\n        this.addChild(this._bg = new Image());\r\n        this.addChild(this._bar = new Button());\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n         * @override\r\n\t\t*/\r\n\t\tprotected initialize(): void {\r\n        this._bar.on(Event.MOUSE_DOWN, this, this.onBarMouseDown);\r\n        this._bg.sizeGrid = this._bar.sizeGrid = \"4,4,4,4,0\";\r\n        if (this._progress) this._progress.sizeGrid = this._bar.sizeGrid;\r\n        this.allowClickBack = true;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 滑块的的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    protected onBarMouseDown(e: Event): void {\r\n        var Laya = ILaya;\r\n        this._globalSacle || (this._globalSacle = new Point());\r\n        this._globalSacle.setTo(this.globalScaleX || 0.01, this.globalScaleY || 0.01);\r\n\r\n        this._maxMove = this.isVertical ? (this.height - this._bar.height) : (this.width - this._bar.width);\r\n        this._tx = Laya.stage.mouseX;\r\n        this._ty = Laya.stage.mouseY;\r\n        Laya.stage.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.once(Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.once(Event.MOUSE_OUT, this, this.mouseUp);\r\n        //显示提示\r\n        this.showValueText();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 显示标签。\r\n     */\r\n    protected showValueText(): void {\r\n        if (this.showLabel) {\r\n            var label: Label = Slider.label;\r\n            this.addChild(label);\r\n            label.textField.changeText(this._value + \"\");\r\n            if (this.isVertical) {\r\n                label.x = this._bar._x + 20;\r\n                label.y = (this._bar.height - label.height) * 0.5 + this._bar._y;\r\n            } else {\r\n                label.y = this._bar._y - 20;\r\n                label.x = (this._bar.width - label.width) * 0.5 + this._bar._x;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 隐藏标签。\r\n     */\r\n    protected hideValueText(): void {\r\n        Slider.label && Slider.label.removeSelf();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private mouseUp(e: Event): void {\r\n        let stage = ILaya.stage;\r\n        stage.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        stage.off(Event.MOUSE_UP, this, this.mouseUp);\r\n        stage.off(Event.MOUSE_OUT, this, this.mouseUp);\r\n        this.sendChangeEvent(Event.CHANGED);\r\n        this.hideValueText();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private mouseMove(e: Event): void {\r\n        let stage = ILaya.stage;\r\n        var oldValue: number = this._value;\r\n        if (this.isVertical) {\r\n            this._bar.y += (stage.mouseY - this._ty) / this._globalSacle.y;\r\n            if (this._bar._y > this._maxMove) this._bar.y = this._maxMove;\r\n            else if (this._bar._y < 0) this._bar.y = 0;\r\n            this._value = this._bar._y / this._maxMove * (this._max - this._min) + this._min;\r\n            if (this._progress) this._progress.height = this._bar._y + 0.5 * this._bar.height;\r\n        } else {\r\n            this._bar.x += (stage.mouseX - this._tx) / this._globalSacle.x;\r\n            if (this._bar._x > this._maxMove) this._bar.x = this._maxMove;\r\n            else if (this._bar._x < 0) this._bar.x = 0;\r\n            this._value = this._bar._x / this._maxMove * (this._max - this._min) + this._min;\r\n            if (this._progress) this._progress.width = this._bar._x + 0.5 * this._bar.width;\r\n        }\r\n\r\n        this._tx = stage.mouseX;\r\n        this._ty = stage.mouseY;\r\n\r\n        if (this._tick != 0) {\r\n            var pow: number = Math.pow(10, (this._tick + \"\").length - 1);\r\n            this._value = Math.round(Math.round(this._value / this._tick) * this._tick * pow) / pow;\r\n        }\r\n\r\n        if (this._value != oldValue) {\r\n            this.sendChangeEvent();\r\n        }\r\n        this.showValueText();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    protected sendChangeEvent(type: string = Event.CHANGE): void {\r\n        this.event(type);\r\n        this.changeHandler && this.changeHandler.runWith(this._value);\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Image#skin\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (this._skin && !Loader.getRes(this._skin)) {\r\n                ILaya.loader.load([this._skin, this._skin.replace(\".png\", \"$bar.png\")], Handler.create(this, this._skinLoaded));\r\n            } else {\r\n                this._skinLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this._bg.skin = this._skin;\r\n        this._bar.skin = this._skin.replace(\".png\", \"$bar.png\");\r\n        var progressSkin: string = this._skin.replace(\".png\", \"$progress.png\");\r\n        if (Loader.getRes(progressSkin)) {\r\n            if (!this._progress) {\r\n                this.addChild(this._progress = new Image());\r\n                this._progress.sizeGrid = this._bar.sizeGrid;\r\n                this.setChildIndex(this._progress, 1);\r\n            }\r\n            this._progress.skin = progressSkin;\r\n        }\r\n        this.setBarPoint();\r\n        this.callLater(this.changeValue);\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 设置滑块的位置信息。\r\n     */\r\n    protected setBarPoint(): void {\r\n        if (this.isVertical) this._bar.x = Math.round((this._bg.width - this._bar.width) * 0.5);\r\n        else this._bar.y = Math.round((this._bg.height - this._bar.height) * 0.5);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    protected measureWidth(): number {\r\n        return Math.max(this._bg.width, this._bar.width);\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected measureHeight(): number {\r\n        return Math.max(this._bg.height, this._bar.height);\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected _sizeChanged(): void {\r\n        super._sizeChanged();\r\n        if (this.isVertical) this._bg.height = this.height;\r\n        else this._bg.width = this.width;\r\n        this.setBarPoint();\r\n        this.changeValue();\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的背景图（ <code>Image</code> ）和滑块按钮（ <code>Button</code> ）实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        return this._bg.sizeGrid;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bg.sizeGrid = value;\r\n        this._bar.sizeGrid = value;\r\n        if (this._progress) this._progress.sizeGrid = this._bar.sizeGrid;\r\n    }\r\n\r\n    /**\r\n     * 设置滑动条的信息。\r\n     * @param min 滑块的最小值。\r\n     * @param max 滑块的最小值。\r\n     * @param value 滑块的当前值。\r\n     */\r\n    setSlider(min: number, max: number, value: number): void {\r\n        this._value = -1;\r\n        this._min = min;\r\n        this._max = max > min ? max : min;\r\n        this.value = value < min ? min : value > max ? max : value;\r\n    }\r\n\r\n    /**\r\n     * 滑动的刻度值，滑动数值为tick的整数倍。默认值为1。\r\n     */\r\n    get tick(): number {\r\n        return this._tick;\r\n    }\r\n\r\n    set tick(value: number) {\r\n        if (this._tick != value) {\r\n            this._tick = value;\r\n            this.callLater(this.changeValue);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 改变滑块的位置值。\r\n     */\r\n    changeValue(): void {\r\n        if (this.tick != 0) {\r\n            var pow: number = Math.pow(10, (this._tick + \"\").length - 1);\r\n            this._value = Math.round(Math.round(this._value / this._tick) * this._tick * pow) / pow;\r\n        }\r\n\r\n        this._value = this._value > this._max ? this._max : this._value < this._min ? this._min : this._value;\r\n        var num: number = this._max - this._min;\r\n        if (num === 0) num = 1;\r\n        if (this.isVertical) {\r\n            this._bar.y = (this._value - this._min) / num * (this.height - this._bar.height);\r\n            if (this._progress) this._progress.height = this._bar._y + 0.5 * this._bar.height;\r\n        }\r\n        else {\r\n            this._bar.x = (this._value - this._min) / num * (this.width - this._bar.width);\r\n            if (this._progress) this._progress.width = this._bar._x + 0.5 * this._bar.width;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示最高位置的数字。 默认值为100。\r\n     */\r\n    get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    set max(value: number) {\r\n        if (this._max != value) {\r\n            this._max = value;\r\n            this.callLater(this.changeValue);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示最低位置的数字。 默认值为0。\r\n     */\r\n    get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    set min(value: number) {\r\n        if (this._min != value) {\r\n            this._min = value;\r\n            this.callLater(this.changeValue);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示当前滑块位置的数字。\r\n     */\r\n    get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    set value(num: number) {\r\n        if (this._value != num) {\r\n            var oldValue: number = this._value;\r\n            this._value = num;\r\n            this.changeValue();\r\n            if (this._value != oldValue) {\r\n                this.sendChangeEvent();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 一个布尔值，指定是否允许通过点击滑动条改变 <code>Slider</code> 的 <code>value</code> 属性值。\r\n     */\r\n    get allowClickBack(): boolean {\r\n        return this._allowClickBack;\r\n    }\r\n\r\n    set allowClickBack(value: boolean) {\r\n        if (this._allowClickBack != value) {\r\n            this._allowClickBack = value;\r\n            if (value) this._bg.on(Event.MOUSE_DOWN, this, this.onBgMouseDown);\r\n            else this._bg.off(Event.MOUSE_DOWN, this, this.onBgMouseDown);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 滑动条的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    protected onBgMouseDown(e: Event): void {\r\n        var point: Point = this._bg.getMousePoint();\r\n        if (this.isVertical) this.value = point.y / (this.height - this._bar.height) * (this._max - this._min) + this._min;\r\n        else this.value = point.x / (this.width - this._bar.width) * (this._max - this._min) + this._min;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.value = Number(value);\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**\r\n     * 表示滑块按钮的引用。\r\n     */\r\n    get bar(): Button {\r\n        return this._bar;\r\n    }\r\n}\r\n\r\nILaya.regClass(Slider);\r\nClassUtils.regClass(\"laya.ui.Slider\", Slider);\r\nClassUtils.regClass(\"Laya.Slider\", Slider);","import { UIComponent } from \"./UIComponent\";\r\nimport { Button } from \"./Button\";\r\nimport { Slider } from \"./Slider\";\r\nimport { UIConfig } from \"./../../UIConfig\";\r\nimport { Styles } from \"./Styles\";\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Ease } from \"../utils/Ease\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { Tween } from \"../utils/Tween\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 滚动条滑块位置发生变化后调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 开始滑动。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"start\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 结束滑动。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"end\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>ScrollBar</code> 组件是一个滚动条组件。\r\n * <p>当数据太多以至于显示区域无法容纳时，最终用户可以使用 <code>ScrollBar</code> 组件控制所显示的数据部分。</p>\r\n * <p> 滚动条由四部分组成：两个箭头按钮、一个轨道和一个滑块。 </p>\t *\r\n *\r\n * @see laya.ui.VScrollBar\r\n * @see laya.ui.HScrollBar\r\n */\r\nexport class ScrollBar extends UIComponent {\r\n    /**滚动衰减系数*/\r\n    rollRatio: number = 0.97;\r\n    /**滚动变化时回调，回传value参数。*/\r\n    changeHandler: Handler;\r\n    /**是否缩放滑动条，默认值为true。 */\r\n    scaleBar: boolean = true;\r\n    /**一个布尔值，指定是否自动隐藏滚动条(无需滚动时)，默认值为false。*/\r\n    autoHide: boolean = false;\r\n    /**橡皮筋效果极限距离，0为没有橡皮筋效果。*/\r\n    elasticDistance: number = 0;\r\n    /**橡皮筋回弹时间，单位为毫秒。*/\r\n    elasticBackTime: number = 500;\r\n    /**上按钮 */\r\n    upButton: Button;\r\n    /**下按钮 */\r\n    downButton: Button;\r\n    /**滑条 */\r\n    slider: Slider;\r\n\r\n    /**@private */\r\n    protected _showButtons: boolean = UIConfig.showButtons;\r\n    /**@private */\r\n    protected _scrollSize: number = 1;\r\n    /**@private */\r\n    protected _skin: string;\r\n    /**@private */\r\n    protected _thumbPercent: number = 1;\r\n    /**@private */\r\n    protected _target: Sprite;\r\n    /**@private */\r\n    protected _lastPoint: Point;\r\n    /**@private */\r\n    protected _lastOffset: number = 0;\r\n    /**@private */\r\n    protected _checkElastic: boolean = false;\r\n    /**@private */\r\n    protected _isElastic: boolean = false;\r\n    /**@private */\r\n    protected _value: number;\r\n    /**@private */\r\n    protected _hide: boolean = false;\r\n    /**@private */\r\n    protected _clickOnly: boolean = true;\r\n    /**@private */\r\n    protected _offsets: any[];\r\n    /**@private */\r\n    protected _touchScrollEnable: boolean = UIConfig.touchScrollEnable;\r\n    /**@private */\r\n    protected _mouseWheelEnable: boolean = UIConfig.mouseWheelEnable;\r\n\r\n    /**\r\n     * 创建一个新的 <code>ScrollBar</code> 实例。\r\n     * @param skin 皮肤资源地址。\r\n     */\r\n    constructor(skin: string = null) {\r\n        super();\r\n        this.skin = skin;\r\n        this.max = 1;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    destroy(destroyChild: boolean = true): void {\r\n        this.stopScroll();\r\n        this.target = null;\r\n        super.destroy(destroyChild);\r\n        this.upButton && this.upButton.destroy(destroyChild);\r\n        this.downButton && this.downButton.destroy(destroyChild);\r\n        this.slider && this.slider.destroy(destroyChild);\r\n        this.upButton = this.downButton = null;\r\n        this.slider = null;\r\n        this.changeHandler = null;\r\n        this._offsets = null;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    protected createChildren(): void {\r\n        this.addChild(this.slider = new Slider());\r\n        //TODO:\r\n        this.addChild(this.upButton = new Button());\r\n        this.addChild(this.downButton = new Button());\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    protected initialize(): void {\r\n        this.slider.showLabel = false;\r\n        this.slider.tick = 0;\r\n        this.slider.on(Event.CHANGE, this, this.onSliderChange);\r\n        this.slider.setSlider(0, 0, 0);\r\n        this.upButton.on(Event.MOUSE_DOWN, this, this.onButtonMouseDown);\r\n        this.downButton.on(Event.MOUSE_DOWN, this, this.onButtonMouseDown);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 滑块位置发生改变的处理函数。\r\n     */\r\n    protected onSliderChange(): void {\r\n        if (this._value != this.slider.value) this.value = this.slider.value;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 向上和向下按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    protected onButtonMouseDown(e: Event): void {\r\n        var isUp: boolean = e.currentTarget === this.upButton;\r\n        this.slide(isUp);\r\n        ILaya.timer.once(Styles.scrollBarDelayTime, this, this.startLoop, [isUp]);\r\n        ILaya.stage.once(Event.MOUSE_UP, this, this.onStageMouseUp);\r\n    }\r\n\r\n    /**@private */\r\n    protected startLoop(isUp: boolean): void {\r\n        ILaya.timer.frameLoop(1, this, this.slide, [isUp]);\r\n    }\r\n\r\n    /**@private */\r\n    protected slide(isUp: boolean): void {\r\n        if (isUp) this.value -= this._scrollSize;\r\n        else this.value += this._scrollSize;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。\r\n     */\r\n    protected onStageMouseUp(e: Event): void {\r\n        ILaya.timer.clear(this, this.startLoop);\r\n        ILaya.timer.clear(this, this.slide);\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Image#skin\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (value == \" \") return;\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (this._skin && !Loader.getRes(this._skin)) {\r\n                ILaya.loader.load([this._skin, this._skin.replace(\".png\", \"$up.png\"), this._skin.replace(\".png\", \"$down.png\"), this._skin.replace(\".png\", \"$bar.png\")], Handler.create(this, this._skinLoaded));\r\n            } else {\r\n                this._skinLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this.slider.skin = this._skin;\r\n        this.callLater(this.changeScrollBar);\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 更改对象的皮肤及位置。\r\n     */\r\n    protected changeScrollBar(): void {\r\n        this.upButton.visible = this._showButtons;\r\n        this.downButton.visible = this._showButtons;\r\n        if (this._showButtons) {\r\n            this.upButton.skin = this._skin.replace(\".png\", \"$up.png\");\r\n            this.downButton.skin = this._skin.replace(\".png\", \"$down.png\");\r\n        }\r\n        if (this.slider.isVertical) this.slider.y = this._showButtons ? this.upButton.height : 0;\r\n        else this.slider.x = this._showButtons ? this.upButton.width : 0;\r\n        this.resetPositions();\r\n        this.repaint();\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected _sizeChanged(): void {\r\n        super._sizeChanged();\r\n        this.repaint();\r\n        this.resetPositions();\r\n        this.event(Event.CHANGE);\r\n        this.changeHandler && this.changeHandler.runWith(this.value);\r\n    }\r\n\r\n    /**@private */\r\n    private resetPositions(): void {\r\n        if (this.slider.isVertical) this.slider.height = this.height - (this._showButtons ? (this.upButton.height + this.downButton.height) : 0);\r\n        else this.slider.width = this.width - (this._showButtons ? (this.upButton.width + this.downButton.width) : 0);\r\n        this.resetButtonPosition();\r\n\r\n    }\r\n\r\n    /**@private */\r\n    protected resetButtonPosition(): void {\r\n        if (this.slider.isVertical) this.downButton.y = this.slider._y + this.slider.height;\r\n        else this.downButton.x = this.slider._x + this.slider.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected measureWidth(): number {\r\n        if (this.slider.isVertical) return this.slider.width;\r\n        return 100;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected measureHeight(): number {\r\n        if (this.slider.isVertical) return 100;\r\n        return this.slider.height;\r\n    }\r\n\r\n    /**\r\n     * 设置滚动条信息。\r\n     * @param min 滚动条最小位置值。\r\n     * @param max 滚动条最大位置值。\r\n     * @param value 滚动条当前位置值。\r\n     */\r\n    setScroll(min: number, max: number, value: number): void {\r\n        this.runCallLater(this._sizeChanged);\r\n        this.slider.setSlider(min, max, value);\r\n        //_upButton.disabled = max <= 0;\r\n        //_downButton.disabled = max <= 0;\r\n        this.slider.bar.visible = max > 0;\r\n        if (!this._hide && this.autoHide) this.visible = false;\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示最高滚动位置的数字。\r\n     */\r\n    get max(): number {\r\n        return this.slider.max;\r\n    }\r\n\r\n    set max(value: number) {\r\n        this.slider.max = value;\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示最低滚动位置的数字。\r\n     */\r\n    get min(): number {\r\n        return this.slider.min;\r\n    }\r\n\r\n    set min(value: number) {\r\n        this.slider.min = value;\r\n    }\r\n\r\n    /**\r\n     * 获取或设置表示当前滚动位置的数字。\r\n     */\r\n    get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    set value(v: number) {\r\n        if (v !== this._value) {\r\n            this._value = v;\r\n            if (!this._isElastic) {\r\n                if (this.slider[\"_value\"] != v) {\r\n                    this.slider[\"_value\"] = v;\r\n                    this.slider.changeValue();\r\n                }\r\n                this._value = this.slider[\"_value\"];\r\n            }\r\n            this.event(Event.CHANGE);\r\n            this.changeHandler && this.changeHandler.runWith(this._value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 一个布尔值，指示滚动条是否为垂直滚动。如果值为true，则为垂直滚动，否则为水平滚动。\r\n     * <p>默认值为：true。</p>\r\n     */\r\n    get isVertical(): boolean {\r\n        return this.slider.isVertical;\r\n    }\r\n\r\n    set isVertical(value: boolean) {\r\n        this.slider.isVertical = value;\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的 <code>Slider</code> 实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        return this.slider.sizeGrid;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this.slider.sizeGrid = value;\r\n    }\r\n\r\n    /**获取或设置一个值，该值表示按下滚动条轨道时页面滚动的增量。 */\r\n    get scrollSize(): number {\r\n        return this._scrollSize;\r\n    }\r\n\r\n    set scrollSize(value: number) {\r\n        this._scrollSize = value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.value = Number(value);\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**获取或设置一个值，该值表示滑条长度比例，值为：（0-1）。 */\r\n    get thumbPercent(): number {\r\n        return this._thumbPercent;\r\n    }\r\n\r\n    set thumbPercent(value: number) {\r\n        this.runCallLater(this.changeScrollBar);\r\n        this.runCallLater(this._sizeChanged);\r\n        value = value >= 1 ? 0.99 : value;\r\n        this._thumbPercent = value;\r\n        if (this.scaleBar) {\r\n            if (this.slider.isVertical) this.slider.bar.height = Math.max(this.slider.height * value, Styles.scrollBarMinNum);\r\n            else this.slider.bar.width = Math.max(this.slider.width * value, Styles.scrollBarMinNum);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置滚动对象。\r\n     * @see laya.ui.TouchScroll#target\r\n     */\r\n    get target(): Sprite {\r\n        return this._target;\r\n    }\r\n\r\n    set target(value: Sprite) {\r\n        if (this._target) {\r\n            this._target.off(Event.MOUSE_WHEEL, this, this.onTargetMouseWheel);\r\n            this._target.off(Event.MOUSE_DOWN, this, this.onTargetMouseDown);\r\n        }\r\n        this._target = value;\r\n        if (value) {\r\n            this._mouseWheelEnable && this._target.on(Event.MOUSE_WHEEL, this, this.onTargetMouseWheel);\r\n            this._touchScrollEnable && this._target.on(Event.MOUSE_DOWN, this, this.onTargetMouseDown);\r\n        }\r\n    }\r\n\r\n    /**是否隐藏滚动条，不显示滚动条，但是可以正常滚动，默认为false。*/\r\n    get hide(): boolean {\r\n        return this._hide;\r\n    }\r\n\r\n    set hide(value: boolean) {\r\n        this._hide = value;\r\n        this.visible = !value;\r\n    }\r\n\r\n    /**一个布尔值，指定是否显示向上、向下按钮，默认值为true。*/\r\n    get showButtons(): boolean {\r\n        return this._showButtons;\r\n    }\r\n\r\n    set showButtons(value: boolean) {\r\n        this._showButtons = value;\r\n        this.callLater(this.changeScrollBar);\r\n    }\r\n\r\n    /**一个布尔值，指定是否开启触摸，默认值为true。*/\r\n    get touchScrollEnable(): boolean {\r\n        return this._touchScrollEnable;\r\n    }\r\n\r\n    set touchScrollEnable(value: boolean) {\r\n        this._touchScrollEnable = value;\r\n        this.target = this._target;\r\n    }\r\n\r\n    /** 一个布尔值，指定是否滑轮滚动，默认值为true。*/\r\n    get mouseWheelEnable(): boolean {\r\n        return this._mouseWheelEnable;\r\n    }\r\n\r\n    set mouseWheelEnable(value: boolean) {\r\n        this._mouseWheelEnable = value;\r\n        this.target = this._target;\r\n    }\r\n\r\n    /**@private */\r\n    protected onTargetMouseWheel(e: Event): void {\r\n        this.value -= e.delta * this._scrollSize;\r\n        this.target = this._target;\r\n    }\r\n\r\n    isLockedFun: Function;\r\n\r\n    /**@private */\r\n    protected onTargetMouseDown(e: Event): void {\r\n        if ((this.isLockedFun) && !this.isLockedFun(e)) return;\r\n        this.event(Event.END);\r\n        this._clickOnly = true;\r\n        this._lastOffset = 0;\r\n        this._checkElastic = false;\r\n        this._lastPoint || (this._lastPoint = new Point());\r\n        this._lastPoint.setTo(ILaya.stage.mouseX, ILaya.stage.mouseY);\r\n        ILaya.timer.clear(this, this.tweenMove);\r\n        Tween.clearTween(this);\r\n        ILaya.stage.once(Event.MOUSE_UP, this, this.onStageMouseUp2);\r\n        ILaya.stage.once(Event.MOUSE_OUT, this, this.onStageMouseUp2);\r\n        ILaya.timer.frameLoop(1, this, this.loop);\r\n    }\r\n\r\n    startDragForce(): void {\r\n        this._clickOnly = true;\r\n        this._lastOffset = 0;\r\n        this._checkElastic = false;\r\n        this._lastPoint || (this._lastPoint = new Point());\r\n        this._lastPoint.setTo(ILaya.stage.mouseX, ILaya.stage.mouseY);\r\n        ILaya.timer.clear(this, this.tweenMove);\r\n        Tween.clearTween(this);\r\n        ILaya.stage.once(Event.MOUSE_UP, this, this.onStageMouseUp2);\r\n        ILaya.stage.once(Event.MOUSE_OUT, this, this.onStageMouseUp2);\r\n        ILaya.timer.frameLoop(1, this, this.loop);\r\n    }\r\n\r\n    private cancelDragOp(): void {\r\n        ILaya.stage.off(Event.MOUSE_UP, this, this.onStageMouseUp2);\r\n        ILaya.stage.off(Event.MOUSE_OUT, this, this.onStageMouseUp2);\r\n        ILaya.timer.clear(this, this.tweenMove);\r\n        ILaya.timer.clear(this, this.loop);\r\n        this._target.mouseEnabled = true;\r\n    }\r\n\r\n\r\n    triggerDownDragLimit: Function;\r\n    triggerUpDragLimit: Function;\r\n\r\n    private checkTriggers(isTweenMove: boolean = false): boolean {\r\n        if (this.value >= 0 && this.value - this._lastOffset <= 0) {\r\n            if ((this.triggerDownDragLimit) && this.triggerDownDragLimit(isTweenMove)) {\r\n                this.cancelDragOp();\r\n                this.value = 0;\r\n                return true;\r\n            }\r\n        }\r\n        if (this.value <= this.max && (this.value - this._lastOffset >= this.max)) {\r\n            if ((this.triggerUpDragLimit) && this.triggerUpDragLimit(isTweenMove)) {\r\n                this.cancelDragOp();\r\n                this.value = this.max;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    get lastOffset(): number {\r\n        return this._lastOffset;\r\n    }\r\n\r\n    startTweenMoveForce(lastOffset: number): void {\r\n        this._lastOffset = lastOffset;\r\n        ILaya.timer.frameLoop(1, this, this.tweenMove, [200]);\r\n    }\r\n    /**@private */\r\n    protected loop(): void {\r\n        var mouseY: number = ILaya.stage.mouseY;\r\n        var mouseX: number = ILaya.stage.mouseX;\r\n        this._lastOffset = this.isVertical ? (mouseY - this._lastPoint.y) : (mouseX - this._lastPoint.x);\r\n\r\n        if (this._clickOnly) {\r\n            if (Math.abs(this._lastOffset * (this.isVertical ? ILaya.stage._canvasTransform.getScaleY() : ILaya.stage._canvasTransform.getScaleX())) > 1) {\r\n                this._clickOnly = false;\r\n                if (this.checkTriggers()) return;\r\n                this._offsets || (this._offsets = []);\r\n                this._offsets.length = 0;\r\n                this._target.mouseEnabled = false;\r\n                if (!this.hide && this.autoHide) {\r\n                    this.alpha = 1;\r\n                    this.visible = true;\r\n                }\r\n                this.event(Event.START);\r\n            } else return;\r\n        } else {\r\n            if (this.checkTriggers()) return;\r\n        }\r\n        this._offsets.push(this._lastOffset);\r\n\r\n        this._lastPoint.x = mouseX;\r\n        this._lastPoint.y = mouseY;\r\n\r\n        if (this._lastOffset === 0) return;\r\n\r\n        if (!this._checkElastic) {\r\n            if (this.elasticDistance > 0) {\r\n                if (!this._checkElastic && this._lastOffset != 0) {\r\n                    if ((this._lastOffset > 0 && this._value <= this.min) || (this._lastOffset < 0 && this._value >= this.max)) {\r\n                        this._isElastic = true;\r\n                        this._checkElastic = true;\r\n                    } else {\r\n                        this._isElastic = false;\r\n                    }\r\n                }\r\n            } else {\r\n                this._checkElastic = true;\r\n            }\r\n        }\r\n\r\n        if (this._isElastic) {\r\n            if (this._value <= this.min) {\r\n                if (this._lastOffset > 0) {\r\n                    this.value -= this._lastOffset * Math.max(0, (1 - ((this.min - this._value) / this.elasticDistance)));\r\n                } else {\r\n                    this.value -= this._lastOffset * 0.5;\r\n                    if (this._value >= this.min)\r\n                        this._checkElastic = false;\r\n                }\r\n            } else if (this._value >= this.max) {\r\n                if (this._lastOffset < 0) {\r\n                    this.value -= this._lastOffset * Math.max(0, (1 - ((this._value - this.max) / this.elasticDistance)));\r\n                } else {\r\n                    this.value -= this._lastOffset * 0.5;\r\n                    if (this._value <= this.max)\r\n                        this._checkElastic = false;\r\n                }\r\n\r\n            }\r\n        } else {\r\n            this.value -= this._lastOffset;\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    protected onStageMouseUp2(e: Event): void {\r\n        ILaya.stage.off(Event.MOUSE_UP, this, this.onStageMouseUp2);\r\n        ILaya.stage.off(Event.MOUSE_OUT, this, this.onStageMouseUp2);\r\n        ILaya.timer.clear(this, this.loop);\r\n\r\n        if (this._clickOnly) {\r\n            if (this._value >= this.min && this._value <= this.max)\r\n                return;\r\n        }\r\n        this._target.mouseEnabled = true;\r\n\r\n        if (this._isElastic) {\r\n            if (this._value < this.min) {\r\n                Tween.to(this, { value: this.min }, this.elasticBackTime, Ease.sineOut, Handler.create(this, this.elasticOver));\r\n            } else if (this._value > this.max) {\r\n                Tween.to(this, { value: this.max }, this.elasticBackTime, Ease.sineOut, Handler.create(this, this.elasticOver));\r\n            }\r\n        } else {\r\n            if (!this._offsets) return;\r\n            //计算平均值\r\n            if (this._offsets.length < 1) {\r\n                this._offsets[0] = this.isVertical ? ILaya.stage.mouseY - this._lastPoint.y : ILaya.stage.mouseX - this._lastPoint.x;\r\n            }\r\n            var offset: number = 0;\r\n            var n: number = Math.min(this._offsets.length, 3);\r\n            for (var i: number = 0; i < n; i++) {\r\n                offset += this._offsets[this._offsets.length - 1 - i];\r\n            }\r\n            this._lastOffset = offset / n;\r\n\r\n            offset = Math.abs(this._lastOffset);\r\n            if (offset < 2) {\r\n                this.event(Event.END);\r\n                return;\r\n            }\r\n            if (offset > 250) this._lastOffset = this._lastOffset > 0 ? 250 : -250;\r\n            var dis: number = Math.round(Math.abs(this.elasticDistance * (this._lastOffset / 150)));\r\n            ILaya.timer.frameLoop(1, this, this.tweenMove, [dis]);\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    private elasticOver(): void {\r\n        this._isElastic = false;\r\n        if (!this.hide && this.autoHide) {\r\n            Tween.to(this, { alpha: 0 }, 500);\r\n        }\r\n        this.event(Event.END);\r\n    }\r\n\r\n    /**@private */\r\n    protected tweenMove(maxDistance: number): void {\r\n        this._lastOffset *= this.rollRatio;\r\n        if (this.checkTriggers(true)) {\r\n            return;\r\n        }\r\n        var tarSpeed: number;\r\n        if (maxDistance > 0) {\r\n            if (this._lastOffset > 0 && this.value <= this.min) {\r\n                this._isElastic = true;\r\n                tarSpeed = -(this.min - maxDistance - this.value) * 0.5;\r\n                if (this._lastOffset > tarSpeed) this._lastOffset = tarSpeed;\r\n            } else if (this._lastOffset < 0 && this.value >= this.max) {\r\n                this._isElastic = true;\r\n                tarSpeed = -(this.max + maxDistance - this.value) * 0.5;\r\n                if (this._lastOffset < tarSpeed) this._lastOffset = tarSpeed;\r\n            }\r\n        }\r\n\r\n        this.value -= this._lastOffset;\r\n        //if (Math.abs(_lastOffset) < 1 || value == max || value == min) \r\n        if (Math.abs(this._lastOffset) < 0.1) {\r\n            ILaya.timer.clear(this, this.tweenMove);\r\n            if (this._isElastic) {\r\n                if (this._value < this.min) {\r\n                    Tween.to(this, { value: this.min }, this.elasticBackTime, Ease.sineOut, Handler.create(this, this.elasticOver));\r\n                } else if (this._value > this.max) {\r\n                    Tween.to(this, { value: this.max }, this.elasticBackTime, Ease.sineOut, Handler.create(this, this.elasticOver));\r\n                } else {\r\n                    this.elasticOver();\r\n                }\r\n                return;\r\n            }\r\n            this.event(Event.END);\r\n            if (!this.hide && this.autoHide) {\r\n                Tween.to(this, { alpha: 0 }, 500);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 停止滑动。\r\n     */\r\n    stopScroll(): void {\r\n        this.onStageMouseUp2(null);\r\n        ILaya.timer.clear(this, this.tweenMove);\r\n        Tween.clearTween(this);\r\n    }\r\n\r\n    /**\r\n     * 滚动的刻度值，滑动数值为tick的整数倍。默认值为1。\r\n     */\r\n    get tick(): number {\r\n        return this.slider.tick;\r\n    }\r\n\r\n    set tick(value: number) {\r\n        this.slider.tick = value;\r\n    }\r\n}\r\n\r\nILaya.regClass(ScrollBar);\r\nClassUtils.regClass(\"laya.ui.ScrollBar\", ScrollBar);\r\nClassUtils.regClass(\"Laya.ScrollBar\", ScrollBar);","import { ScrollBar } from \"./ScrollBar\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t *\r\n\t * 使用 <code>VScrollBar</code> （垂直 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。\r\n\t *\r\n\t * @example <caption>以下示例代码，创建了一个 <code>VScrollBar</code> 实例。</caption>\r\n\t * package\r\n\t *\t{\r\n\t *\t\timport laya.ui.vScrollBar;\r\n\t *\t\timport laya.ui.VScrollBar;\r\n\t *\t\timport laya.utils.Handler;\r\n\t *\t\tpublic class VScrollBar_Example\r\n\t *\t\t{\r\n\t *\t\t\tprivate var vScrollBar:VScrollBar;\r\n\t *\t\t\tpublic function VScrollBar_Example()\r\n\t *\t\t\t{\r\n\t *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n\t *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *\t\t\t\tLaya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"], Handler.create(this, onLoadComplete));\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onLoadComplete():void\r\n\t *\t\t\t{\r\n\t *\t\t\t\tvScrollBar = new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。\r\n\t *\t\t\t\tvScrollBar.skin = \"resource/ui/vscroll.png\";//设置 vScrollBar 的皮肤。\r\n\t *\t\t\t\tvScrollBar.x = 100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *\t\t\t\tvScrollBar.y = 100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *\t\t\t\tvScrollBar.changeHandler = new Handler(this, onChange);//设置 vScrollBar 的滚动变化处理器。\r\n\t *\t\t\t\tLaya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onChange(value:Number):void\r\n\t *\t\t\t{\r\n\t *\t\t\t\ttrace(\"滚动条的位置： value=\" + value);\r\n\t *\t\t\t}\r\n\t *\t\t}\r\n\t *\t}\r\n\t * @example\r\n\t * Laya.init(640, 800);//设置游戏画布宽高\r\n\t * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n\t * var vScrollBar;\r\n\t * var res = [\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"];\r\n\t * Laya.loader.load(res, laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n\t * function onLoadComplete() {\r\n\t *     vScrollBar = new laya.ui.VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。\r\n\t *     vScrollBar.skin = \"resource/ui/vscroll.png\";//设置 vScrollBar 的皮肤。\r\n\t *     vScrollBar.x = 100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *     vScrollBar.y = 100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *     vScrollBar.changeHandler = new laya.utils.Handler(this, onChange);//设置 vScrollBar 的滚动变化处理器。\r\n\t *     Laya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。\r\n\t * }\r\n\t * function onChange(value) {\r\n\t *     console.log(\"滚动条的位置： value=\" + value);\r\n\t * }\r\n\t * @example\r\n\t * import VScrollBar = laya.ui.VScrollBar;\r\n\t * import Handler = laya.utils.Handler;\r\n\t * class VScrollBar_Example {\r\n\t *     private vScrollBar: VScrollBar;\r\n\t *     constructor() {\r\n\t *         Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n\t *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *         Laya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"], Handler.create(this, this.onLoadComplete));\r\n\t *     }\r\n\t *     private onLoadComplete(): void {\r\n\t *         this.vScrollBar = new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。\r\n\t *         this.vScrollBar.skin = \"resource/ui/vscroll.png\";//设置 vScrollBar 的皮肤。\r\n\t *         this.vScrollBar.x = 100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *         this.vScrollBar.y = 100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。\r\n\t *         this.vScrollBar.changeHandler = new Handler(this, this.onChange);//设置 vScrollBar 的滚动变化处理器。\r\n\t *         Laya.stage.addChild(this.vScrollBar);//将此 vScrollBar 对象添加到显示列表。\r\n\t *     }\r\n\t *     private onChange(value: number): void {\r\n\t *         console.log(\"滚动条的位置： value=\" + value);\r\n\t *     }\r\n\t * }\r\n\t */\r\nexport class VScrollBar extends ScrollBar {\r\n\r\n}\r\n\r\nILaya.regClass(VScrollBar);\r\nClassUtils.regClass(\"laya.ui.VScrollBar\", VScrollBar);\r\nClassUtils.regClass(\"Laya.VScrollBar\", VScrollBar);","import { ScrollBar } from \"./ScrollBar\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 使用 <code>HScrollBar</code> （水平 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。\r\n\t * @example <caption>以下示例代码，创建了一个 <code>HScrollBar</code> 实例。</caption>\r\n\t * package\r\n\t *\t{\r\n\t *\t\timport laya.ui.HScrollBar;\r\n\t *\t\timport laya.utils.Handler;\r\n\t *\t\tpublic class HScrollBar_Example\r\n\t *\t\t{\r\n\t *\t\t\tprivate var hScrollBar:HScrollBar;\r\n\t *\t\t\tpublic function HScrollBar_Example()\r\n\t *\t\t\t{\r\n\t *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n\t *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *\t\t\t\tLaya.loader.load([\"resource/ui/hscroll.png\", \"resource/ui/hscroll$bar.png\", \"resource/ui/hscroll$down.png\", \"resource/ui/hscroll$up.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onLoadComplete():void\r\n\t *\t\t\t{\r\n\t *\t\t\t\thScrollBar = new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。\r\n\t *\t\t\t\thScrollBar.skin = \"resource/ui/hscroll.png\";//设置 hScrollBar 的皮肤。\r\n\t *\t\t\t\thScrollBar.x = 100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *\t\t\t\thScrollBar.y = 100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *\t\t\t\thScrollBar.changeHandler = new Handler(this, onChange);//设置 hScrollBar 的滚动变化处理器。\r\n\t *\t\t\t\tLaya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onChange(value:Number):void\r\n\t *\t\t\t{\r\n\t *\t\t\t\ttrace(\"滚动条的位置： value=\" + value);\r\n\t *\t\t\t}\r\n\t *\t\t}\r\n\t *\t}\r\n\t * @example\r\n\t * Laya.init(640, 800);//设置游戏画布宽高\r\n\t * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n\t * var hScrollBar;\r\n\t * var res  = [\"resource/ui/hscroll.png\", \"resource/ui/hscroll$bar.png\", \"resource/ui/hscroll$down.png\", \"resource/ui/hscroll$up.png\"];\r\n\t * Laya.loader.load(res,laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n\t * function onLoadComplete() {\r\n\t *     console.log(\"资源加载完成！\");\r\n\t *     hScrollBar = new laya.ui.HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。\r\n\t *     hScrollBar.skin = \"resource/ui/hscroll.png\";//设置 hScrollBar 的皮肤。\r\n\t *     hScrollBar.x = 100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *     hScrollBar.y = 100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *     hScrollBar.changeHandler = new laya.utils.Handler(this, onChange);//设置 hScrollBar 的滚动变化处理器。\r\n\t *     Laya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。\r\n\t * }\r\n\t * function onChange(value)\r\n\t * {\r\n\t *     console.log(\"滚动条的位置： value=\" + value);\r\n\t * }\r\n\t * @example\r\n\t * import HScrollBar = laya.ui.HScrollBar;\r\n\t * import Handler = laya.utils.Handler;\r\n\t * class HScrollBar_Example {\r\n\t *     private hScrollBar: HScrollBar;\r\n\t *     constructor() {\r\n\t *         Laya.init(640, 800);//设置游戏画布宽高。\r\n\t *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *         Laya.loader.load([\"resource/ui/hscroll.png\", \"resource/ui/hscroll$bar.png\", \"resource/ui/hscroll$down.png\", \"resource/ui/hscroll$up.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n\t *     }\r\n\t *     private onLoadComplete(): void {\r\n\t *         this.hScrollBar = new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。\r\n\t *         this.hScrollBar.skin = \"resource/ui/hscroll.png\";//设置 hScrollBar 的皮肤。\r\n\t *         this.hScrollBar.x = 100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *         this.hScrollBar.y = 100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。\r\n\t *         this.hScrollBar.changeHandler = new Handler(this, this.onChange);//设置 hScrollBar 的滚动变化处理器。\r\n\t *         Laya.stage.addChild(this.hScrollBar);//将此 hScrollBar 对象添加到显示列表。\r\n\t *     }\r\n\t *     private onChange(value: number): void {\r\n\t *         console.log(\"滚动条的位置： value=\" + value);\r\n\t *     }\r\n\t * }\r\n\t */\r\nexport class HScrollBar extends ScrollBar {\r\n\r\n    /**\r\n\t * @override\r\n     * @inheritDoc \r\n     */\r\n    protected initialize(): void {\r\n        super.initialize();\r\n        this.slider.isVertical = false;\r\n    }\r\n}\r\n\r\nILaya.regClass(HScrollBar);\r\nClassUtils.regClass(\"laya.ui.HScrollBar\", HScrollBar);\r\nClassUtils.regClass(\"Laya.HScrollBar\", HScrollBar);","import { Box } from \"./Box\";\r\nimport { IRender } from \"./IRender\";\r\nimport { IItem } from \"./IItem\";\r\nimport { ScrollBar } from \"./ScrollBar\";\r\nimport { VScrollBar } from \"./VScrollBar\";\r\nimport { HScrollBar } from \"./HScrollBar\";\r\nimport { Clip } from \"./Clip\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { Node } from \"../display/Node\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Rectangle } from \"../maths/Rectangle\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { SceneUtils } from \"../utils/SceneUtils\"\r\nimport { Tween } from \"../utils/Tween\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当对象的 <code>selectedIndex</code> 属性发生变化时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * 渲染列表的单元项对象时调度。\r\n * @eventType Event.RENDER\r\n */\r\n/*[Event(name = \"render\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>List</code> 控件可显示项目列表。默认为垂直方向列表。可通过UI编辑器自定义列表。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>List</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.List;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class List_Example\r\n *\t\t{\r\n *\t\t\tpublic function List_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800, \"false\");//设置游戏画布宽高、渲染模式。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"], Handler.create(this, onLoadComplete));\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar arr:Array = [];//创建一个数组，用于存贮列表的数据信息。\r\n *\t\t\t\tfor (var i:int = 0; i &lt; 20; i++)\r\n *\t\t\t\t{\r\n *\t\t\t\t\tarr.push({label: \"item\" + i});\r\n *\t\t\t\t}\r\n *\t\t\t\tvar list:List = new List();//创建一个 List 类的实例对象 list 。\r\n *\t\t\t\tlist.itemRender = Item;//设置 list 的单元格渲染器。\r\n *\t\t\t\tlist.repeatX = 1;//设置 list 的水平方向单元格数量。\r\n *\t\t\t\tlist.repeatY = 10;//设置 list 的垂直方向单元格数量。\r\n *\t\t\t\tlist.vScrollBarSkin = \"resource/ui/vscroll.png\";//设置 list 的垂直方向滚动条皮肤。\r\n *\t\t\t\tlist.array = arr;//设置 list 的列表数据源。\r\n *\t\t\t\tlist.pos(100, 100);//设置 list 的位置。\r\n *\t\t\t\tlist.selectEnable = true;//设置 list 可选。\r\n *\t\t\t\tlist.selectHandler = new Handler(this, onSelect);//设置 list 改变选择项执行的处理器。\r\n *\t\t\t\tLaya.stage.addChild(list);//将 list 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onSelect(index:int):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"当前选择的项目索引： index= \", index);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n *\timport laya.ui.Box;\r\n *\timport laya.ui.Label;\r\n *\tclass Item extends Box\r\n *\t{\r\n *\t\tpublic function Item()\r\n *\t\t{\r\n *\t\t\tgraphics.drawRect(0, 0, 100, 20,null, \"#ff0000\");\r\n *\t\t\tvar label:Label = new Label();\r\n *\t\t\tlabel.text = \"100000\";\r\n *\t\t\tlabel.name = \"label\";//设置 label 的name属性值。\r\n *\t\t\tlabel.size(100, 20);\r\n *\t\t\taddChild(label);\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * (function (_super){\r\n *     function Item(){\r\n *         Item.__super.call(this);//初始化父类\r\n *         this.graphics.drawRect(0, 0, 100, 20, \"#ff0000\");\r\n *         var label = new laya.ui.Label();//创建一个 Label 类的实例对象 label 。\r\n *         label.text = \"100000\";//设置 label 的文本内容。\r\n *         label.name = \"label\";//设置 label 的name属性值。\r\n *         label.size(100, 20);//设置 label 的宽度、高度。\r\n *         this.addChild(label);//将 label 添加到显示列表。\r\n *     };\r\n *     Laya.class(Item,\"mypackage.listExample.Item\",_super);//注册类 Item 。\r\n * })(laya.ui.Box);\r\n\t\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n * var res = [\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"];\r\n * Laya.loader.load(res, new laya.utils.Handler(this, onLoadComplete));//加载资源。\r\n\t\r\n * function onLoadComplete() {\r\n *     var arr = [];//创建一个数组，用于存贮列表的数据信息。\r\n *     for (var i = 0; i &lt; 20; i++) {\r\n *         arr.push({label: \"item\" + i});\r\n *     }\r\n\t\r\n *     var list = new laya.ui.List();//创建一个 List 类的实例对象 list 。\r\n *     list.itemRender = mypackage.listExample.Item;//设置 list 的单元格渲染器。\r\n *     list.repeatX = 1;//设置 list 的水平方向单元格数量。\r\n *     list.repeatY = 10;//设置 list 的垂直方向单元格数量。\r\n *     list.vScrollBarSkin = \"resource/ui/vscroll.png\";//设置 list 的垂直方向滚动条皮肤。\r\n *     list.array = arr;//设置 list 的列表数据源。\r\n *     list.pos(100, 100);//设置 list 的位置。\r\n *     list.selectEnable = true;//设置 list 可选。\r\n *     list.selectHandler = new laya.utils.Handler(this, onSelect);//设置 list 改变选择项执行的处理器。\r\n *     Laya.stage.addChild(list);//将 list 添加到显示列表。\r\n * }\r\n\t\r\n * function onSelect(index)\r\n * {\r\n *     console.log(\"当前选择的项目索引： index= \", index);\r\n * }\r\n *\r\n * @example\r\n * import List = laya.ui.List;\r\n * import Handler = laya.utils.Handler;\r\n * public class List_Example {\r\n *     public List_Example() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\"], Handler.create(this, this.onLoadComplete));\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         var arr= [];//创建一个数组，用于存贮列表的数据信息。\r\n *         for (var i: number = 0; i &lt; 20; i++)\r\n *         {\r\n *             arr.push({ label: \"item\" + i });\r\n *         }\r\n *         var list: List = new List();//创建一个 List 类的实例对象 list 。\r\n *         list.itemRender = Item;//设置 list 的单元格渲染器。\r\n *         list.repeatX = 1;//设置 list 的水平方向单元格数量。\r\n *         list.repeatY = 10;//设置 list 的垂直方向单元格数量。\r\n *         list.vScrollBarSkin = \"resource/ui/vscroll.png\";//设置 list 的垂直方向滚动条皮肤。\r\n *         list.array = arr;//设置 list 的列表数据源。\r\n *         list.pos(100, 100);//设置 list 的位置。\r\n *         list.selectEnable = true;//设置 list 可选。\r\n *         list.selectHandler = new Handler(this, this.onSelect);//设置 list 改变选择项执行的处理器。\r\n *         Laya.stage.addChild(list);//将 list 添加到显示列表。\r\n *     }\r\n *     private onSelect(index: number): void {\r\n *         console.log(\"当前选择的项目索引： index= \", index);\r\n *     }\r\n * }\r\n * import Box = laya.ui.Box;\r\n * import Label = laya.ui.Label;\r\n * class Item extends Box {\r\n *     constructor() {\r\n *         this.graphics.drawRect(0, 0, 100, 20, null, \"#ff0000\");\r\n *         var label: Label = new Label();\r\n *         label.text = \"100000\";\r\n *         label.name = \"label\";//设置 label 的name属性值。\r\n *         label.size(100, 20);\r\n *         this.addChild(label);\r\n *     }\r\n * }\r\n */\r\nexport class List extends Box implements IRender, IItem {\r\n\r\n\t/**改变 <code>List</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。*/\r\n\tselectHandler: Handler;\r\n\t/**单元格渲染处理器(默认返回参数cell:Box,index:int)。*/\r\n\trenderHandler: Handler;\r\n\t/**单元格鼠标事件处理器(默认返回参数e:Event,index:int)。*/\r\n\tmouseHandler: Handler;\r\n\t/**指定是否可以选择，若值为true则可以选择，否则不可以选择。 @default false*/\r\n\tselectEnable: boolean = false;\r\n\t/**最大分页数。*/\r\n\ttotalPage: number = 0;\r\n\t/**@internal */\r\n\t_$componentType: string = \"List\";\r\n\r\n\t/**@private */\r\n\tprotected _content: Box;\r\n\t/**@private */\r\n\tprotected _scrollBar: ScrollBar;\r\n\t/**@private */\r\n\tprotected _itemRender: any;\r\n\t/**@private */\r\n\tprotected _repeatX: number = 0;\r\n\t/**@private */\r\n\tprotected _repeatY: number = 0;\r\n\t/**@private */\r\n\tprotected _repeatX2: number = 0;\r\n\t/**@private */\r\n\tprotected _repeatY2: number = 0;\r\n\t/**@private */\r\n\tprotected _spaceX: number = 0;\r\n\t/**@private */\r\n\tprotected _spaceY: number = 0;\r\n\t/**@private */\r\n\tprotected _cells: Box[] = [];\r\n\t/**@private */\r\n\tprotected _array: any[];\r\n\t/**@private */\r\n\tprotected _startIndex: number = 0;\r\n\t/**@private */\r\n\tprotected _selectedIndex: number = -1;\r\n\t/**@private */\r\n\tprotected _page: number = 0;\r\n\t/**@private */\r\n\tprotected _isVertical: boolean = true;\r\n\t/**@private */\r\n\tprotected _cellSize: number = 20;\r\n\t/**@private */\r\n\tprotected _cellOffset: number = 0;\r\n\t/**@private */\r\n\tprotected _isMoved: boolean;\r\n\t/**是否缓存内容，如果数据源较少，并且list内无动画，设置此属性为true能大大提高性能 */\r\n\tcacheContent: boolean;\r\n\t/**@private */\r\n\tprotected _createdLine: number = 0;\r\n\t/**@private */\r\n\tprotected _cellChanged: boolean;\r\n\t/**@private */\r\n\tprotected _offset: Point = new Point();\r\n\t/**@private */\r\n\tprotected _usedCache: string = null;\r\n\t/**@private */\r\n\tprotected _elasticEnabled: boolean = false;\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tdestroy(destroyChild: boolean = true): void {\r\n\t\tthis._content && this._content.destroy(destroyChild);\r\n\t\tthis._scrollBar && this._scrollBar.destroy(destroyChild);\r\n\t\tsuper.destroy(destroyChild);\r\n\t\tthis._content = null;\r\n\t\tthis._scrollBar = null;\r\n\t\tthis._itemRender = null;\r\n\t\tthis._cells = null;\r\n\t\tthis._array = null;\r\n\t\tthis.selectHandler = this.renderHandler = this.mouseHandler = null;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tprotected createChildren(): void {\r\n\t\tthis.addChild(this._content = new Box());\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tset cacheAs(value: string) {\r\n\t\tsuper.cacheAs = value;\r\n\t\tif (this._scrollBar) {\r\n\t\t\tthis._usedCache = null;\r\n\t\t\tif (value !== \"none\") this._scrollBar.on(Event.START, this, this.onScrollStart);\r\n\t\t\telse this._scrollBar.off(Event.START, this, this.onScrollStart);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tget cacheAs() {\r\n\t\treturn super.cacheAs;\r\n\t}\r\n\r\n\tprivate onScrollStart(): void {\r\n\t\tthis._usedCache || (this._usedCache = super.cacheAs);\r\n\t\tsuper.cacheAs = \"none\";\r\n\t\tthis._scrollBar.once(Event.END, this, this.onScrollEnd);\r\n\t}\r\n\r\n\tprivate onScrollEnd(): void {\r\n\t\tsuper.cacheAs = this._usedCache;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取对 <code>List</code> 组件所包含的内容容器 <code>Box</code> 组件的引用。\r\n\t */\r\n\tget content(): Box {\r\n\t\treturn this._content;\r\n\t}\r\n\r\n\t/**\r\n\t * 垂直方向滚动条皮肤。\r\n\t */\r\n\tget vScrollBarSkin(): string {\r\n\t\treturn this._scrollBar ? this._scrollBar.skin : null;\r\n\t}\r\n\r\n\tset vScrollBarSkin(value: string) {\r\n\t\tthis._removePreScrollBar();\r\n\t\tvar scrollBar: VScrollBar = new VScrollBar();\r\n\t\tscrollBar.name = \"scrollBar\";\r\n\t\tscrollBar.right = 0;\r\n\t\tscrollBar.skin = value;\r\n\t\tscrollBar.elasticDistance = this._elasticEnabled ? 200 : 0;\r\n\t\tthis.scrollBar = scrollBar;\r\n\t\tthis.addChild(scrollBar);\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\tprivate _removePreScrollBar(): void {\r\n\t\tvar preNode: Node = this.removeChildByName(\"scrollBar\");\r\n\t\tif (preNode) preNode.destroy(true);\r\n\t}\r\n\r\n\t/**\r\n\t * 水平方向滚动条皮肤。\r\n\t */\r\n\tget hScrollBarSkin(): string {\r\n\t\treturn this._scrollBar ? this._scrollBar.skin : null;\r\n\t}\r\n\r\n\tset hScrollBarSkin(value: string) {\r\n\t\tthis._removePreScrollBar();\r\n\t\tvar scrollBar: HScrollBar = new HScrollBar();\r\n\t\tscrollBar.name = \"scrollBar\";\r\n\t\tscrollBar.bottom = 0;\r\n\t\tscrollBar.skin = value;\r\n\t\tscrollBar.elasticDistance = this._elasticEnabled ? 200 : 0;\r\n\t\tthis.scrollBar = scrollBar;\r\n\t\tthis.addChild(scrollBar);\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * 获取对 <code>List</code> 组件所包含的滚动条 <code>ScrollBar</code> 组件的引用。\r\n\t */\r\n\tget scrollBar(): ScrollBar {\r\n\t\treturn this._scrollBar;\r\n\t}\r\n\r\n\tset scrollBar(value: ScrollBar) {\r\n\t\tif (this._scrollBar != value) {\r\n\t\t\tthis._scrollBar = value;\r\n\t\t\tif (value) {\r\n\t\t\t\tthis._isVertical = this._scrollBar.isVertical;\r\n\t\t\t\tthis.addChild(this._scrollBar);\r\n\t\t\t\tthis._scrollBar.on(Event.CHANGE, this, this.onScrollBarChange);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 单元格渲染器。\r\n\t * <p><b>取值：</b>\r\n\t * <ol>\r\n\t * <li>单元格类对象。</li>\r\n\t * <li> UI 的 JSON 描述。</li>\r\n\t * </ol></p>\r\n\t * @implements\r\n\t */\r\n\tget itemRender(): any {\r\n\t\treturn this._itemRender;\r\n\t}\r\n\r\n\tset itemRender(value: any) {\r\n\t\tif (this._itemRender != value) {\r\n\t\t\tthis._itemRender = value;\r\n\t\t\t//销毁老单元格\r\n\t\t\tfor (var i: number = this._cells.length - 1; i > -1; i--) {\r\n\t\t\t\tthis._cells[i].destroy();\r\n\t\t\t}\r\n\t\t\tthis._cells.length = 0;\r\n\t\t\tthis._setCellChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t*/\r\n\tset width(value: number) {\r\n\t\tif (value != this._width) {\r\n\t\t\tsuper.width = value;\r\n\t\t\tthis._setCellChanged();\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tget width() {\r\n\t\treturn super.width;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t*/\r\n\tset height(value: number) {\r\n\t\tif (value != this._height) {\r\n\t\t\tsuper.height = value;\r\n\t\t\tthis._setCellChanged();\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tget height() {\r\n\t\treturn super.height;\r\n\t}\r\n\r\n\t/**\r\n\t * 水平方向显示的单元格数量。\r\n\t */\r\n\tget repeatX(): number {\r\n\t\treturn this._repeatX > 0 ? this._repeatX : this._repeatX2 > 0 ? this._repeatX2 : 1;\r\n\t}\r\n\r\n\tset repeatX(value: number) {\r\n\t\tthis._repeatX = value;\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * 垂直方向显示的单元格数量。\r\n\t */\r\n\tget repeatY(): number {\r\n\t\treturn this._repeatY > 0 ? this._repeatY : this._repeatY2 > 0 ? this._repeatY2 : 1;\r\n\t}\r\n\r\n\tset repeatY(value: number) {\r\n\t\tthis._repeatY = value;\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * 水平方向显示的单元格之间的间距（以像素为单位）。\r\n\t */\r\n\tget spaceX(): number {\r\n\t\treturn this._spaceX;\r\n\t}\r\n\r\n\tset spaceX(value: number) {\r\n\t\tthis._spaceX = value;\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * 垂直方向显示的单元格之间的间距（以像素为单位）。\r\n\t */\r\n\tget spaceY(): number {\r\n\t\treturn this._spaceY;\r\n\t}\r\n\r\n\tset spaceY(value: number) {\r\n\t\tthis._spaceY = value;\r\n\t\tthis._setCellChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 更改单元格的信息。\r\n\t * 在此销毁、创建单元格，并设置单元格的位置等属性。相当于此列表内容发送改变时调用此函数。\r\n\t */\r\n\tprotected changeCells(): void {\r\n\t\tthis._cellChanged = false;\r\n\t\tif (this._itemRender) {\r\n\t\t\t//获取滚动条\r\n\t\t\tthis.scrollBar = (<ScrollBar>this.getChildByName(\"scrollBar\"));\r\n\r\n\t\t\t//自适应宽高\t\t\t\t\r\n\t\t\tvar cell: Box = this._getOneCell();\r\n\r\n\t\t\tvar cellWidth: number = (cell.width + this._spaceX) || 1;\r\n\t\t\tvar cellHeight: number = (cell.height + this._spaceY) || 1;\r\n\t\t\tif (this._width > 0) this._repeatX2 = this._isVertical ? Math.round(this._width / cellWidth) : Math.ceil(this._width / cellWidth);\r\n\t\t\tif (this._height > 0) this._repeatY2 = this._isVertical ? Math.ceil(this._height / cellHeight) : Math.round(this._height / cellHeight);\r\n\r\n\t\t\tvar listWidth: number = this._width ? this._width : (cellWidth * this.repeatX - this._spaceX);\r\n\t\t\tvar listHeight: number = this._height ? this._height : (cellHeight * this.repeatY - this._spaceY);\r\n\t\t\tthis._cellSize = this._isVertical ? cellHeight : cellWidth;\r\n\t\t\tthis._cellOffset = this._isVertical ? (cellHeight * Math.max(this._repeatY2, this._repeatY) - listHeight - this._spaceY) : (cellWidth * Math.max(this._repeatX2, this._repeatX) - listWidth - this._spaceX);\r\n\r\n\t\t\tif (this._isVertical && this.vScrollBarSkin) this._scrollBar.height = listHeight;\r\n\t\t\telse if (!this._isVertical && this.hScrollBarSkin) this._scrollBar.width = listWidth;\r\n\t\t\tthis.setContentSize(listWidth, listHeight);\r\n\r\n\t\t\t//创建新单元格\t\t\t\t\r\n\t\t\tvar numX: number = this._isVertical ? this.repeatX : this.repeatY;\r\n\t\t\tvar numY: number = (this._isVertical ? this.repeatY : this.repeatX) + (this._scrollBar ? 1 : 0);\r\n\t\t\tthis._createItems(0, numX, numY);\r\n\t\t\tthis._createdLine = numY;\r\n\r\n\t\t\tif (this._array) {\r\n\t\t\t\tthis.array = this._array;\r\n\t\t\t\tthis.runCallLater(this.renderItems);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _getOneCell(): Box {\r\n\t\tif (this._cells.length === 0) {\r\n\t\t\tvar item: Box = this.createItem();\r\n\t\t\tthis._offset.setTo(item._x, item._y);\r\n\t\t\tif (this.cacheContent) return item;\r\n\t\t\tthis._cells.push(item);\r\n\t\t}\r\n\t\treturn this._cells[0];\r\n\t}\r\n\r\n\tprivate _createItems(startY: number, numX: number, numY: number): void {\r\n\t\tvar box: Box = this._content;\r\n\t\tvar cell: Box = this._getOneCell();\r\n\t\tvar cellWidth: number = cell.width + this._spaceX;\r\n\t\tvar cellHeight: number = cell.height + this._spaceY;\r\n\r\n\t\tif (this.cacheContent) {\r\n\t\t\tvar cacheBox: Box = new Box();\r\n\t\t\tcacheBox.cacheAs = \"normal\";\r\n\t\t\tcacheBox.pos((this._isVertical ? 0 : startY) * cellWidth, (this._isVertical ? startY : 0) * cellHeight);\r\n\t\t\tthis._content.addChild(cacheBox);\r\n\t\t\tbox = cacheBox;\r\n\t\t} else {\r\n\t\t\tvar arr: any[] = [];\r\n\t\t\tfor (var i: number = this._cells.length - 1; i > -1; i--) {\r\n\t\t\t\tvar item: Box = this._cells[i];\r\n\t\t\t\titem.removeSelf();\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\tthis._cells.length = 0;\r\n\t\t}\r\n\r\n\t\tfor (var k: number = startY; k < numY; k++) {\r\n\t\t\tfor (var l: number = 0; l < numX; l++) {\r\n\t\t\t\tif (arr && arr.length) {\r\n\t\t\t\t\tcell = arr.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcell = this.createItem();\r\n\t\t\t\t}\r\n\t\t\t\tcell.x = (this._isVertical ? l : k) * cellWidth - box._x;\r\n\t\t\t\tcell.y = (this._isVertical ? k : l) * cellHeight - box._y;\r\n\t\t\t\tcell.name = \"item\" + (k * numX + l);\r\n\t\t\t\tbox.addChild(cell);\r\n\t\t\t\tthis.addCell(cell);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected createItem(): Box {\r\n\t\tvar arr: any[] = [];\r\n\t\tif (typeof (this._itemRender) == \"function\") {//TODO:\r\n\t\t\tvar box: Box = new this._itemRender();\r\n\t\t} else {\r\n\t\t\t//box = View.createComp(_itemRender, null, null, arr)\r\n\t\t\tbox = SceneUtils.createComp(this._itemRender, null, null, arr)\r\n\t\t}\r\n\t\tif (arr.length == 0 && box[\"_watchMap\"]) {\r\n\t\t\tvar watchMap: any = box[\"_watchMap\"];\r\n\t\t\tfor (var name in watchMap) {\r\n\t\t\t\tvar a: any[] = watchMap[name];\r\n\t\t\t\tfor (var i: number = 0; i < a.length; i++) {\r\n\t\t\t\t\tvar watcher: any = a[i];\r\n\t\t\t\t\tarr.push(watcher.comp, watcher.prop, watcher.value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (arr.length) box[\"_$bindData\"] = arr;\r\n\t\treturn box;\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 添加单元格。\r\n\t * @param cell 需要添加的单元格对象。\r\n\t */\r\n\tprotected addCell(cell: Box): void {\r\n\t\tcell.on(Event.CLICK, this, this.onCellMouse);\r\n\t\tcell.on(Event.RIGHT_CLICK, this, this.onCellMouse);\r\n\t\tcell.on(Event.MOUSE_OVER, this, this.onCellMouse);\r\n\t\tcell.on(Event.MOUSE_OUT, this, this.onCellMouse);\r\n\t\tcell.on(Event.MOUSE_DOWN, this, this.onCellMouse);\r\n\t\tcell.on(Event.MOUSE_UP, this, this.onCellMouse);\r\n\t\tthis._cells.push(cell);\r\n\t}\r\n\t/**@internal */\r\n\t_afterInited(): void {\r\n\t\tthis.initItems();\r\n\t}\r\n\r\n\t/**\r\n\t * 初始化单元格信息。\r\n\t */\r\n\tinitItems(): void {\r\n\t\tif (!this._itemRender && this.getChildByName(\"item0\") != null) {\r\n\t\t\tthis.repeatX = 1;\r\n\t\t\tvar count: number;\r\n\t\t\tcount = 0;\r\n\t\t\tfor (var i: number = 0; i < 10000; i++) {\r\n\t\t\t\tvar cell: Box = (<Box>this.getChildByName(\"item\" + i));\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\tthis.addCell(cell);\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.repeatY = count;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 设置可视区域大小。\r\n\t * <p>以（0，0，width参数，height参数）组成的矩形区域为可视区域。</p>\r\n\t * @param width 可视区域宽度。\r\n\t * @param height 可视区域高度。\r\n\t */\r\n\tsetContentSize(width: number, height: number): void {\r\n\t\tthis._content.width = width;\r\n\t\tthis._content.height = height;\r\n\t\tif (this._scrollBar || this._offset.x != 0 || this._offset.y != 0) {\r\n\t\t\tthis._content._style.scrollRect || (this._content.scrollRect = Rectangle.create());\r\n\t\t\tthis._content._style.scrollRect.setTo(-this._offset.x, -this._offset.y, width, height);\r\n\t\t\tthis._content.scrollRect = this._content.scrollRect;\r\n\t\t}\r\n\t\tthis.event(Event.RESIZE);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 单元格的鼠标事件侦听处理函数。\r\n\t */\r\n\tprotected onCellMouse(e: Event): void {\r\n\t\tif (e.type === Event.MOUSE_DOWN) this._isMoved = false;\r\n\t\tvar cell: Box = (<Box>e.currentTarget);\r\n\t\tvar index: number = this._startIndex + this._cells.indexOf(cell);\r\n\t\tif (index < 0) return;\r\n\t\tif (e.type === Event.CLICK || e.type === Event.RIGHT_CLICK) {\r\n\t\t\tif (this.selectEnable && !this._isMoved) this.selectedIndex = index;\r\n\t\t\telse this.changeCellState(cell, true, 0);\r\n\t\t} else if ((e.type === Event.MOUSE_OVER || e.type === Event.MOUSE_OUT) && this._selectedIndex !== index) {\r\n\t\t\tthis.changeCellState(cell, e.type === Event.MOUSE_OVER, 0);\r\n\t\t}\r\n\t\tthis.mouseHandler && this.mouseHandler.runWith([e, index]);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 改变单元格的可视状态。\r\n\t * @param cell 单元格对象。\r\n\t * @param visable 是否显示。\r\n\t * @param index 单元格的属性 <code>index</code> 值。\r\n\t */\r\n\tprotected changeCellState(cell: Box, visible: boolean, index: number): void {\r\n\t\tvar selectBox: Clip = (<Clip>cell.getChildByName(\"selectBox\"));\r\n\t\tif (selectBox) {\r\n\t\t\tthis.selectEnable = true;\r\n\t\t\tselectBox.visible = visible;\r\n\t\t\tselectBox.index = index;\r\n\t\t}\r\n\t}\r\n\r\n\t\t/** \r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected _sizeChanged(): void {\r\n\t\tsuper._sizeChanged();\r\n\t\tthis.setContentSize(this.width, this.height);\r\n\t\tif (this._scrollBar) this.callLater(this.onScrollBarChange);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 滚动条的 <code>Event.CHANGE</code> 事件侦听处理函数。\r\n\t */\r\n\tprotected onScrollBarChange(e: Event = null): void {\r\n\t\tthis.runCallLater(this.changeCells);\r\n\t\tvar scrollValue: number = this._scrollBar.value;\r\n\t\tvar lineX: number = (this._isVertical ? this.repeatX : this.repeatY);\r\n\t\tvar lineY: number = (this._isVertical ? this.repeatY : this.repeatX);\r\n\t\tvar scrollLine: number = Math.floor(scrollValue / this._cellSize);\r\n\r\n\t\tif (!this.cacheContent) {\r\n\t\t\tvar index: number = scrollLine * lineX;\r\n\t\t\tvar num: number = 0;\r\n\t\t\tif (index > this._startIndex) {\r\n\t\t\t\tnum = index - this._startIndex;\r\n\t\t\t\tvar down: boolean = true;\r\n\t\t\t\tvar toIndex: number = this._startIndex + lineX * (lineY + 1);\r\n\t\t\t\tthis._isMoved = true;\r\n\t\t\t} else if (index < this._startIndex) {\r\n\t\t\t\tnum = this._startIndex - index;\r\n\t\t\t\tdown = false;\r\n\t\t\t\ttoIndex = this._startIndex - 1;\r\n\t\t\t\tthis._isMoved = true;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i: number = 0; i < num; i++) {\r\n\t\t\t\tif (down) {\r\n\t\t\t\t\tvar cell: Box = this._cells.shift();\r\n\t\t\t\t\tthis._cells[this._cells.length] = cell;\r\n\t\t\t\t\tvar cellIndex: number = toIndex + i;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcell = this._cells.pop();\r\n\t\t\t\t\tthis._cells.unshift(cell);\r\n\t\t\t\t\tcellIndex = toIndex - i;\r\n\t\t\t\t}\r\n\t\t\t\tvar pos: number = Math.floor(cellIndex / lineX) * this._cellSize;\r\n\t\t\t\tthis._isVertical ? cell.y = pos : cell.x = pos;\r\n\t\t\t\tthis.renderItem(cell, cellIndex);\r\n\t\t\t}\r\n\t\t\tthis._startIndex = index;\r\n\t\t\tthis.changeSelectStatus();\r\n\t\t} else {\r\n\t\t\tnum = (lineY + 1);\r\n\t\t\tif (this._createdLine - scrollLine < num) {\r\n\t\t\t\tthis._createItems(this._createdLine, lineX, this._createdLine + num);\r\n\t\t\t\tthis.renderItems(this._createdLine * lineX, 0);\r\n\t\t\t\tthis._createdLine += num;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar r: Rectangle = this._content._style.scrollRect;\r\n\t\tif (this._isVertical) {\r\n\t\t\tr.y = scrollValue - this._offset.y;\r\n\t\t\tr.x = -this._offset.x;\r\n\t\t} else {\r\n\t\t\tr.y = -this._offset.y;\r\n\t\t\tr.x = scrollValue - this._offset.x;\r\n\t\t}\r\n\t\tthis._content.scrollRect = r;\r\n\t}\r\n\r\n\tprivate posCell(cell: Box, cellIndex: number): void {\r\n\t\tif (!this._scrollBar) return;\r\n\t\tvar lineX: number = (this._isVertical ? this.repeatX : this.repeatY);\r\n\t\tvar lineY: number = (this._isVertical ? this.repeatY : this.repeatX);\r\n\t\tvar pos: number = Math.floor(cellIndex / lineX) * this._cellSize;\r\n\t\tthis._isVertical ? cell._y = pos : cell.x = pos;\r\n\t}\r\n\r\n\t/**\r\n\t * 表示当前选择的项索引。selectedIndex值更改会引起list重新渲染\r\n\t */\r\n\tget selectedIndex(): number {\r\n\t\treturn this._selectedIndex;\r\n\t}\r\n\r\n\tset selectedIndex(value: number) {\r\n\t\tif (this._selectedIndex != value) {\r\n\t\t\tthis._selectedIndex = value;\r\n\t\t\tthis.changeSelectStatus();\r\n\t\t\tthis.event(Event.CHANGE);\r\n\t\t\tthis.selectHandler && this.selectHandler.runWith(value);\r\n\t\t\t//选择发生变化，自动渲染一次\r\n\t\t\tthis.startIndex = this._startIndex;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 改变单元格的选择状态。\r\n\t */\r\n\tprotected changeSelectStatus(): void {\r\n\t\tfor (var i: number = 0, n: number = this._cells.length; i < n; i++) {\r\n\t\t\tthis.changeCellState(this._cells[i], this._selectedIndex === this._startIndex + i, 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 当前选中的单元格数据源。\r\n\t */\r\n\tget selectedItem(): any {\r\n\t\treturn this._selectedIndex != -1 ? this._array[this._selectedIndex] : null;\r\n\t}\r\n\r\n\tset selectedItem(value: any) {\r\n\t\tthis.selectedIndex = this._array.indexOf(value);\r\n\t}\r\n\r\n\t/**\r\n\t * 获取或设置当前选择的单元格对象。\r\n\t */\r\n\tget selection(): Box {\r\n\t\treturn this.getCell(this._selectedIndex);\r\n\t}\r\n\r\n\tset selection(value: Box) {\r\n\t\tthis.selectedIndex = this._startIndex + this._cells.indexOf(value);\r\n\t}\r\n\r\n\t/**\r\n\t * 当前显示的单元格列表的开始索引。\r\n\t */\r\n\tget startIndex(): number {\r\n\t\treturn this._startIndex;\r\n\t}\r\n\r\n\tset startIndex(value: number) {\r\n\t\tthis._startIndex = value > 0 ? value : 0;\r\n\t\tthis.callLater(this.renderItems);\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 渲染单元格列表。\r\n\t */\r\n\tprotected renderItems(from: number = 0, to: number = 0): void {\r\n\t\tfor (var i: number = from, n: number = to || this._cells.length; i < n; i++) {\r\n\t\t\tthis.renderItem(this._cells[i], this._startIndex + i);\r\n\t\t}\r\n\t\tthis.changeSelectStatus();\r\n\t}\r\n\r\n\t/**\r\n\t * 渲染一个单元格。\r\n\t * @param cell 需要渲染的单元格对象。\r\n\t * @param index 单元格索引。\r\n\t */\r\n\tprotected renderItem(cell: Box, index: number): void {\r\n\t\tif (this._array && index >= 0 && index < this._array.length) {\r\n\t\t\tcell.visible = true;\r\n\r\n\t\t\tif (cell[\"_$bindData\"]) {\r\n\t\t\t\tcell[\"_dataSource\"] = this._array[index];\r\n\t\t\t\tthis._bindData(cell, this._array[index]);\r\n\t\t\t} else cell.dataSource = this._array[index];\r\n\r\n\t\t\tif (!this.cacheContent) {\r\n\t\t\t\t//TODO:\r\n\t\t\t\tthis.posCell(cell, index);\r\n\t\t\t}\r\n\t\t\tif (this.hasListener(Event.RENDER)) this.event(Event.RENDER, [cell, index]);\r\n\t\t\tif (this.renderHandler) this.renderHandler.runWith([cell, index]);\r\n\t\t} else {\r\n\t\t\tcell.visible = false;\r\n\t\t\tcell.dataSource = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _bindData(cell: any, data: any): void {\r\n\t\tvar arr: any[] = cell._$bindData;\r\n\t\tfor (var i: number = 0, n: number = arr.length; i < n; i++) {\r\n\t\t\tvar ele: any = arr[i++];\r\n\t\t\tvar prop: string = arr[i++];\r\n\t\t\tvar value: string = arr[i];\r\n\t\t\tvar fun: Function = UIUtils.getBindFun(value);\r\n\t\t\tele[prop] = fun.call(this, data);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 列表数据源。\r\n\t */\r\n\tget array(): any[] {\r\n\t\treturn this._array;\r\n\t}\r\n\r\n\tprivate _preLen: number = 0;\r\n\r\n\tset array(value: any[]) {\r\n\t\tthis.runCallLater(this.changeCells);\r\n\t\tthis._array = value || [];\r\n\t\tthis._preLen = this._array.length;\r\n\t\tvar length: number = this._array.length;\r\n\t\tthis.totalPage = Math.ceil(length / (this.repeatX * this.repeatY));\r\n\t\t//重设selectedIndex\r\n\t\tthis._selectedIndex = this._selectedIndex < length ? this._selectedIndex : length - 1;\r\n\t\t//重设startIndex\r\n\t\tthis.startIndex = this._startIndex;\r\n\t\t//重设滚动条\r\n\t\tif (this._scrollBar) {\r\n\t\t\tthis._scrollBar.stopScroll();\r\n\t\t\t//自动隐藏滚动条\r\n\t\t\tvar numX: number = this._isVertical ? this.repeatX : this.repeatY;\r\n\t\t\tvar numY: number = this._isVertical ? this.repeatY : this.repeatX;\r\n\t\t\tvar lineCount: number = Math.ceil(length / numX);\r\n\t\t\tvar total: number = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\r\n\t\t\tif (total > 1 && lineCount >= numY) {\r\n\t\t\t\tthis._scrollBar.scrollSize = this._cellSize;\r\n\t\t\t\tthis._scrollBar.thumbPercent = numY / lineCount;\r\n\t\t\t\tthis._scrollBar.setScroll(0, (lineCount - numY) * this._cellSize + this._cellOffset, this._scrollBar.value);\r\n\t\t\t\tthis._scrollBar.target = this._content;\r\n\t\t\t} else {\r\n\t\t\t\tthis._scrollBar.setScroll(0, 0, 0);\r\n\t\t\t\tthis._scrollBar.target = this._content;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 更新数据源，不刷新list，只增加滚动长度\r\n\t * @param\tarray 数据源\r\n\t */\r\n\tupdateArray(array: any[]): void {\r\n\t\tthis._array = array;\r\n\t\tvar freshStart: number;\r\n\t\tif (this._array) {\r\n\t\t\tfreshStart = this._preLen - this._startIndex;\r\n\t\t\tif (freshStart >= 0)\r\n\t\t\t\tthis.renderItems(freshStart);\r\n\t\t\tthis._preLen = this._array.length;\r\n\t\t}\r\n\t\tif (this._scrollBar) {\r\n\t\t\tvar length: number = array.length;\r\n\t\t\tvar numX: number = this._isVertical ? this.repeatX : this.repeatY;\r\n\t\t\tvar numY: number = this._isVertical ? this.repeatY : this.repeatX;\r\n\t\t\tvar lineCount: number = Math.ceil(length / numX);\r\n\t\t\tif (lineCount >= numY) {\r\n\t\t\t\tthis._scrollBar.thumbPercent = numY / lineCount;\r\n\t\t\t\tthis._scrollBar.slider[\"_max\"] = (lineCount - numY) * this._cellSize + this._cellOffset;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 列表的当前页码。\r\n\t */\r\n\tget page(): number {\r\n\t\treturn this._page;\r\n\t}\r\n\r\n\tset page(value: number) {\r\n\t\tthis._page = value\r\n\t\tif (this._array) {\r\n\t\t\tthis._page = value > 0 ? value : 0;\r\n\t\t\tthis._page = this._page < this.totalPage ? this._page : this.totalPage - 1;\r\n\t\t\tthis.startIndex = this._page * this.repeatX * this.repeatY;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 列表的数据总个数。\r\n\t */\r\n\tget length(): number {\r\n\t\treturn this._array ? this._array.length : 0;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t*/\r\n\tset dataSource(value: any) {\r\n\t\tthis._dataSource = value;\r\n\t\tif (typeof (value) == 'number' || typeof (value) == 'string') this.selectedIndex = parseInt(value as string);\r\n\t\telse if (value instanceof Array) this.array = (<any[]>value)\r\n\t\telse super.dataSource = value;\r\n\t}\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tget dataSource() {\r\n\t\treturn super.dataSource;\r\n\t}\r\n\r\n\t/**\r\n\t * 单元格集合。\r\n\t */\r\n\tget cells(): Box[] {\r\n\t\tthis.runCallLater(this.changeCells);\r\n\t\treturn this._cells;\r\n\t}\r\n\r\n\t/**是否开启橡皮筋效果*/\r\n\tget elasticEnabled(): boolean {\r\n\t\treturn this._elasticEnabled;\r\n\t}\r\n\r\n\tset elasticEnabled(value: boolean) {\r\n\t\tthis._elasticEnabled = value;\r\n\t\tif (this._scrollBar) {\r\n\t\t\tthis._scrollBar.elasticDistance = value ? 200 : 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 刷新列表数据源。\r\n\t */\r\n\trefresh(): void {\r\n\t\tthis.array = this._array;\r\n\t\t//startIndex = _startIndex;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取单元格数据源。\r\n\t * @param index 单元格索引。\r\n\t */\r\n\tgetItem(index: number): any {\r\n\t\tif (index > -1 && index < this._array.length) {\r\n\t\t\treturn this._array[index];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * 修改单元格数据源。\r\n\t * @param index 单元格索引。\r\n\t * @param source 单元格数据源。\r\n\t */\r\n\tchangeItem(index: number, source: any): void {\r\n\t\tif (index > -1 && index < this._array.length) {\r\n\t\t\tthis._array[index] = source;\r\n\t\t\t//如果是可视范围，则重新渲染\r\n\t\t\tif (index >= this._startIndex && index < this._startIndex + this._cells.length) {\r\n\t\t\t\tthis.renderItem(this.getCell(index), index);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 设置单元格数据源。\r\n\t * @param index 单元格索引。\r\n\t * @param source 单元格数据源。\r\n\t */\r\n\tsetItem(index: number, source: any): void {\r\n\t\tthis.changeItem(index, source);\r\n\t}\r\n\r\n\t/**\r\n\t * 添加单元格数据源。\r\n\t * @param souce 数据源。\r\n\t */\r\n\taddItem(souce: any): void {\r\n\t\tthis._array.push(souce);\r\n\t\tthis.array = this._array;\r\n\t}\r\n\r\n\t/**\r\n\t * 添加单元格数据源到对应的数据索引处。\r\n\t * @param souce 单元格数据源。\r\n\t * @param index 索引。\r\n\t */\r\n\taddItemAt(souce: any, index: number): void {\r\n\t\tthis._array.splice(index, 0, souce);\r\n\t\tthis.array = this._array;\r\n\t}\r\n\r\n\t/**\r\n\t * 通过数据源索引删除单元格数据源。\r\n\t * @param index 需要删除的数据源索引值。\r\n\t */\r\n\tdeleteItem(index: number): void {\r\n\t\tthis._array.splice(index, 1);\r\n\t\tthis.array = this._array;\r\n\t}\r\n\r\n\t/**\r\n\t * 通过可视单元格索引，获取单元格。\r\n\t * @param index 可视单元格索引。\r\n\t * @return 单元格对象。\r\n\t */\r\n\tgetCell(index: number): Box {\r\n\t\tthis.runCallLater(this.changeCells);\r\n\t\tif (index > -1 && this._cells) {\r\n\t\t\treturn this._cells[(index - this._startIndex) % this._cells.length];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * <p>滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>\r\n\t * @param index 单元格在数据列表中的索引。\r\n\t */\r\n\tscrollTo(index: number): void {\r\n\t\tif (this._scrollBar) {\r\n\t\t\tvar numX: number = this._isVertical ? this.repeatX : this.repeatY;\r\n\t\t\tthis._scrollBar.value = Math.floor(index / numX) * this._cellSize;\r\n\t\t} else {\r\n\t\t\tthis.startIndex = index;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * <p>缓动滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>\r\n\t * @param index 单元格在数据列表中的索引。\r\n\t * @param time\t缓动时间。\r\n\t * @param complete\t缓动结束回掉\r\n\t */\r\n\ttweenTo(index: number, time: number = 200, complete: Handler = null): void {\r\n\t\tif (this._scrollBar) {\r\n\t\t\tthis._scrollBar.stopScroll();\r\n\t\t\tvar numX: number = this._isVertical ? this.repeatX : this.repeatY;\r\n\t\t\tTween.to(this._scrollBar, { value: Math.floor(index / numX) * this._cellSize }, time, null, complete, 0, true);\r\n\t\t} else {\r\n\t\t\tthis.startIndex = index;\r\n\t\t\tif (complete) complete.run();\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\tprotected _setCellChanged(): void {\r\n\t\tif (!this._cellChanged) {\r\n\t\t\tthis._cellChanged = true;\r\n\t\t\tthis.callLater(this.changeCells);\r\n\t\t}\r\n\t}\r\n\t/**@override */\r\n\tprotected commitMeasure(): void {\r\n\t\tthis.runCallLater(this.changeCells);\r\n\t}\r\n}\r\n\r\nILaya.regClass(List);\r\nClassUtils.regClass(\"laya.ui.List\", List);\r\nClassUtils.regClass(\"Laya.List\", List);","import { UIComponent } from \"./UIComponent\";\r\nimport { Button } from \"./Button\";\r\nimport { List } from \"./List\";\r\nimport { Styles } from \"./Styles\";\r\nimport { Box } from \"./Box\";\r\nimport { Label } from \"./Label\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { VScrollBar } from \"./VScrollBar\";\r\nimport { Graphics } from \"../display/Graphics\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当用户更改 <code>ComboBox</code> 组件中的选定内容时调度。\r\n * @eventType laya.events.Event\r\n * selectedIndex属性变化时调度。\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>ComboBox</code> 组件包含一个下拉列表，用户可以从该列表中选择单个值。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>ComboBox</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.ComboBox;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class ComboBox_Example\r\n *\t\t{\r\n *\t\t\tpublic function ComboBox_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load(\"resource/ui/button.png\", Handler.create(this,onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"资源加载完成！\");\r\n *\t\t\t\tvar comboBox:ComboBox = new ComboBox(\"resource/ui/button.png\", \"item0,item1,item2,item3,item4,item5\");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。\r\n *\t\t\t\tcomboBox.x = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *\t\t\t\tcomboBox.y = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *\t\t\t\tcomboBox.selectHandler = new Handler(this, onSelect);//设置 comboBox 选择项改变时执行的处理器。\r\n *\t\t\t\tLaya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onSelect(index:int):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"当前选中的项对象索引： \",index);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高。\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n * Laya.loader.load(\"resource/ui/button.png\",laya.utils.Handler.create(this,loadComplete));//加载资源\r\n * function loadComplete() {\r\n *     console.log(\"资源加载完成！\");\r\n *     var comboBox = new laya.ui.ComboBox(\"resource/ui/button.png\", \"item0,item1,item2,item3,item4,item5\");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。\r\n *     comboBox.x = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *     comboBox.y = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *     comboBox.selectHandler = new laya.utils.Handler(this, onSelect);//设置 comboBox 选择项改变时执行的处理器。\r\n *     Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。\r\n * }\r\n * function onSelect(index)\r\n * {\r\n *     console.log(\"当前选中的项对象索引： \",index);\r\n * }\r\n * @example\r\n * import ComboBox = laya.ui.ComboBox;\r\n * import Handler = laya.utils.Handler;\r\n * class ComboBox_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load(\"resource/ui/button.png\", Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         console.log(\"资源加载完成！\");\r\n *         var comboBox: ComboBox = new ComboBox(\"resource/ui/button.png\", \"item0,item1,item2,item3,item4,item5\");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。\r\n *         comboBox.x = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *         comboBox.y = 100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。\r\n *         comboBox.selectHandler = new Handler(this, this.onSelect);//设置 comboBox 选择项改变时执行的处理器。\r\n *         Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。\r\n *     }\r\n *     private onSelect(index: number): void {\r\n *         console.log(\"当前选中的项对象索引： \", index);\r\n *     }\r\n * }\r\n *\r\n */\r\nexport class ComboBox extends UIComponent {\r\n    /**@private */\r\n    protected _visibleNum: number = 6;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _button: Button;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _list: List;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _isOpen: boolean;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _itemColors: any[] = Styles.comboBoxItemColors;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _itemSize: number = 12;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _labels: any[] = [];\r\n    /**\r\n     * @private\r\n     */\r\n    protected _selectedIndex: number = -1;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _selectHandler: Handler;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _itemHeight: number;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _listHeight: number;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _listChanged: boolean;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _itemChanged: boolean;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _scrollBarSkin: string;\r\n    /**\r\n     * @private\r\n     */\r\n    protected _isCustomList: boolean;\r\n    /**\r\n     * 渲染项，用来显示下拉列表展示对象\r\n     */\r\n    itemRender: any = null;\r\n\r\n    /**\r\n     * 创建一个新的 <code>ComboBox</code> 组件实例。\r\n     * @param skin 皮肤资源地址。\r\n     * @param labels 下拉列表的标签集字符串。以逗号做分割，如\"item0,item1,item2,item3,item4,item5\"。\r\n     */\r\n    constructor(skin: string = null, labels: string = null) {\r\n        super();\r\n        this.skin = skin;\r\n        this.labels = labels;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._button && this._button.destroy(destroyChild);\r\n        this._list && this._list.destroy(destroyChild);\r\n        this._button = null;\r\n        this._list = null;\r\n        this._itemColors = null;\r\n        this._labels = null;\r\n        this._selectHandler = null;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n         * @override\r\n\t\t*/\r\n\t\t/*override*/ protected createChildren(): void {\r\n        this.addChild(this._button = new Button());\r\n        this._button.text.align = \"left\";\r\n        this._button.labelPadding = \"0,0,0,5\";\r\n        this._button.on(Event.MOUSE_DOWN, this, this.onButtonMouseDown);\r\n    }\r\n\r\n    private _createList(): void {\r\n        this._list = new List();\r\n        if (this._scrollBarSkin) this._list.vScrollBarSkin = this._scrollBarSkin;\r\n        this._setListEvent(this._list);\r\n    }\r\n\r\n    private _setListEvent(list: List): void {\r\n        this._list.selectEnable = true;\r\n        this._list.on(Event.MOUSE_DOWN, this, this.onListDown);\r\n        this._list.mouseHandler = Handler.create(this, this.onlistItemMouse, null, false);\r\n        if (this._list.scrollBar) this._list.scrollBar.on(Event.MOUSE_DOWN, this, this.onScrollBarDown);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private onListDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onScrollBarDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onButtonMouseDown(e: Event): void {\r\n        this.callLater(this.switchTo, [!this._isOpen]);\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Button#skin\r\n     */\r\n    get skin(): string {\r\n        return this._button.skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._button.skin != value) {\r\n            this._button.skin = value;\r\n            this._listChanged = true;\r\n        }\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected measureWidth(): number {\r\n        return this._button.width;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected measureHeight(): number {\r\n        return this._button.height;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    protected changeList(): void {\r\n        this._listChanged = false;\r\n        var labelWidth: number = this.width - 2;\r\n        var labelColor: string = this._itemColors[2];\r\n        this._itemHeight = this._itemSize + 6;\r\n        this._list.itemRender = this.itemRender || { type: \"Box\", child: [{ type: \"Label\", props: { name: \"label\", x: 1, padding: \"3,3,3,3\", width: labelWidth, height: this._itemHeight, fontSize: this._itemSize, color: labelColor } }] };\r\n        this._list.repeatY = this._visibleNum;\r\n        this._list.refresh();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 下拉列表的鼠标事件响应函数。\r\n     */\r\n    protected onlistItemMouse(e: Event, index: number): void {\r\n        var type: string = e.type;\r\n        if (type === Event.MOUSE_OVER || type === Event.MOUSE_OUT) {\r\n            if (this._isCustomList) return;\r\n            var box: Box = this._list.getCell(index);\r\n            if (!box) return;\r\n            var label: Label = (<Label>box.getChildByName(\"label\"));\r\n            if (label) {\r\n                if (type === Event.ROLL_OVER) {\r\n                    label.bgColor = this._itemColors[0];\r\n                    label.color = this._itemColors[1];\r\n                } else {\r\n                    label.bgColor = null;\r\n                    label.color = this._itemColors[2];\r\n                }\r\n            }\r\n        } else if (type === Event.CLICK) {\r\n            this.selectedIndex = index;\r\n            this.isOpen = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private switchTo(value: boolean): void {\r\n        this.isOpen = value;\r\n    }\r\n\r\n    /**\r\n     * 更改下拉列表的打开状态。\r\n     */\r\n    protected changeOpen(): void {\r\n        this.isOpen = !this._isOpen;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this._button.width = this._width;\r\n        this._itemChanged = true;\r\n        this._listChanged = true;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this._button.height = this._height;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * 标签集合字符串。\r\n     */\r\n    get labels(): string {\r\n        return this._labels.join(\",\");\r\n    }\r\n\r\n    set labels(value: string) {\r\n        if (this._labels.length > 0) this.selectedIndex = -1;\r\n        if (value) this._labels = value.split(\",\");\r\n        else this._labels.length = 0;\r\n        this._itemChanged = true;\r\n    }\r\n\r\n    /**\r\n     * 更改下拉列表。\r\n     */\r\n    protected changeItem(): void {\r\n        this._itemChanged = false;\r\n        //显示边框\r\n        this._listHeight = this._labels.length > 0 ? Math.min(this._visibleNum, this._labels.length) * this._itemHeight : this._itemHeight;\r\n        if (!this._isCustomList) {\r\n            //填充背景\r\n            var g: Graphics = this._list.graphics;\r\n            g.clear(true);\r\n            g.drawRect(0, 0, this.width - 1, this._listHeight, this._itemColors[4], this._itemColors[3]);\r\n        }\r\n\r\n        //填充数据\t\t\t\r\n        var a: any[] = this._list.array || [];\r\n        a.length = 0;\r\n        for (var i: number = 0, n: number = this._labels.length; i < n; i++) {\r\n            a.push({ label: this._labels[i] });\r\n        }\r\n        this._list.height = this._listHeight;\r\n        this._list.array = a;\r\n\r\n        //if (_visibleNum > a.length) {\r\n        //_list.height = _listHeight;\r\n        //} else {\r\n        //_list.height = 0;\r\n        //}\r\n    }\r\n\r\n    /**\r\n     * 表示选择的下拉列表项的索引。\r\n     */\r\n    get selectedIndex(): number {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    set selectedIndex(value: number) {\r\n        if (this._selectedIndex != value) {\r\n            this._selectedIndex = value;\r\n\r\n            if (this._labels.length > 0) this.changeSelected();\r\n            else this.callLater(this.changeSelected);\r\n\r\n            this.event(Event.CHANGE, [Event.EMPTY.setTo(Event.CHANGE, this, this)]);\r\n            this._selectHandler && this._selectHandler.runWith(this._selectedIndex);\r\n        }\r\n    }\r\n\r\n    private changeSelected(): void {\r\n        this._button.label = this.selectedLabel;\r\n    }\r\n\r\n    /**\r\n     * 改变下拉列表的选择项时执行的处理器(默认返回参数index:int)。\r\n     */\r\n    get selectHandler(): Handler {\r\n        return this._selectHandler;\r\n    }\r\n\r\n    set selectHandler(value: Handler) {\r\n        this._selectHandler = value;\r\n    }\r\n\r\n    /**\r\n     * 表示选择的下拉列表项的的标签。\r\n     */\r\n    get selectedLabel(): string {\r\n        return this._selectedIndex > -1 && this._selectedIndex < this._labels.length ? this._labels[this._selectedIndex] : null;\r\n    }\r\n\r\n    set selectedLabel(value: string) {\r\n        this.selectedIndex = this._labels.indexOf(value);\r\n    }\r\n\r\n    /**\r\n     * 获取或设置没有滚动条的下拉列表中可显示的最大行数。\r\n     */\r\n    get visibleNum(): number {\r\n        return this._visibleNum;\r\n    }\r\n\r\n    set visibleNum(value: number) {\r\n        this._visibleNum = value;\r\n        this._listChanged = true;\r\n    }\r\n\r\n    /**\r\n     * 下拉列表项颜色。\r\n     * <p><b>格式：</b>\"悬停或被选中时背景颜色,悬停或被选中时标签颜色,标签颜色,边框颜色,背景颜色\"</p>\r\n     */\r\n    get itemColors(): string {\r\n        return String(this._itemColors)\r\n    }\r\n\r\n    set itemColors(value: string) {\r\n        this._itemColors = UIUtils.fillArray(this._itemColors, value, String);\r\n        this._listChanged = true;\r\n    }\r\n\r\n    /**\r\n     * 下拉列表项标签的字体大小。\r\n     */\r\n    get itemSize(): number {\r\n        return this._itemSize;\r\n    }\r\n\r\n    set itemSize(value: number) {\r\n        this._itemSize = value;\r\n        this._listChanged = true;\r\n    }\r\n\r\n    /**\r\n     * 表示下拉列表的打开状态。\r\n     */\r\n    get isOpen(): boolean {\r\n        return this._isOpen;\r\n    }\r\n\r\n    set isOpen(value: boolean) {\r\n        //var Laya = ILaya.Laya;\r\n        if (this._isOpen != value) {\r\n            this._isOpen = value;\r\n            this._button.selected = this._isOpen;\r\n            if (this._isOpen) {\r\n                this._list || this._createList();\r\n                this._listChanged && !this._isCustomList && this.changeList();\r\n                this._itemChanged && this.changeItem();\r\n\r\n                var p: Point = this.localToGlobal(Point.TEMP.setTo(0, 0));\r\n                var py: number = p.y + this._button.height;\r\n                py = py + this._listHeight <= ILaya.stage.height ? py : p.y - this._listHeight;\r\n\r\n                this._list.pos(p.x, py);\r\n                this._list.zOrder = 1001;\r\n\r\n                ILaya.stage.addChild(this._list);\r\n                //Laya.stage.once(Event.MOUSE_DOWN, this, removeList);\r\n                //Laya.stage.on(Event.MOUSE_WHEEL, this, _onStageMouseWheel);\r\n                //parent.addChild(_list);\r\n                ILaya.stage.once(Event.MOUSE_DOWN, this, this.removeList);\r\n                ILaya.stage.on(Event.MOUSE_WHEEL, this, this._onStageMouseWheel);\r\n                this._list.selectedIndex = this._selectedIndex;\r\n            } else {\r\n                this._list && this._list.removeSelf();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onStageMouseWheel(e: Event): void {\r\n        if (!this._list || this._list.contains(e.target)) return;\r\n        this.removeList(null);\r\n    }\r\n\r\n    /**\r\n     * 关闭下拉列表。\r\n     */\r\n    protected removeList(e: Event): void {\r\n        ILaya.stage.off(Event.MOUSE_DOWN, this, this.removeList);\r\n        ILaya.stage.off(Event.MOUSE_WHEEL, this, this._onStageMouseWheel);\r\n        this.isOpen = false;\r\n    }\r\n\r\n    /**\r\n     * 滚动条皮肤。\r\n     */\r\n    get scrollBarSkin(): string {\r\n        return this._scrollBarSkin;\r\n    }\r\n\r\n    set scrollBarSkin(value: string) {\r\n        this._scrollBarSkin = value;\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        return this._button.sizeGrid;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._button.sizeGrid = value;\r\n    }\r\n\r\n    /**\r\n     * 获取对 <code>ComboBox</code> 组件所包含的 <code>VScrollBar</code> 滚动条组件的引用。\r\n     */\r\n    get scrollBar(): VScrollBar {\r\n        return (<VScrollBar>this.list.scrollBar);\r\n    }\r\n\r\n    /**\r\n     * 获取对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的引用。\r\n     */\r\n    get button(): Button {\r\n        return this._button;\r\n    }\r\n\r\n    /**\r\n     * 获取对 <code>ComboBox</code> 组件所包含的 <code>List</code> 列表组件的引用。\r\n     */\r\n    get list(): List {\r\n        this._list || this._createList();\r\n        return this._list;\r\n    }\r\n\r\n    set list(value: List) {\r\n        if (value) {\r\n            value.removeSelf();\r\n            this._isCustomList = true;\r\n            this._list = value;\r\n            this._setListEvent(value);\r\n            this._itemHeight = value.getCell(0).height + value.spaceY;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.selectedIndex = parseInt(value as string);\r\n        else if (value instanceof Array) this.labels = ((<any[]>value)).join(\",\");\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**\r\n     * 获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本标签颜色。\r\n     * <p><b>格式：</b>upColor,overColor,downColor,disableColor</p>\r\n     */\r\n    get labelColors(): string {\r\n        return this._button.labelColors;\r\n    }\r\n\r\n    set labelColors(value: string) {\r\n        if (this._button.labelColors != value) {\r\n            this._button.labelColors = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本边距。\r\n     * <p><b>格式：</b>上边距,右边距,下边距,左边距</p>\r\n     */\r\n    get labelPadding(): string {\r\n        return this._button.text.padding.join(\",\");\r\n    }\r\n\r\n    set labelPadding(value: string) {\r\n        this._button.text.padding = UIUtils.fillArray(Styles.labelPadding, value, Number);\r\n    }\r\n\r\n    /**\r\n     * 获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的标签字体大小。\r\n     */\r\n    get labelSize(): number {\r\n        return this._button.text.fontSize;\r\n    }\r\n\r\n    set labelSize(value: number) {\r\n        this._button.text.fontSize = value\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签是否为粗体字。\r\n     * @see laya.display.Text#bold\r\n     */\r\n    get labelBold(): boolean {\r\n        return this._button.text.bold;\r\n    }\r\n\r\n    set labelBold(value: boolean) {\r\n        this._button.text.bold = value\r\n    }\r\n\r\n    /**\r\n     * 表示按钮文本标签的字体名称，以字符串形式表示。\r\n     * @see laya.display.Text#font\r\n     */\r\n    get labelFont(): string {\r\n        return this._button.text.font;\r\n    }\r\n\r\n    set labelFont(value: string) {\r\n        this._button.text.font = value\r\n    }\r\n\r\n    /**\r\n     * 表示按钮的状态值。\r\n     * @see laya.ui.Button#stateNum\r\n     */\r\n    get stateNum(): number {\r\n        return this._button.stateNum;\r\n    }\r\n\r\n    set stateNum(value: number) {\r\n        this._button.stateNum = value\r\n    }\r\n}\r\n\r\nILaya.regClass(ComboBox);\r\nClassUtils.regClass(\"laya.ui.ComboBox\", ComboBox);\r\nClassUtils.regClass(\"Laya.ComboBox\", ComboBox);","import { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { Image } from \"./Image\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 值发生改变后调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>ProgressBar</code> 组件显示内容的加载进度。\r\n * @example <caption>以下示例代码，创建了一个新的 <code>ProgressBar</code> 实例，设置了它的皮肤、位置、宽高、网格等信息，并添加到舞台上。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.ProgressBar;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class ProgressBar_Example\r\n *\t\t{\r\n *\t\t\tprivate var progressBar:ProgressBar;\r\n *\t\t\tpublic function ProgressBar_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/progress.png\", \"resource/ui/progress$bar.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tprogressBar = new ProgressBar(\"resource/ui/progress.png\");//创建一个 ProgressBar 类的实例对象 progressBar 。\r\n *\t\t\t\tprogressBar.x = 100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。\r\n *\t\t\t\tprogressBar.y = 100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。\r\n *\t\t\t\tprogressBar.value = 0.3;//设置 progressBar 的进度值。\r\n *\t\t\t\tprogressBar.width = 200;//设置 progressBar 的宽度。\r\n *\t\t\t\tprogressBar.height = 50;//设置 progressBar 的高度。\r\n *\t\t\t\tprogressBar.sizeGrid = \"5,10,5,10\";//设置 progressBar 的网格信息。\r\n *\t\t\t\tprogressBar.changeHandler = new Handler(this, onChange);//设置 progressBar 的value值改变时执行的处理器。\r\n *\t\t\t\tLaya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。\r\n *\t\t\t\tLaya.timer.once(3000, this, changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。\r\n *\t\t\t}\r\n *\t\t\tprivate function changeValue():void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"改变进度条的进度值。\");\r\n *\t\t\t\tprogressBar.value = 0.6;\r\n *\t\t\t}\r\n *\t\t\tprivate function onChange(value:Number):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"进度发生改变： value=\" ,value);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * var res = [\"resource/ui/progress.png\", \"resource/ui/progress$bar.png\"];\r\n * Laya.loader.load(res, laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n * function onLoadComplete()\r\n * {\r\n *     progressBar = new laya.ui.ProgressBar(\"resource/ui/progress.png\");//创建一个 ProgressBar 类的实例对象 progressBar 。\r\n *     progressBar.x = 100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。\r\n *     progressBar.y = 100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。\r\n *     progressBar.value = 0.3;//设置 progressBar 的进度值。\r\n *     progressBar.width = 200;//设置 progressBar 的宽度。\r\n *     progressBar.height = 50;//设置 progressBar 的高度。\r\n *     progressBar.sizeGrid = \"10,5,10,5\";//设置 progressBar 的网格信息。\r\n *     progressBar.changeHandler = new laya.utils.Handler(this, onChange);//设置 progressBar 的value值改变时执行的处理器。\r\n *     Laya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。\r\n *     Laya.timer.once(3000, this, changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。\r\n * }\r\n * function changeValue()\r\n * {\r\n *     console.log(\"改变进度条的进度值。\");\r\n *     progressBar.value = 0.6;\r\n * }\r\n * function onChange(value)\r\n * {\r\n *     console.log(\"进度发生改变： value=\" ,value);\r\n * }\r\n * @example\r\n * import ProgressBar = laya.ui.ProgressBar;\r\n * import Handler = laya.utils.Handler;\r\n * class ProgressBar_Example {\r\n *     private progressBar: ProgressBar;\r\n *     public ProgressBar_Example() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/progress.png\", \"resource/ui/progress$bar.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         this.progressBar = new ProgressBar(\"resource/ui/progress.png\");//创建一个 ProgressBar 类的实例对象 progressBar 。\r\n *         this.progressBar.x = 100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。\r\n *         this.progressBar.y = 100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。\r\n *         this.progressBar.value = 0.3;//设置 progressBar 的进度值。\r\n *         this.progressBar.width = 200;//设置 progressBar 的宽度。\r\n *         this.progressBar.height = 50;//设置 progressBar 的高度。\r\n *         this.progressBar.sizeGrid = \"5,10,5,10\";//设置 progressBar 的网格信息。\r\n *         this.progressBar.changeHandler = new Handler(this, this.onChange);//设置 progressBar 的value值改变时执行的处理器。\r\n *         Laya.stage.addChild(this.progressBar);//将 progressBar 添加到显示列表。\r\n *         Laya.timer.once(3000, this, this.changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。\r\n *     }\r\n *     private changeValue(): void {\r\n *         console.log(\"改变进度条的进度值。\");\r\n *         this.progressBar.value = 0.6;\r\n *     }\r\n *     private onChange(value: number): void {\r\n *         console.log(\"进度发生改变： value=\", value);\r\n *     }\r\n * }\r\n */\r\nexport class ProgressBar extends UIComponent {\r\n    /**\r\n     * 当 <code>ProgressBar</code> 实例的 <code>value</code> 属性发生变化时的函数处理器。\r\n     * <p>默认返回参数<code>value</code> 属性（进度值）。</p>\r\n     */\r\n    changeHandler: Handler;\r\n    /**@private */\r\n    protected _bg: Image;\r\n    /**@private */\r\n    protected _bar: Image;\r\n    /**@private */\r\n    protected _skin: string;\r\n    /**@private */\r\n    protected _value: number = 0.5;\r\n\r\n    /**\r\n     * 创建一个新的 <code>ProgressBar</code> 类实例。\r\n     * @param skin 皮肤地址。\r\n     */\r\n    constructor(skin: string = null) {\r\n        super();\r\n        this.skin = skin;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._bg && this._bg.destroy(destroyChild);\r\n        this._bar && this._bar.destroy(destroyChild);\r\n        this._bg = this._bar = null;\r\n        this.changeHandler = null;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected createChildren(): void {\r\n        this.addChild(this._bg = new Image());\r\n        this.addChild(this._bar = new Image());\r\n        this._bar._bitmap.autoCacheCmd = false;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Image#skin\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (this._skin && !Loader.getRes(this._skin)) {\r\n                ILaya.loader.load(this._skin, Handler.create(this, this._skinLoaded), null, Loader.IMAGE, 1); // TODO TS\r\n            } else {\r\n                this._skinLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this._bg.skin = this._skin;\r\n        this._bar.skin = this._skin.replace(\".png\", \"$bar.png\");\r\n        this.callLater(this.changeValue);\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected measureWidth(): number {\r\n        return this._bg.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected measureHeight(): number {\r\n        return this._bg.height;\r\n    }\r\n\r\n    /**\r\n     * 当前的进度量。\r\n     * <p><b>取值：</b>介于0和1之间。</p>\r\n     */\r\n    get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    set value(num: number) {\r\n        if (this._value != num) {\r\n            num = num > 1 ? 1 : num < 0 ? 0 : num;\r\n            this._value = num;\r\n            this.callLater(this.changeValue);\r\n            this.event(Event.CHANGE);\r\n            this.changeHandler && this.changeHandler.runWith(num);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 更改进度值的显示。\r\n     */\r\n    protected changeValue(): void {\r\n        if (this.sizeGrid) {\r\n            var grid: any[] = this.sizeGrid.split(\",\");\r\n            var left: number = Number(grid[3]);\r\n            var right: number = Number(grid[1]);\r\n            var max: number = this.width - left - right;\r\n            var sw: number = max * this._value;\r\n            this._bar.width = left + right + sw;\r\n            this._bar.visible = this._bar.width > left + right;\r\n        } else {\r\n            this._bar.width = this.width * this._value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取进度条对象。\r\n     */\r\n    get bar(): Image {\r\n        return this._bar;\r\n    }\r\n\r\n    /**\r\n     * 获取背景条对象。\r\n     */\r\n    get bg(): Image {\r\n        return this._bg;\r\n    }\r\n\r\n    /**\r\n     * <p>当前 <code>ProgressBar</code> 实例的进度条背景位图（ <code>Image</code> 实例）的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        return this._bg.sizeGrid;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bg.sizeGrid = this._bar.sizeGrid = value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set width(value: number) {\r\n        super.width = value;\r\n        this._bg.width = this._width;\r\n        this.callLater(this.changeValue);\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set height(value: number) {\r\n        super.height = value;\r\n        this._bg.height = this._height;\r\n        this._bar.height = this._height;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') this.value = Number(value);\r\n        else super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n}\r\n\r\nILaya.regClass(ProgressBar);\r\nClassUtils.regClass(\"laya.ui.ProgressBar\", ProgressBar);\r\nClassUtils.regClass(\"Laya.ProgressBar\", ProgressBar);","import { Event } from \"../events/Event\"\r\nimport { Button } from \"./Button\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n\r\n/**\r\n * <code>Radio</code> 控件使用户可在一组互相排斥的选择中做出一种选择。\r\n * 用户一次只能选择 <code>Radio</code> 组中的一个成员。选择未选中的组成员将取消选择该组中当前所选的 <code>Radio</code> 控件。 \r\n * @see laya.ui.RadioGroup\r\n */\r\nexport class Radio extends Button {\r\n\r\n    /**@private */\r\n    protected _value: any;\r\n\r\n\r\n    /**\r\n     * 创建一个新的 <code>Radio</code> 类实例。 \r\n     * @param skin 皮肤。\r\n     * @param label 标签。\r\n     */\r\n    constructor(skin: string = null, label: string = \"\") {\r\n        super(skin, label);\r\n        // preinitialize 放到这里了，因为不知道什么时候调用\r\n        this.toggle = false;\r\n        this._autoSize = false;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t * */\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._value = null;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    protected preinitialize(): void {\r\n        super.preinitialize();\r\n        this.toggle = false;\r\n        this._autoSize = false;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     * */\r\n    protected initialize(): void {\r\n        super.initialize();\r\n        this.createText();\r\n        this._text.align = \"left\";\r\n        this._text.valign = \"top\";\r\n        this._text.width = 0;\r\n        this.on(Event.CLICK, this, this.onClick);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 对象的<code>Event.CLICK</code>事件侦听处理函数。 \r\n     */\r\n    protected onClick(e: Event): void {\r\n        this.selected = true;\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取或设置 <code>Radio</code> 关联的可选用户定义值。\r\n     */\r\n    get value(): any {\r\n        return this._value != null ? this._value : this.label;\r\n    }\r\n\r\n    set value(obj: any) {\r\n        this._value = obj;\r\n    }\r\n}\r\n\r\n\r\nILaya.regClass(Radio);\r\nClassUtils.regClass(\"laya.ui.Radio\", Radio);\r\nClassUtils.regClass(\"Laya.Radio\", Radio);","import { Box } from \"./Box\";\r\nimport { IItem } from \"./IItem\";\r\nimport { ISelect } from \"./ISelect\";\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { Button } from \"./Button\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当 <code>Group</code> 实例的 <code>selectedIndex</code> 属性发生变化时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>Group</code> 是一个可以自动布局的项集合控件。\r\n * <p> <code>Group</code> 的默认项对象为 <code>Button</code> 类实例。\r\n * <code>Group</code> 是 <code>Tab</code> 和 <code>RadioGroup</code> 的基类。</p>\r\n */\r\nexport class UIGroup extends Box implements IItem {\r\n\r\n\t/**\r\n\t * 改变 <code>Group</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。\r\n\t */\r\n\tselectHandler: Handler;\r\n\r\n\t/**@private */\r\n\tprotected _items: ISelect[];\r\n\t/**@private */\r\n\tprotected _selectedIndex: number = -1;\r\n\t/**@private */\r\n\tprotected _skin: string;\r\n\t/**@private */\r\n\tprotected _direction: string = \"horizontal\";\r\n\t/**@private */\r\n\tprotected _space: number = 0;\r\n\t/**@private */\r\n\tprotected _labels: string;\r\n\t/**@private */\r\n\tprotected _labelColors: string;\r\n\t/**@private */\r\n\tprivate _labelFont: string;\r\n\t/**@private */\r\n\tprotected _labelStrokeColor: string;\r\n\t/**@private */\r\n\tprotected _strokeColors: string;\r\n\t/**@private */\r\n\tprotected _labelStroke: number;\r\n\t/**@private */\r\n\tprotected _labelSize: number;\r\n\t/**@private */\r\n\tprotected _labelBold: boolean;\r\n\t/**@private */\r\n\tprotected _labelPadding: string;\r\n\t/**@private */\r\n\tprotected _labelAlign: string;\r\n\t/**@private */\r\n\tprotected _stateNum: number;\r\n\t/**@private */\r\n\tprotected _labelChanged: boolean;\r\n\r\n\t/**\r\n\t * 创建一个新的 <code>Group</code> 类实例。\r\n\t * @param labels 标签集字符串。以逗号做分割，如\"item0,item1,item2,item3,item4,item5\"。\r\n\t * @param skin 皮肤。\r\n\t */\r\n\tconstructor(labels: string = null, skin: string = null) {\r\n\t\tsuper();\r\n\t\tthis.skin = skin;\r\n\t\tthis.labels = labels;\r\n\t}\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tprotected preinitialize(): void {\r\n\t\tthis.mouseEnabled = true;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t*/\r\n\tdestroy(destroyChild: boolean = true): void {\r\n\t\tsuper.destroy(destroyChild);\r\n\t\tthis._items && (this._items.length = 0);\r\n\t\tthis._items = null;\r\n\t\tthis.selectHandler = null;\r\n\t}\r\n\r\n\t/**\r\n\t * 添加一个项对象，返回此项对象的索引id。\r\n\t *\r\n\t * @param item 需要添加的项对象。\r\n\t * @param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。\r\n\t * @return\r\n\t */\r\n\taddItem(item: ISelect, autoLayOut: boolean = true): number {\r\n\t\tvar display: Sprite = (<Sprite>(item as any));\r\n\t\tvar index: number = this._items.length;\r\n\t\tdisplay.name = \"item\" + index;\r\n\t\tthis.addChild(display);\r\n\t\tthis.initItems();\r\n\r\n\t\tif (autoLayOut && index > 0) {\r\n\t\t\tvar preItem: Sprite = (<Sprite>(this._items[index - 1] as any));\r\n\t\t\tif (this._direction == \"horizontal\") {\r\n\t\t\t\tdisplay.x = preItem._x + preItem.width + this._space;\r\n\t\t\t} else {\r\n\t\t\t\tdisplay.y = preItem._y + preItem.height + this._space;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (autoLayOut) {\r\n\t\t\t\tdisplay.x = 0;\r\n\t\t\t\tdisplay.y = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\t/**\r\n\t * 删除一个项对象。\r\n\t * @param item 需要删除的项对象。\r\n\t * @param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。\r\n\t */\r\n\tdelItem(item: ISelect, autoLayOut: boolean = true): void {\r\n\t\tvar index: number = this._items.indexOf(item);\r\n\t\tif (index != -1) {\r\n\t\t\tvar display: Sprite = (<Sprite>(item as any));\r\n\t\t\tthis.removeChild(display);\r\n\t\t\tfor (var i: number = index + 1, n: number = this._items.length; i < n; i++) {\r\n\t\t\t\tvar child: Sprite = (<Sprite>(this._items[i] as any));\r\n\t\t\t\tchild.name = \"item\" + (i - 1);\r\n\t\t\t\tif (autoLayOut) {\r\n\t\t\t\t\tif (this._direction == \"horizontal\") {\r\n\t\t\t\t\t\tchild.x -= display.width + this._space;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tchild.y -= display.height + this._space;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.initItems();\r\n\t\t\tif (this._selectedIndex > -1) {\r\n\t\t\t\tvar newIndex: number;\r\n\t\t\t\tnewIndex = this._selectedIndex < this._items.length ? this._selectedIndex : (this._selectedIndex - 1);\r\n\t\t\t\tthis._selectedIndex = -1;\r\n\t\t\t\tthis.selectedIndex = newIndex;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**@internal */\r\n\t_afterInited(): void {\r\n\t\tthis.initItems();\r\n\t}\r\n\r\n\t/**\r\n\t * 初始化项对象们。\r\n\t */\r\n\tinitItems(): void {\r\n\t\tthis._items || (this._items = []);\r\n\t\tthis._items.length = 0;\r\n\t\tfor (var i: number = 0; i < 10000; i++) {\r\n\t\t\tvar item: ISelect = (<ISelect>(this.getChildByName(\"item\" + i) as any));\r\n\t\t\tif (item == null) break;\r\n\t\t\tthis._items.push(item);\r\n\t\t\titem.selected = (i === this._selectedIndex);\r\n\t\t\titem.clickHandler = Handler.create(this, this.itemClick, [i], false);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 项对象的点击事件侦听处理函数。\r\n\t * @param index 项索引。\r\n\t */\r\n\tprotected itemClick(index: number): void {\r\n\t\tthis.selectedIndex = index;\r\n\t}\r\n\r\n\t/**\r\n\t * 表示当前选择的项索引。默认值为-1。\r\n\t */\r\n\tget selectedIndex(): number {\r\n\t\treturn this._selectedIndex;\r\n\t}\r\n\r\n\tset selectedIndex(value: number) {\r\n\t\tif (this._selectedIndex != value) {\r\n\t\t\tthis.setSelect(this._selectedIndex, false);\r\n\t\t\tthis._selectedIndex = value;\r\n\t\t\tthis.setSelect(value, true);\r\n\t\t\tthis.event(Event.CHANGE);\r\n\t\t\tthis.selectHandler && this.selectHandler.runWith(this._selectedIndex);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 通过对象的索引设置项对象的 <code>selected</code> 属性值。\r\n\t * @param index 需要设置的项对象的索引。\r\n\t * @param selected 表示项对象的选中状态。\r\n\t */\r\n\tprotected setSelect(index: number, selected: boolean): void {\r\n\t\tif (this._items && index > -1 && index < this._items.length) this._items[index].selected = selected;\r\n\t}\r\n\r\n\t/**\r\n\t * @copy laya.ui.Image#skin\r\n\t */\r\n\tget skin(): string {\r\n\t\treturn this._skin;\r\n\t}\r\n\r\n\tset skin(value: string) {\r\n\t\tif (this._skin != value) {\r\n\t\t\tthis._skin = value;\r\n\t\t\tif (this._skin && !Loader.getRes(this._skin)) {\r\n                ILaya.loader.load(this._skin, Handler.create(this, this._skinLoaded), null, Loader.IMAGE, 1);\r\n\t\t\t} else {\r\n\t\t\t\tthis._skinLoaded();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _skinLoaded(): void {\r\n\t\tthis._setLabelChanged();\r\n\t\tthis.event(Event.LOADED);\r\n\t}\r\n\r\n\t/**\r\n\t * 标签集合字符串。以逗号做分割，如\"item0,item1,item2,item3,item4,item5\"。\r\n\t */\r\n\tget labels(): string {\r\n\t\treturn this._labels;\r\n\t}\r\n\r\n\tset labels(value: string) {\r\n\t\tif (this._labels != value) {\r\n\t\t\tthis._labels = value;\r\n\t\t\tthis.removeChildren();\r\n\t\t\tthis._setLabelChanged();\r\n\t\t\tif (this._labels) {\r\n\t\t\t\tvar a: any[] = this._labels.split(\",\");\r\n\t\t\t\tfor (var i: number = 0, n: number = a.length; i < n; i++) {\r\n\t\t\t\t\tvar item: Sprite = this.createItem(this._skin, a[i]);\r\n\t\t\t\t\titem.name = \"item\" + i;\r\n\t\t\t\t\tthis.addChild(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.initItems();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 创建一个项显示对象。\r\n\t * @param skin 项对象的皮肤。\r\n\t * @param label 项对象标签。\r\n\t */\r\n\tprotected createItem(skin: string, label: string): Sprite {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * @copy laya.ui.Button#labelColors()\r\n\t */\r\n\tget labelColors(): string {\r\n\t\treturn this._labelColors;\r\n\t}\r\n\r\n\tset labelColors(value: string) {\r\n\t\tif (this._labelColors != value) {\r\n\t\t\tthis._labelColors = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * <p>描边宽度（以像素为单位）。</p>\r\n\t * 默认值0，表示不描边。\r\n\t * @see laya.display.Text.stroke()\r\n\t */\r\n\tget labelStroke(): number {\r\n\t\treturn this._labelStroke;\r\n\t}\r\n\r\n\tset labelStroke(value: number) {\r\n\t\tif (this._labelStroke != value) {\r\n\t\t\tthis._labelStroke = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * <p>描边颜色，以字符串表示。</p>\r\n\t * 默认值为 \"#000000\"（黑色）;\r\n\t * @see laya.display.Text.strokeColor()\r\n\t */\r\n\tget labelStrokeColor(): string {\r\n\t\treturn this._labelStrokeColor;\r\n\t}\r\n\r\n\tset labelStrokeColor(value: string) {\r\n\t\tif (this._labelStrokeColor != value) {\r\n\t\t\tthis._labelStrokeColor = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * <p>表示各个状态下的描边颜色。</p>\r\n\t * @see laya.display.Text.strokeColor()\r\n\t */\r\n\tget strokeColors(): string {\r\n\t\treturn this._strokeColors;\r\n\t}\r\n\r\n\tset strokeColors(value: string) {\r\n\t\tif (this._strokeColors != value) {\r\n\t\t\tthis._strokeColors = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 表示按钮文本标签的字体大小。\r\n\t */\r\n\tget labelSize(): number {\r\n\t\treturn this._labelSize;\r\n\t}\r\n\r\n\tset labelSize(value: number) {\r\n\t\tif (this._labelSize != value) {\r\n\t\t\tthis._labelSize = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 表示按钮的状态值，以数字表示，默认为3态。\r\n\t * @see laya.ui.Button#stateNum\r\n\t */\r\n\tget stateNum(): number {\r\n\t\treturn this._stateNum;\r\n\t}\r\n\r\n\tset stateNum(value: number) {\r\n\t\tif (this._stateNum != value) {\r\n\t\t\tthis._stateNum = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 表示按钮文本标签是否为粗体字。\r\n\t */\r\n\tget labelBold(): boolean {\r\n\t\treturn this._labelBold;\r\n\t}\r\n\r\n\tset labelBold(value: boolean) {\r\n\t\tif (this._labelBold != value) {\r\n\t\t\tthis._labelBold = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 表示按钮文本标签的字体名称，以字符串形式表示。\r\n\t * @see laya.display.Text.font()\r\n\t */\r\n\tget labelFont(): string {\r\n\t\treturn this._labelFont;\r\n\t}\r\n\r\n\tset labelFont(value: string) {\r\n\t\tif (this._labelFont != value) {\r\n\t\t\tthis._labelFont = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * 表示按钮文本标签的边距。\r\n\t * <p><b>格式：</b>\"上边距,右边距,下边距,左边距\"。</p>\r\n\t */\r\n\tget labelPadding(): string {\r\n\t\treturn this._labelPadding;\r\n\t}\r\n\r\n\tset labelPadding(value: string) {\r\n\t\tif (this._labelPadding != value) {\r\n\t\t\tthis._labelPadding = value;\r\n\t\t\tthis._setLabelChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 布局方向。\r\n\t * <p>默认值为\"horizontal\"。</p>\r\n\t * <p><b>取值：</b>\r\n\t * <li>\"horizontal\"：表示水平布局。</li>\r\n\t * <li>\"vertical\"：表示垂直布局。</li>\r\n\t * </p>\r\n\t */\r\n\tget direction(): string {\r\n\t\treturn this._direction;\r\n\t}\r\n\r\n\tset direction(value: string) {\r\n\t\tthis._direction = value;\r\n\t\tthis._setLabelChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * 项对象们之间的间隔（以像素为单位）。\r\n\t */\r\n\tget space(): number {\r\n\t\treturn this._space;\r\n\t}\r\n\r\n\tset space(value: number) {\r\n\t\tthis._space = value;\r\n\t\tthis._setLabelChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * 更改项对象的属性值。\r\n\t */\r\n\tprotected changeLabels(): void {\r\n\t\tthis._labelChanged = false;\r\n\t\tif (this._items) {\r\n\t\t\tvar left: number = 0\r\n\t\t\tfor (var i: number = 0, n: number = this._items.length; i < n; i++) {\r\n\t\t\t\tvar btn: Button = (<Button>this._items[i]);\r\n\t\t\t\tthis._skin && (btn.skin = this._skin);\r\n\t\t\t\tthis._labelColors && (btn.labelColors = this._labelColors);\r\n\t\t\t\tthis._labelSize && (btn.labelSize = this._labelSize);\r\n\t\t\t\tthis._labelStroke && (btn.labelStroke = this._labelStroke);\r\n\t\t\t\tthis._labelStrokeColor && (btn.labelStrokeColor = this._labelStrokeColor);\r\n\t\t\t\tthis._strokeColors && (btn.strokeColors = this._strokeColors);\r\n\t\t\t\tthis._labelBold && (btn.labelBold = this._labelBold);\r\n\t\t\t\tthis._labelPadding && (btn.labelPadding = this._labelPadding);\r\n\t\t\t\tthis._labelAlign && (btn.labelAlign = this._labelAlign);\r\n\t\t\t\tthis._stateNum && (btn.stateNum = this._stateNum);\r\n\t\t\t\tthis._labelFont && (btn.labelFont = this._labelFont);\r\n\t\t\t\tif (this._direction === \"horizontal\") {\r\n\t\t\t\t\tbtn.y = 0;\r\n\t\t\t\t\tbtn.x = left;\r\n\t\t\t\t\tleft += btn.width + this._space;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbtn.x = 0;\r\n\t\t\t\t\tbtn.y = left;\r\n\t\t\t\t\tleft += btn.height + this._space;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._sizeChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t*/\r\n\tprotected commitMeasure(): void {\r\n\t\tthis.runCallLater(this.changeLabels);\r\n\t}\r\n\r\n\t/**\r\n\t * 项对象们的存放数组。\r\n\t */\r\n\tget items(): ISelect[] {\r\n\t\treturn this._items;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取或设置当前选择的项对象。\r\n\t */\r\n\tget selection(): ISelect {\r\n\t\treturn this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null;\r\n\t}\r\n\r\n\tset selection(value: ISelect) {\r\n\t\tthis.selectedIndex = this._items.indexOf(value);\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc \r\n\t * @override\r\n\t */\r\n\tset dataSource(value: any) {\r\n\t\tthis._dataSource = value;\r\n\t\tif (typeof (value) == 'number' || typeof (value) == 'string') this.selectedIndex = parseInt(value as string);\r\n\t\telse if (value instanceof Array) this.labels = ((<any[]>value)).join(\",\");\r\n\t\telse super.dataSource = value;\r\n\t}\r\n\t/**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n\tget dataSource() {\r\n\t\treturn super.dataSource;\r\n\t}\r\n\r\n\t/**@private */\r\n\tprotected _setLabelChanged(): void {\r\n\t\tif (!this._labelChanged) {\r\n\t\t\tthis._labelChanged = true;\r\n\t\t\tthis.callLater(this.changeLabels);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nILaya.regClass(UIGroup);\r\nClassUtils.regClass(\"laya.ui.UIGroup\", UIGroup);\r\nClassUtils.regClass(\"Laya.UIGroup\", UIGroup);","import { UIGroup } from \"./UIGroup\";\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Radio } from \"./Radio\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当 <code>Group</code> 实例的 <code>selectedIndex</code> 属性发生变化时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>RadioGroup</code> 控件定义一组 <code>Radio</code> 控件，这些控件相互排斥；\r\n * 因此，用户每次只能选择一个 <code>Radio</code> 控件。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>RadioGroup</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Radio;\r\n *\t\timport laya.ui.RadioGroup;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class RadioGroup_Example\r\n *\t\t{\r\n *\t\t\tpublic function RadioGroup_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/radio.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar radioGroup:RadioGroup = new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。\r\n *\t\t\t\tradioGroup.pos(100, 100);//设置 radioGroup 的位置信息。\r\n *\t\t\t\tradioGroup.labels = \"item0,item1,item2\";//设置 radioGroup 的标签集。\r\n *\t\t\t\tradioGroup.skin = \"resource/ui/radio.png\";//设置 radioGroup 的皮肤。\r\n *\t\t\t\tradioGroup.space = 10;//设置 radioGroup 的项间隔距离。\r\n *\t\t\t\tradioGroup.selectHandler = new Handler(this, onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。\r\n *\t\t\t\tLaya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onSelect(index:int):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"当前选择的单选按钮索引: index= \", index);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load([\"resource/ui/radio.png\"], laya.utils.Handler.create(this, onLoadComplete));\r\n * function onLoadComplete() {\r\n *     var radioGroup= new laya.ui.RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。\r\n *     radioGroup.pos(100, 100);//设置 radioGroup 的位置信息。\r\n *     radioGroup.labels = \"item0,item1,item2\";//设置 radioGroup 的标签集。\r\n *     radioGroup.skin = \"resource/ui/radio.png\";//设置 radioGroup 的皮肤。\r\n *     radioGroup.space = 10;//设置 radioGroup 的项间隔距离。\r\n *     radioGroup.selectHandler = new laya.utils.Handler(this, onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。\r\n *     Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。\r\n * }\r\n * function onSelect(index) {\r\n *     console.log(\"当前选择的单选按钮索引: index= \", index);\r\n * }\r\n * @example\r\n * import Radio = laya.ui.Radio;\r\n * import RadioGroup = laya.ui.RadioGroup;\r\n * import Handler = laya.utils.Handler;\r\n * class RadioGroup_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/radio.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         var radioGroup: RadioGroup = new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。\r\n *         radioGroup.pos(100, 100);//设置 radioGroup 的位置信息。\r\n *         radioGroup.labels = \"item0,item1,item2\";//设置 radioGroup 的标签集。\r\n *         radioGroup.skin = \"resource/ui/radio.png\";//设置 radioGroup 的皮肤。\r\n *         radioGroup.space = 10;//设置 radioGroup 的项间隔距离。\r\n *         radioGroup.selectHandler = new Handler(this, this.onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。\r\n *         Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。\r\n *     }\r\n *     private onSelect(index: number): void {\r\n *         console.log(\"当前选择的单选按钮索引: index= \", index);\r\n *     }\r\n * }\r\n */\r\nexport class RadioGroup extends UIGroup {\r\n    /**@inheritDoc \r\n     * @override\r\n    */\r\n    protected createItem(skin: string, label: string): Sprite {\r\n        return new Radio(skin, label);\r\n    }\r\n}\r\n\r\nILaya.regClass(RadioGroup);\r\nClassUtils.regClass(\"laya.ui.RadioGroup\", RadioGroup);\r\nClassUtils.regClass(\"Laya.RadioGroup\", RadioGroup);","import { Sprite } from \"../display/Sprite\"\r\nimport { Button } from \"./Button\"\r\nimport { UIGroup } from \"./UIGroup\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 当 <code>Group</code> 实例的 <code>selectedIndex</code> 属性发生变化时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>Tab</code> 组件用来定义选项卡按钮组。\t *\r\n * <p>属性：<code>selectedIndex</code> 的默认值为-1。</p>\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>Tab</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Tab;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class Tab_Example\r\n *\t\t{\r\n *\t\t\tpublic function Tab_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/tab.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar tab:Tab = new Tab();//创建一个 Tab 类的实例对象 tab 。\r\n *\t\t\t\ttab.skin = \"resource/ui/tab.png\";//设置 tab 的皮肤。\r\n *\t\t\t\ttab.labels = \"item0,item1,item2\";//设置 tab 的标签集。\r\n *\t\t\t\ttab.x = 100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。\r\n *\t\t\t\ttab.y = 100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。\r\n *\t\t\t\ttab.selectHandler = new Handler(this, onSelect);//设置 tab 的选择项发生改变时执行的处理器。\r\n *\t\t\t\tLaya.stage.addChild(tab);//将 tab 添到显示列表。\r\n *\t\t\t}\r\n *\t\t\tprivate function onSelect(index:int):void\r\n *\t\t\t{\r\n *\t\t\t\ttrace(\"当前选择的表情页索引: index= \", index);\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load([\"resource/ui/tab.png\"], laya.utils.Handler.create(this, onLoadComplete));\r\n * function onLoadComplete() {\r\n *     var tab = new laya.ui.Tab();//创建一个 Tab 类的实例对象 tab 。\r\n *     tab.skin = \"resource/ui/tab.png\";//设置 tab 的皮肤。\r\n *     tab.labels = \"item0,item1,item2\";//设置 tab 的标签集。\r\n *     tab.x = 100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。\r\n *     tab.y = 100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。\r\n *     tab.selectHandler = new laya.utils.Handler(this, onSelect);//设置 tab 的选择项发生改变时执行的处理器。\r\n *     Laya.stage.addChild(tab);//将 tab 添到显示列表。\r\n * }\r\n * function onSelect(index) {\r\n *     console.log(\"当前选择的标签页索引: index= \", index);\r\n * }\r\n * @example\r\n * import Tab = laya.ui.Tab;\r\n * import Handler = laya.utils.Handler;\r\n * class Tab_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/tab.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         var tab: Tab = new Tab();//创建一个 Tab 类的实例对象 tab 。\r\n *         tab.skin = \"resource/ui/tab.png\";//设置 tab 的皮肤。\r\n *         tab.labels = \"item0,item1,item2\";//设置 tab 的标签集。\r\n *         tab.x = 100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。\r\n *         tab.y = 100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。\r\n *         tab.selectHandler = new Handler(this, this.onSelect);//设置 tab 的选择项发生改变时执行的处理器。\r\n *         Laya.stage.addChild(tab);//将 tab 添到显示列表。\r\n *     }\r\n *     private onSelect(index: number): void {\r\n *         console.log(\"当前选择的表情页索引: index= \", index);\r\n *     }\r\n * }\r\n */\r\nexport class Tab extends UIGroup {\r\n\r\n    /**\r\n     * @private\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    protected createItem(skin: string, label: string): Sprite {\r\n        return new Button(skin, label);\r\n    }\r\n}\r\n\r\nILaya.regClass(Tab);\r\nClassUtils.regClass(\"laya.ui.Tab\", Tab);\r\nClassUtils.regClass(\"Laya.Tab\", Tab);","import { IItem } from \"./IItem\";\r\n/**\r\n * Morn UI Version 3.0 http://www.mornui.com/\r\n * Feedback yung http://weibo.com/newyung\r\n */\r\nimport { Node } from \"../display/Node\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Box } from \"./Box\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>ViewStack</code> 类用于视图堆栈类，用于视图的显示等设置处理。\r\n */\r\nexport class ViewStack extends Box implements IItem {\r\n    /**@private */\r\n    protected _items: any[];\r\n    /**@private */\r\n    protected _setIndexHandler: Handler = Handler.create(this, this.setIndex, null, false);\r\n    /**@private */\r\n    protected _selectedIndex: number;\r\n\r\n    /**\r\n     * 批量设置视图对象。\r\n     * @param views 视图对象数组。\r\n     */\r\n    setItems(views: any[]): void {\r\n        this.removeChildren();\r\n        var index: number = 0;\r\n        for (var i: number = 0, n: number = views.length; i < n; i++) {\r\n            var item: Node = views[i];\r\n            if (item) {\r\n                item.name = \"item\" + index;\r\n                this.addChild(item);\r\n                index++;\r\n            }\r\n        }\r\n        this.initItems();\r\n    }\r\n\r\n    /**\r\n     * 添加视图。\r\n     * 添加视图对象，并设置此视图对象的<code>name</code> 属性。\r\n     * @param view 需要添加的视图对象。\r\n     */\r\n    addItem(view: Node): void {\r\n        view.name = \"item\" + this._items.length;\r\n        this.addChild(view);\r\n        this.initItems();\r\n    }\r\n    /**@internal */\r\n    _afterInited(): void {\r\n        this.initItems();\r\n    }\r\n\r\n    /**\r\n     * 初始化视图对象集合。\r\n     */\r\n    initItems(): void {\r\n        this._items = [];\r\n        for (var i: number = 0; i < 10000; i++) {\r\n            var item: Sprite = (<Sprite>this.getChildByName(\"item\" + i));\r\n            if (item == null) {\r\n                break;\r\n            }\r\n            this._items.push(item);\r\n            item.visible = (i == this._selectedIndex);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示当前视图索引。\r\n     */\r\n    get selectedIndex(): number {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    set selectedIndex(value: number) {\r\n        if (this._selectedIndex != value) {\r\n            this.setSelect(this._selectedIndex, false);\r\n            this._selectedIndex = value;\r\n            this.setSelect(this._selectedIndex, true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 通过对象的索引设置项对象的 <code>selected</code> 属性值。\r\n     * @param index 需要设置的对象的索引。\r\n     * @param selected 表示对象的选中状态。\r\n     */\r\n    protected setSelect(index: number, selected: boolean): void {\r\n        if (this._items && index > -1 && index < this._items.length) {\r\n            this._items[index].visible = selected;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取或设置当前选择的项对象。\r\n     */\r\n    get selection(): Node {\r\n        return this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null;\r\n    }\r\n\r\n    set selection(value: Node) {\r\n        this.selectedIndex = this._items.indexOf(value);\r\n    }\r\n\r\n    /**\r\n     *  索引设置处理器。\r\n     * <p>默认回调参数：index:int</p>\r\n     */\r\n    get setIndexHandler(): Handler {\r\n        return this._setIndexHandler;\r\n    }\r\n\r\n    set setIndexHandler(value: Handler) {\r\n        this._setIndexHandler = value;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 设置属性<code>selectedIndex</code>的值。\r\n     * @param index 选中项索引值。\r\n     */\r\n    protected setIndex(index: number): void {\r\n        this.selectedIndex = index;\r\n    }\r\n\r\n    /**\r\n     * 视图集合数组。\r\n     */\r\n    get items(): any[] {\r\n        return this._items;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        if (typeof (value) == 'number' || typeof (value) == 'string') {\r\n            this.selectedIndex = parseInt(value as string);\r\n        } else {\r\n            for (var prop in this._dataSource) {\r\n                if (prop in this) {\r\n                    this[prop] = this._dataSource[prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n}\r\n\r\nILaya.regClass(ViewStack);\r\nClassUtils.regClass(\"laya.ui.ViewStack\", ViewStack);\r\nClassUtils.regClass(\"Laya.ViewStack\", ViewStack);","import { Label } from \"./Label\";\r\nimport { Input } from \"../display/Input\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Loader } from \"../net/Loader\"\r\nimport { AutoBitmap } from \"./AutoBitmap\"\r\nimport { Styles } from \"./Styles\"\r\nimport { UIUtils } from \"./UIUtils\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 输入文本后调度。\r\n * @eventType Event.INPUT\r\n */\r\n/*[Event(name = \"input\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 在输入框内敲回车键后调度。\r\n * @eventType Event.ENTER\r\n */\r\n/*[Event(name = \"enter\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 当获得输入焦点后调度。\r\n * @eventType Event.FOCUS\r\n */\r\n/*[Event(name = \"focus\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 当失去输入焦点后调度。\r\n * @eventType Event.BLUR\r\n */\r\n/*[Event(name = \"blur\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>TextInput</code> 类用于创建显示对象以显示和输入文本。\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>TextInput</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.display.Stage;\r\n *\t\timport laya.ui.TextInput;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class TextInput_Example\r\n *\t\t{\r\n *\t\t\tpublic function TextInput_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/input.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar textInput:TextInput = new TextInput(\"这是一个TextInput实例。\");//创建一个 TextInput 类的实例对象 textInput 。\r\n *\t\t\t\ttextInput.skin = \"resource/ui/input.png\";//设置 textInput 的皮肤。\r\n *\t\t\t\ttextInput.sizeGrid = \"4,4,4,4\";//设置 textInput 的网格信息。\r\n *\t\t\t\ttextInput.color = \"#008fff\";//设置 textInput 的文本颜色。\r\n *\t\t\t\ttextInput.font = \"Arial\";//设置 textInput 的文本字体。\r\n *\t\t\t\ttextInput.bold = true;//设置 textInput 的文本显示为粗体。\r\n *\t\t\t\ttextInput.fontSize = 30;//设置 textInput 的字体大小。\r\n *\t\t\t\ttextInput.wordWrap = true;//设置 textInput 的文本自动换行。\r\n *\t\t\t\ttextInput.x = 100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。\r\n *\t\t\t\ttextInput.y = 100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。\r\n *\t\t\t\ttextInput.width = 300;//设置 textInput 的宽度。\r\n *\t\t\t\ttextInput.height = 200;//设置 textInput 的高度。\r\n *\t\t\t\tLaya.stage.addChild(textInput);//将 textInput 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load([\"resource/ui/input.png\"], laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n * function onLoadComplete() {\r\n *     var textInput = new laya.ui.TextInput(\"这是一个TextInput实例。\");//创建一个 TextInput 类的实例对象 textInput 。\r\n *     textInput.skin = \"resource/ui/input.png\";//设置 textInput 的皮肤。\r\n *     textInput.sizeGrid = \"4,4,4,4\";//设置 textInput 的网格信息。\r\n *     textInput.color = \"#008fff\";//设置 textInput 的文本颜色。\r\n *     textInput.font = \"Arial\";//设置 textInput 的文本字体。\r\n *     textInput.bold = true;//设置 textInput 的文本显示为粗体。\r\n *     textInput.fontSize = 30;//设置 textInput 的字体大小。\r\n *     textInput.wordWrap = true;//设置 textInput 的文本自动换行。\r\n *     textInput.x = 100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。\r\n *     textInput.y = 100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。\r\n *     textInput.width = 300;//设置 textInput 的宽度。\r\n *     textInput.height = 200;//设置 textInput 的高度。\r\n *     Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。\r\n * }\r\n * @example\r\n * import Stage = laya.display.Stage;\r\n * import TextInput = laya.ui.TextInput;\r\n * import Handler = laya.utils.Handler;\r\n * class TextInput_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/input.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         var textInput: TextInput = new TextInput(\"这是一个TextInput实例。\");//创建一个 TextInput 类的实例对象 textInput 。\r\n *         textInput.skin = \"resource/ui/input.png\";//设置 textInput 的皮肤。\r\n *         textInput.sizeGrid = \"4,4,4,4\";//设置 textInput 的网格信息。\r\n *         textInput.color = \"#008fff\";//设置 textInput 的文本颜色。\r\n *         textInput.font = \"Arial\";//设置 textInput 的文本字体。\r\n *         textInput.bold = true;//设置 textInput 的文本显示为粗体。\r\n *         textInput.fontSize = 30;//设置 textInput 的字体大小。\r\n *         textInput.wordWrap = true;//设置 textInput 的文本自动换行。\r\n *         textInput.x = 100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。\r\n *         textInput.y = 100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。\r\n *         textInput.width = 300;//设置 textInput 的宽度。\r\n *         textInput.height = 200;//设置 textInput 的高度。\r\n *         Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。\r\n *     }\r\n * }\r\n */\r\nexport class TextInput extends Label {\r\n    /** @private */\r\n    protected _bg: AutoBitmap;\r\n    /** @private */\r\n    protected _skin: string;\r\n\r\n    /**\r\n     * 创建一个新的 <code>TextInput</code> 类实例。\r\n     * @param text 文本内容。\r\n     */\r\n    constructor(text: string = \"\") {\r\n        super();\r\n        this.text = text;\r\n        this.skin = this.skin;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n         * @override\r\n\t\t*/\r\n\t\tprotected preinitialize(): void {\r\n        this.mouseEnabled = true;\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._bg && this._bg.destroy();\r\n        this._bg = null;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override \r\n    */\r\n    protected createChildren(): void {\r\n        this.addChild(this._tf = new Input());\r\n        this._tf.padding = Styles.inputLabelPadding;\r\n        this._tf.on(Event.INPUT, this, this._onInput);\r\n        this._tf.on(Event.ENTER, this, this._onEnter);\r\n        this._tf.on(Event.BLUR, this, this._onBlur);\r\n        this._tf.on(Event.FOCUS, this, this._onFocus);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onFocus(): void {\r\n        this.event(Event.FOCUS, this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onBlur(): void {\r\n        this.event(Event.BLUR, this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onInput(): void {\r\n        this.event(Event.INPUT, this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onEnter(): void {\r\n        this.event(Event.ENTER, this);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    protected initialize(): void {\r\n        this.width = 128;\r\n        this.height = 22;\r\n    }\r\n\r\n    /**\r\n     * 表示此对象包含的文本背景 <code>AutoBitmap</code> 组件实例。\r\n     */\r\n    get bg(): AutoBitmap {\r\n        return this._bg;\r\n    }\r\n\r\n    set bg(value: AutoBitmap) {\r\n        this.graphics = this._bg = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.ui.Image#skin\r\n     */\r\n    get skin(): string {\r\n        return this._skin;\r\n    }\r\n\r\n    set skin(value: string) {\r\n        if (this._skin != value) {\r\n            this._skin = value;\r\n            if (this._skin && !Loader.getRes(this._skin)) {\r\n                ILaya.loader.load(this._skin, Handler.create(this, this._skinLoaded), null, Loader.IMAGE, 1);\r\n            } else {\r\n                this._skinLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _skinLoaded(): void {\r\n        this._bg || (this.graphics = this._bg = new AutoBitmap());\r\n        this._bg.source = Loader.getRes(this._skin);\r\n        this._width && (this._bg.width = this._width);\r\n        this._height && (this._bg.height = this._height);\r\n        this._sizeChanged();\r\n        this.event(Event.LOADED);\r\n    }\r\n\r\n    /**\r\n     * <p>当前实例的背景图（ <code>AutoBitmap</code> ）实例的有效缩放网格数据。</p>\r\n     * <p>数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。\r\n     * <ul><li>例如：\"4,4,4,4,1\"</li></ul></p>\r\n     * @see laya.ui.AutoBitmap.sizeGrid\r\n     */\r\n    get sizeGrid(): string {\r\n        return this._bg && this._bg.sizeGrid ? this._bg.sizeGrid.join(\",\") : null;\r\n    }\r\n\r\n    set sizeGrid(value: string) {\r\n        this._bg || (this.graphics = this._bg = new AutoBitmap());\r\n        this._bg.sizeGrid = UIUtils.fillArray(Styles.defaultSizeGrid, value, Number);\r\n    }\r\n\r\n    /**\r\n     * 当前文本内容字符串。\r\n     * @see laya.display.Text.text\r\n     * @override\r\n     */\r\n\tset text(value: string) {\r\n        if (this._tf.text != value) {\r\n            value = value + \"\";\r\n            this._tf.text = value;\r\n            this.event(Event.CHANGE);\r\n        }\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    get text() {\r\n        return super.text;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this._bg && (this._bg.width = value);\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this._bg && (this._bg.height = value);\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * <p>指示当前是否是文本域。</p>\r\n     * 值为true表示当前是文本域，否则不是文本域。\r\n     */\r\n    get multiline(): boolean {\r\n        return ((<Input>this._tf)).multiline;\r\n    }\r\n\r\n    set multiline(value: boolean) {\r\n        (<Input>this._tf).multiline = value;\r\n    }\r\n\r\n    /**\r\n     * 设置可编辑状态。\r\n     */\r\n    set editable(value: boolean) {\r\n        (<Input>this._tf).editable = value;\r\n    }\r\n\r\n    get editable(): boolean {\r\n        return (<Input>this._tf).editable;\r\n    }\r\n\r\n    /**选中输入框内的文本。*/\r\n    select(): void {\r\n        ((<Input>this._tf)).select();\r\n    }\r\n\r\n    /**限制输入的字符。*/\r\n    get restrict(): string {\r\n        return (<Input>this._tf).restrict;\r\n    }\r\n\r\n    set restrict(pattern: string) {\r\n        (<Input>this._tf).restrict = pattern;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Input#prompt\r\n     */\r\n    get prompt(): string {\r\n        return (<Input>this._tf).prompt;\r\n    }\r\n\r\n    set prompt(value: string) {\r\n        (<Input>this._tf).prompt = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Input#promptColor\r\n     */\r\n    get promptColor(): string {\r\n        return (<Input>this._tf).promptColor;\r\n    }\r\n\r\n    set promptColor(value: string) {\r\n        (<Input>this._tf).promptColor = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Input#maxChars\r\n     */\r\n    get maxChars(): number {\r\n        return (<Input>this._tf).maxChars;\r\n    }\r\n\r\n    set maxChars(value: number) {\r\n        (<Input>this._tf).maxChars = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Input#focus\r\n     */\r\n    get focus(): boolean {\r\n        return (<Input>this._tf).focus;\r\n    }\r\n\r\n    set focus(value: boolean) {\r\n        (<Input>this._tf).focus = value;\r\n    }\r\n\r\n    /**\r\n     * @copy laya.display.Input#type\r\n     */\r\n    get type(): string {\r\n        return (<Input>this._tf).type;\r\n    }\r\n\r\n    set type(value: string) {\r\n        (<Input>this._tf).type = value;\r\n    }\r\n\r\n    setSelection(startIndex: number, endIndex: number): void {\r\n        (<Input>this._tf).setSelection(startIndex, endIndex);\r\n    }\r\n}\r\n\r\nILaya.regClass(TextInput);\r\nClassUtils.regClass(\"laya.ui.TextInput\", TextInput);\r\nClassUtils.regClass(\"Laya.TextInput\", TextInput);","import { TextInput } from \"./TextInput\";\r\nimport { VScrollBar } from \"./VScrollBar\";\r\nimport { HScrollBar } from \"./HScrollBar\";\r\nimport { Styles } from \"./Styles\";\r\nimport { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>TextArea</code> 类用于创建显示对象以显示和输入文本。\r\n * @example <caption>以下示例代码，创建了一个 <code>TextArea</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.TextArea;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class TextArea_Example\r\n *\t\t{\r\n *\t\t\tpublic function TextArea_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/input.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar textArea:TextArea = new TextArea(\"这个一个TextArea实例。\");//创建一个 TextArea 类的实例对象 textArea 。\r\n *\t\t\t\ttextArea.skin = \"resource/ui/input.png\";//设置 textArea 的皮肤。\r\n *\t\t\t\ttextArea.sizeGrid = \"4,4,4,4\";//设置 textArea 的网格信息。\r\n *\t\t\t\ttextArea.color = \"#008fff\";//设置 textArea 的文本颜色。\r\n *\t\t\t\ttextArea.font = \"Arial\";//设置 textArea 的字体。\r\n *\t\t\t\ttextArea.bold = true;//设置 textArea 的文本显示为粗体。\r\n *\t\t\t\ttextArea.fontSize = 20;//设置 textArea 的文本字体大小。\r\n *\t\t\t\ttextArea.wordWrap = true;//设置 textArea 的文本自动换行。\r\n *\t\t\t\ttextArea.x = 100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。\r\n *\t\t\t\ttextArea.y = 100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。\r\n *\t\t\t\ttextArea.width = 300;//设置 textArea 的宽度。\r\n *\t\t\t\ttextArea.height = 200;//设置 textArea 的高度。\r\n *\t\t\t\tLaya.stage.addChild(textArea);//将 textArea 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * Laya.loader.load([\"resource/ui/input.png\"], laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n * function onLoadComplete() {\r\n *     var textArea = new laya.ui.TextArea(\"这个一个TextArea实例。\");//创建一个 TextArea 类的实例对象 textArea 。\r\n *     textArea.skin = \"resource/ui/input.png\";//设置 textArea 的皮肤。\r\n *     textArea.sizeGrid = \"4,4,4,4\";//设置 textArea 的网格信息。\r\n *     textArea.color = \"#008fff\";//设置 textArea 的文本颜色。\r\n *     textArea.font = \"Arial\";//设置 textArea 的字体。\r\n *     textArea.bold = true;//设置 textArea 的文本显示为粗体。\r\n *     textArea.fontSize = 20;//设置 textArea 的文本字体大小。\r\n *     textArea.wordWrap = true;//设置 textArea 的文本自动换行。\r\n *     textArea.x = 100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。\r\n *     textArea.y = 100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。\r\n *     textArea.width = 300;//设置 textArea 的宽度。\r\n *     textArea.height = 200;//设置 textArea 的高度。\r\n *     Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。\r\n * }\r\n * @example\r\n * import TextArea = laya.ui.TextArea;\r\n * import Handler = laya.utils.Handler;\r\n * class TextArea_Example {\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/input.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n\t\r\n *     private onLoadComplete(): void {\r\n *         var textArea: TextArea = new TextArea(\"这个一个TextArea实例。\");//创建一个 TextArea 类的实例对象 textArea 。\r\n *         textArea.skin = \"resource/ui/input.png\";//设置 textArea 的皮肤。\r\n *         textArea.sizeGrid = \"4,4,4,4\";//设置 textArea 的网格信息。\r\n *         textArea.color = \"#008fff\";//设置 textArea 的文本颜色。\r\n *         textArea.font = \"Arial\";//设置 textArea 的字体。\r\n *         textArea.bold = true;//设置 textArea 的文本显示为粗体。\r\n *         textArea.fontSize = 20;//设置 textArea 的文本字体大小。\r\n *         textArea.wordWrap = true;//设置 textArea 的文本自动换行。\r\n *         textArea.x = 100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。\r\n *         textArea.y = 100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。\r\n *         textArea.width = 300;//设置 textArea 的宽度。\r\n *         textArea.height = 200;//设置 textArea 的高度。\r\n *         Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。\r\n *     }\r\n * }\r\n */\r\nexport class TextArea extends TextInput {\r\n    /**@private */\r\n    protected _vScrollBar: VScrollBar;\r\n    /**@private */\r\n    protected _hScrollBar: HScrollBar;\r\n\r\n    /**\r\n     * <p>创建一个新的 <code>TextArea</code> 示例。</p>\r\n     * @param text 文本内容字符串。\r\n     */\r\n    constructor(text: string = \"\") {\r\n        super(text);\r\n        this.on(Event.CHANGE, this, this._onTextChange);\r\n    }\r\n\r\n    private _onTextChange(): void {\r\n        this.callLater(this.changeScroll);\r\n    }\r\n    /**\r\n     * \r\n     * @param destroyChild \r\n     * @override\r\n     */\r\n    destroy(destroyChild: boolean = true): void {\r\n        this._vScrollBar && this._vScrollBar.destroy();\r\n        this._hScrollBar && this._hScrollBar.destroy();\r\n        this._vScrollBar = null;\r\n        this._hScrollBar = null;\r\n        super.destroy(destroyChild);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    protected initialize(): void {\r\n        this.width = 180;\r\n        this.height = 150;\r\n        this._tf.wordWrap = true;\r\n        this.multiline = true;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this.callLater(this.changeScroll);\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this.callLater(this.changeScroll);\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**垂直滚动条皮肤*/\r\n    get vScrollBarSkin(): string {\r\n        return this._vScrollBar ? this._vScrollBar.skin : null;\r\n    }\r\n\r\n    set vScrollBarSkin(value: string) {\r\n        if (this._vScrollBar == null) {\r\n            this.addChild(this._vScrollBar = new VScrollBar());\r\n            this._vScrollBar.on(Event.CHANGE, this, this.onVBarChanged);\r\n            this._vScrollBar.target = this._tf;\r\n            this.callLater(this.changeScroll);\r\n        }\r\n        this._vScrollBar.skin = value;\r\n    }\r\n\r\n    /**水平滚动条皮肤*/\r\n    get hScrollBarSkin(): string {\r\n        return this._hScrollBar ? this._hScrollBar.skin : null;\r\n    }\r\n\r\n    set hScrollBarSkin(value: string) {\r\n        if (this._hScrollBar == null) {\r\n            this.addChild(this._hScrollBar = new HScrollBar());\r\n            this._hScrollBar.on(Event.CHANGE, this, this.onHBarChanged);\r\n            this._hScrollBar.mouseWheelEnable = false;\r\n            this._hScrollBar.target = this._tf;\r\n            this.callLater(this.changeScroll);\r\n        }\r\n        this._hScrollBar.skin = value;\r\n    }\r\n\r\n    protected onVBarChanged(e: Event): void {\r\n        if (this._tf.scrollY != this._vScrollBar.value) {\r\n            this._tf.scrollY = this._vScrollBar.value;\r\n        }\r\n    }\r\n\r\n    protected onHBarChanged(e: Event): void {\r\n        if (this._tf.scrollX != this._hScrollBar.value) {\r\n            this._tf.scrollX = this._hScrollBar.value;\r\n        }\r\n    }\r\n\r\n    /**垂直滚动条实体*/\r\n    get vScrollBar(): VScrollBar {\r\n        return this._vScrollBar;\r\n    }\r\n\r\n    /**水平滚动条实体*/\r\n    get hScrollBar(): HScrollBar {\r\n        return this._hScrollBar;\r\n    }\r\n\r\n    /**垂直滚动最大值*/\r\n    get maxScrollY(): number {\r\n        return this._tf.maxScrollY;\r\n    }\r\n\r\n    /**垂直滚动值*/\r\n    get scrollY(): number {\r\n        return this._tf.scrollY;\r\n    }\r\n\r\n    /**水平滚动最大值*/\r\n    get maxScrollX(): number {\r\n        return this._tf.maxScrollX;\r\n    }\r\n\r\n    /**水平滚动值*/\r\n    get scrollX(): number {\r\n        return this._tf.scrollX;\r\n    }\r\n\r\n    private changeScroll(): void {\r\n        var vShow: boolean = this._vScrollBar && this._tf.maxScrollY > 0;\r\n        var hShow: boolean = this._hScrollBar && this._tf.maxScrollX > 0;\r\n        var showWidth: number = vShow ? this._width - this._vScrollBar.width : this._width;\r\n        var showHeight: number = hShow ? this._height - this._hScrollBar.height : this._height;\r\n        var padding: any[] = this._tf.padding || Styles.labelPadding;\r\n\r\n        this._tf.width = showWidth;\r\n        this._tf.height = showHeight;\r\n\r\n        if (this._vScrollBar) {\r\n            this._vScrollBar.x = this._width - this._vScrollBar.width - padding[2];\r\n            this._vScrollBar.y = padding[1];\r\n            this._vScrollBar.height = this._height - (hShow ? this._hScrollBar.height : 0) - padding[1] - padding[3];\r\n            this._vScrollBar.scrollSize = 1;\r\n            this._vScrollBar.thumbPercent = showHeight / Math.max(this._tf.textHeight, showHeight);\r\n            this._vScrollBar.setScroll(1, this._tf.maxScrollY, this._tf.scrollY);\r\n            this._vScrollBar.visible = vShow;\r\n        }\r\n        if (this._hScrollBar) {\r\n            this._hScrollBar.x = padding[0];\r\n            this._hScrollBar.y = this._height - this._hScrollBar.height - padding[3];\r\n            this._hScrollBar.width = this._width - (vShow ? this._vScrollBar.width : 0) - padding[0] - padding[2];\r\n            this._hScrollBar.scrollSize = Math.max(showWidth * 0.033, 1);\r\n            this._hScrollBar.thumbPercent = showWidth / Math.max(this._tf.textWidth, showWidth);\r\n            this._hScrollBar.setScroll(0, this.maxScrollX, this.scrollX);\r\n            this._hScrollBar.visible = hShow;\r\n        }\r\n    }\r\n\r\n    /**滚动到某个位置*/\r\n    scrollTo(y: number): void {\r\n        this.commitMeasure();\r\n        this._tf.scrollY = y;\r\n    }\r\n}\r\n\r\nILaya.regClass(TextArea);\r\nClassUtils.regClass(\"laya.ui.TextArea\", TextArea);\r\nClassUtils.regClass(\"Laya.TextArea\", TextArea);","import { Box } from \"./Box\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 自适应缩放容器，容器设置大小后，容器大小始终保持stage大小，子内容按照原始最小宽高比缩放\r\n */\r\nexport class ScaleBox extends Box {\r\n    private _oldW: number = 0;\r\n    private _oldH: number = 0;\r\n    /**\r\n     * @override\r\n     */\r\n    onEnable(): void {\r\n        ILaya.stage.on(\"resize\", this, this.onResize);\r\n        this.onResize();\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    onDisable(): void {\r\n        ILaya.stage.off(\"resize\", this, this.onResize);\r\n    }\r\n\r\n    private onResize(): void {\r\n        let stage = ILaya.stage;\r\n        if (this.width > 0 && this.height > 0) {\r\n            var scale: number = Math.min(stage.width / this._oldW, stage.height / this._oldH);\r\n            super.width = stage.width;\r\n            super.height = stage.height;\r\n            this.scale(scale, scale);\r\n        }\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set width(value: number) {\r\n        super.width = value;\r\n        this._oldW = value;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    set height(value: number) {\r\n        super.height = value;\r\n        this._oldH = value;\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n}\r\n\r\n\r\nILaya.regClass(ScaleBox);\r\nClassUtils.regClass(\"laya.ui.ScaleBox\", ScaleBox);\r\nClassUtils.regClass(\"Laya.ScaleBox\", ScaleBox);","import { Slider } from \"./Slider\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 使用 <code>HSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。\r\n\t * <p> <code>HSlider</code> 控件采用水平方向。滑块轨道从左向右扩展，而标签位于轨道的顶部或底部。</p>\r\n\t *\r\n\t * @example <caption>以下示例代码，创建了一个 <code>HSlider</code> 实例。</caption>\r\n\t * package\r\n\t *\t{\r\n\t *\t\timport laya.ui.HSlider;\r\n\t *\t\timport laya.utils.Handler;\r\n\t *\t\tpublic class HSlider_Example\r\n\t *\t\t{\r\n\t *\t\t\tprivate var hSlider:HSlider;\r\n\t *\t\t\tpublic function HSlider_Example()\r\n\t *\t\t\t{\r\n\t *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n\t *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *\t\t\t\tLaya.loader.load([\"resource/ui/hslider.png\", \"resource/ui/hslider$bar.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onLoadComplete():void\r\n\t *\t\t\t{\r\n\t *\t\t\t\thSlider = new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。\r\n\t *\t\t\t\thSlider.skin = \"resource/ui/hslider.png\";//设置 hSlider 的皮肤。\r\n\t *\t\t\t\thSlider.min = 0;//设置 hSlider 最低位置值。\r\n\t *\t\t\t\thSlider.max = 10;//设置 hSlider 最高位置值。\r\n\t *\t\t\t\thSlider.value = 2;//设置 hSlider 当前位置值。\r\n\t *\t\t\t\thSlider.tick = 1;//设置 hSlider 刻度值。\r\n\t *\t\t\t\thSlider.x = 100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。\r\n\t *\t\t\t\thSlider.y = 100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。\r\n\t *\t\t\t\thSlider.changeHandler = new Handler(this, onChange);//设置 hSlider 位置变化处理器。\r\n\t *\t\t\t\tLaya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onChange(value:Number):void\r\n\t *\t\t\t{\r\n\t *\t\t\t\ttrace(\"滑块的位置： value=\" + value);\r\n\t *\t\t\t}\r\n\t *\t\t}\r\n\t *\t}\r\n\t * @example\r\n\t * Laya.init(640, 800, \"canvas\");//设置游戏画布宽高、渲染模式\r\n\t * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n\t * var hSlider;\r\n\t * var res = [\"resource/ui/hslider.png\", \"resource/ui/hslider$bar.png\"];\r\n\t * Laya.loader.load(res, laya.utils.Handler.create(this, onLoadComplete));\r\n\t * function onLoadComplete() {\r\n\t *     console.log(\"资源加载完成！\");\r\n\t *     hSlider = new laya.ui.HSlider();//创建一个 HSlider 类的实例对象 hSlider 。\r\n\t *     hSlider.skin = \"resource/ui/hslider.png\";//设置 hSlider 的皮肤。\r\n\t *     hSlider.min = 0;//设置 hSlider 最低位置值。\r\n\t *     hSlider.max = 10;//设置 hSlider 最高位置值。\r\n\t *     hSlider.value = 2;//设置 hSlider 当前位置值。\r\n\t *     hSlider.tick = 1;//设置 hSlider 刻度值。\r\n\t *     hSlider.x = 100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。\r\n\t *     hSlider.y = 100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。\r\n\t *     hSlider.changeHandler = new laya.utils.Handler(this, onChange);//设置 hSlider 位置变化处理器。\r\n\t *     Laya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。\r\n\t * }\r\n\t * function onChange(value)\r\n\t * {\r\n\t *     console.log(\"滑块的位置： value=\" + value);\r\n\t * }\r\n\t * @example\r\n\t * import Handler = laya.utils.Handler;\r\n\t * import HSlider = laya.ui.HSlider;\r\n\t * class HSlider_Example {\r\n\t *     private hSlider: HSlider;\r\n\t *     constructor() {\r\n\t *         Laya.init(640, 800);//设置游戏画布宽高。\r\n\t *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *         Laya.loader.load([\"resource/ui/hslider.png\", \"resource/ui/hslider$bar.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n\t *     }\r\n\t *     private onLoadComplete(): void {\r\n\t *         this.hSlider = new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。\r\n\t *         this.hSlider.skin = \"resource/ui/hslider.png\";//设置 hSlider 的皮肤。\r\n\t *         this.hSlider.min = 0;//设置 hSlider 最低位置值。\r\n\t *         this.hSlider.max = 10;//设置 hSlider 最高位置值。\r\n\t *         this.hSlider.value = 2;//设置 hSlider 当前位置值。\r\n\t *         this.hSlider.tick = 1;//设置 hSlider 刻度值。\r\n\t *         this.hSlider.x = 100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。\r\n\t *         this.hSlider.y = 100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。\r\n\t *         this.hSlider.changeHandler = new Handler(this, this.onChange);//设置 hSlider 位置变化处理器。\r\n\t *         Laya.stage.addChild(this.hSlider);//把 hSlider 添加到显示列表。\r\n\t *     }\r\n\t *     private onChange(value: number): void {\r\n\t *         console.log(\"滑块的位置： value=\" + value);\r\n\t *     }\r\n\t * }\r\n\t *\r\n\t * @see laya.ui.Slider\r\n\t */\r\nexport class HSlider extends Slider {\r\n\r\n    /**\r\n     * 创建一个 <code>HSlider</code> 类实例。\r\n     * @param skin 皮肤。\r\n     */\r\n    constructor(skin: string = null) {\r\n        super(skin);\r\n        this.isVertical = false;\r\n    }\r\n}\r\n\r\nILaya.regClass(HSlider);\r\nClassUtils.regClass(\"laya.ui.HSlider\", HSlider);\r\nClassUtils.regClass(\"Laya.HSlider\", HSlider);","import { Box } from \"./Box\";\r\nimport { VScrollBar } from \"./VScrollBar\";\r\nimport { HScrollBar } from \"./HScrollBar\";\r\nimport { ScrollBar } from \"./ScrollBar\";\r\nimport { Node } from \"../display/Node\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Rectangle } from \"../maths/Rectangle\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>Panel</code> 是一个面板容器类。\r\n */\r\nexport class Panel extends Box {\r\n    /**@private */\r\n    protected _content: Box;\r\n    /**@private */\r\n    protected _vScrollBar: VScrollBar;\r\n    /**@private */\r\n    protected _hScrollBar: HScrollBar;\r\n    /**@private */\r\n    protected _scrollChanged: boolean;\r\n    /**@private */\r\n    protected _usedCache: string = null;\r\n    /**@private */\r\n    protected _elasticEnabled: boolean = false;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Panel</code> 类实例。\r\n     * <p>在 <code>Panel</code> 构造函数中设置属性width、height的值都为100。</p>\r\n     */\r\n    constructor() {\r\n        super();\r\n        this.width = this.height = 100;\r\n        //子对象缩放的情况下，优化会有问题，先屏蔽掉\r\n        //_content.optimizeScrollRect = true;\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._content && this._content.destroy(destroyChild);\r\n        this._vScrollBar && this._vScrollBar.destroy(destroyChild);\r\n        this._hScrollBar && this._hScrollBar.destroy(destroyChild);\r\n        this._vScrollBar = null;\r\n        this._hScrollBar = null;\r\n        this._content = null;\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    destroyChildren(): void {\r\n        this._content.destroyChildren();\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    protected createChildren(): void {\r\n        super.addChild(this._content = new Box());\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    addChild(child: Node): Node {\r\n        child.on(Event.RESIZE, this, this.onResize);\r\n        this._setScrollChanged();\r\n        return this._content.addChild(child);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 子对象的 <code>Event.RESIZE</code> 事件侦听处理函数。\r\n     */\r\n    private onResize(): void {\r\n        this._setScrollChanged();\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    addChildAt(child: Node, index: number): Node {\r\n        child.on(Event.RESIZE, this, this.onResize);\r\n        this._setScrollChanged();\r\n        return this._content.addChildAt(child, index);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    removeChild(child: Node): Node {\r\n        child.off(Event.RESIZE, this, this.onResize);\r\n        this._setScrollChanged();\r\n        return this._content.removeChild(child);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    removeChildAt(index: number): Node {\r\n        this.getChildAt(index).off(Event.RESIZE, this, this.onResize);\r\n        this._setScrollChanged();\r\n        return this._content.removeChildAt(index);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    removeChildren(beginIndex: number = 0, endIndex: number = 0x7fffffff): Node {\r\n        this._content.removeChildren(beginIndex, endIndex);\r\n        this._setScrollChanged();\r\n        return this;\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    getChildAt(index: number): Node {\r\n        return this._content.getChildAt(index);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    getChildByName(name: string): Node {\r\n        return this._content.getChildByName(name);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    getChildIndex(child: Node): number {\r\n        return this._content.getChildIndex(child);\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    get numChildren(): number {\r\n        return this._content.numChildren;\r\n    }\r\n\r\n    /**@private */\r\n    private changeScroll(): void {\r\n        this._scrollChanged = false;\r\n        var contentW: number = this.contentWidth || 1;\r\n        var contentH: number = this.contentHeight || 1;\r\n\r\n        var vscroll: ScrollBar = this._vScrollBar;\r\n        var hscroll: ScrollBar = this._hScrollBar;\r\n\r\n        var vShow: boolean = vscroll && contentH > this._height;\r\n        var hShow: boolean = hscroll && contentW > this._width;\r\n        var showWidth: number = vShow ? this._width - vscroll.width : this._width;\r\n        var showHeight: number = hShow ? this._height - hscroll.height : this._height;\r\n\r\n        if (vscroll) {\r\n            vscroll.x = this._width - vscroll.width;\r\n            vscroll.y = 0;\r\n            vscroll.height = this._height - (hShow ? hscroll.height : 0);\r\n            vscroll.scrollSize = Math.max(this._height * 0.033, 1);\r\n            vscroll.thumbPercent = showHeight / contentH;\r\n            vscroll.setScroll(0, contentH - showHeight, vscroll.value);\r\n        }\r\n        if (hscroll) {\r\n            hscroll.x = 0;\r\n            hscroll.y = this._height - hscroll.height;\r\n            hscroll.width = this._width - (vShow ? vscroll.width : 0);\r\n            hscroll.scrollSize = Math.max(this._width * 0.033, 1);\r\n            hscroll.thumbPercent = showWidth / contentW;\r\n            hscroll.setScroll(0, contentW - showWidth, hscroll.value);\r\n        }\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    protected _sizeChanged(): void {\r\n        super._sizeChanged();\r\n        this.setContentSize(this._width, this._height);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取内容宽度（以像素为单位）。\r\n     */\r\n    get contentWidth(): number {\r\n        var max: number = 0;\r\n        for (var i: number = this._content.numChildren - 1; i > -1; i--) {\r\n            var comp: Sprite = (<Sprite>this._content.getChildAt(i));\r\n            max = Math.max(comp._x + comp.width * comp.scaleX - comp.pivotX, max);\r\n        }\r\n        return max;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取内容高度（以像素为单位）。\r\n     */\r\n    get contentHeight(): number {\r\n        var max: number = 0;\r\n        for (var i: number = this._content.numChildren - 1; i > -1; i--) {\r\n            var comp: Sprite = (<Sprite>this._content.getChildAt(i));\r\n            max = Math.max(comp._y + comp.height * comp.scaleY - comp.pivotY, max);\r\n        }\r\n        return max;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 设置内容的宽度、高度（以像素为单位）。\r\n     * @param width 宽度。\r\n     * @param height 高度。\r\n     */\r\n    private setContentSize(width: number, height: number): void {\r\n        var content: Box = this._content;\r\n        content.width = width;\r\n        content.height = height;\r\n        content._style.scrollRect || (content.scrollRect = Rectangle.create());\r\n        content._style.scrollRect.setTo(0, 0, width, height);\r\n        content.scrollRect = content.scrollRect;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    set width(value: number) {\r\n        super.width = value;\r\n        this._setScrollChanged();\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    set height(value: number) {\r\n        super.height = value;\r\n        this._setScrollChanged();\r\n    }\r\n    /**@inheritDoc @override*/\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * 垂直方向滚动条皮肤。\r\n     */\r\n    get vScrollBarSkin(): string {\r\n        return this._vScrollBar ? this._vScrollBar.skin : null;\r\n    }\r\n\r\n    set vScrollBarSkin(value: string) {\r\n        if (this._vScrollBar == null) {\r\n            super.addChild(this._vScrollBar = new VScrollBar());\r\n            this._vScrollBar.on(Event.CHANGE, this, this.onScrollBarChange, [this._vScrollBar]);\r\n            this._vScrollBar.target = this._content;\r\n            this._vScrollBar.elasticDistance = this._elasticEnabled ? 200 : 0;\r\n            this._setScrollChanged();\r\n        }\r\n        this._vScrollBar.skin = value;\r\n    }\r\n\r\n    /**\r\n     * 水平方向滚动条皮肤。\r\n     */\r\n    get hScrollBarSkin(): string {\r\n        return this._hScrollBar ? this._hScrollBar.skin : null;\r\n    }\r\n\r\n    set hScrollBarSkin(value: string) {\r\n        if (this._hScrollBar == null) {\r\n            super.addChild(this._hScrollBar = new HScrollBar());\r\n            this._hScrollBar.on(Event.CHANGE, this, this.onScrollBarChange, [this._hScrollBar]);\r\n            this._hScrollBar.target = this._content;\r\n            this._hScrollBar.elasticDistance = this._elasticEnabled ? 200 : 0;\r\n            this._setScrollChanged();\r\n        }\r\n        this._hScrollBar.skin = value;\r\n    }\r\n\r\n    /**\r\n     * 垂直方向滚动条对象。\r\n     */\r\n    get vScrollBar(): ScrollBar {\r\n        return this._vScrollBar;\r\n    }\r\n\r\n    /**\r\n     * 水平方向滚动条对象。\r\n     */\r\n    get hScrollBar(): ScrollBar {\r\n        return this._hScrollBar;\r\n    }\r\n\r\n    /**\r\n     * 获取内容容器对象。\r\n     */\r\n    get content(): Sprite {\r\n        return this._content;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 滚动条的<code><code>Event.MOUSE_DOWN</code>事件侦听处理函数。</code>事件侦听处理函数。\r\n     * @param scrollBar 滚动条对象。\r\n     * @param e Event 对象。\r\n     */\r\n    protected onScrollBarChange(scrollBar: ScrollBar): void {\r\n        var rect: Rectangle = this._content._style.scrollRect;\r\n        if (rect) {\r\n            var start: number = Math.round(scrollBar.value);\r\n            scrollBar.isVertical ? rect.y = start : rect.x = start;\r\n            this._content.scrollRect = rect;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>滚动内容容器至设定的垂直、水平方向滚动条位置。</p>\r\n     * @param x 水平方向滚动条属性value值。滚动条位置数字。\r\n     * @param y 垂直方向滚动条属性value值。滚动条位置数字。\r\n     */\r\n    scrollTo(x: number = 0, y: number = 0): void {\r\n        if (this.vScrollBar) this.vScrollBar.value = y;\r\n        if (this.hScrollBar) this.hScrollBar.value = x;\r\n    }\r\n\r\n    /**\r\n     * 刷新滚动内容。\r\n     */\r\n    refresh(): void {\r\n        this.changeScroll();\r\n    }\r\n\r\n    /**@inheritDoc @override*/\r\n    set cacheAs(value: string) {\r\n        super.cacheAs = value;\r\n        this._usedCache = null;\r\n        if (value !== \"none\") {\r\n            this._hScrollBar && this._hScrollBar.on(Event.START, this, this.onScrollStart);\r\n            this._vScrollBar && this._vScrollBar.on(Event.START, this, this.onScrollStart);\r\n        } else {\r\n            this._hScrollBar && this._hScrollBar.off(Event.START, this, this.onScrollStart);\r\n            this._vScrollBar && this._vScrollBar.off(Event.START, this, this.onScrollStart);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get cacheAs() {\r\n        return super.cacheAs;\r\n    }\r\n\r\n    /**是否开启橡皮筋效果*/\r\n    get elasticEnabled(): boolean {\r\n        return this._elasticEnabled;\r\n    }\r\n\r\n    set elasticEnabled(value: boolean) {\r\n        this._elasticEnabled = value;\r\n        if (this._vScrollBar) {\r\n            this._vScrollBar.elasticDistance = value ? 200 : 0;\r\n        }\r\n        if (this._hScrollBar) {\r\n            this._hScrollBar.elasticDistance = value ? 200 : 0;\r\n        }\r\n    }\r\n\r\n    private onScrollStart(): void {\r\n        this._usedCache || (this._usedCache = super.cacheAs);\r\n        super.cacheAs = \"none\";\r\n        this._hScrollBar && this._hScrollBar.once(Event.END, this, this.onScrollEnd);\r\n        this._vScrollBar && this._vScrollBar.once(Event.END, this, this.onScrollEnd);\r\n    }\r\n\r\n    private onScrollEnd(): void {\r\n        super.cacheAs = this._usedCache;\r\n    }\r\n\r\n    /**@private */\r\n    protected _setScrollChanged(): void {\r\n        if (!this._scrollChanged) {\r\n            this._scrollChanged = true;\r\n            this.callLater(this.changeScroll);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(Panel);\r\nClassUtils.regClass(\"laya.ui.Panel\", Panel);\r\nClassUtils.regClass(\"Laya.Panel\", Panel);","import { Slider } from \"./Slider\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 使用 <code>VSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。\r\n\t * <p> <code>VSlider</code> 控件采用垂直方向。滑块轨道从下往上扩展，而标签位于轨道的左右两侧。</p>\r\n\t *\r\n\t * @example <caption>以下示例代码，创建了一个 <code>VSlider</code> 实例。</caption>\r\n\t * package\r\n\t *\t{\r\n\t *\t\timport laya.ui.HSlider;\r\n\t *\t\timport laya.ui.VSlider;\r\n\t *\t\timport laya.utils.Handler;\r\n\t *\t\tpublic class VSlider_Example\r\n\t *\t\t{\r\n\t *\t\t\tprivate var vSlider:VSlider;\r\n\t *\t\t\tpublic function VSlider_Example()\r\n\t *\t\t\t{\r\n\t *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高。\r\n\t *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *\t\t\t\tLaya.loader.load([\"resource/ui/vslider.png\", \"resource/ui/vslider$bar.png\"], Handler.create(this, onLoadComplete));//加载资源。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onLoadComplete():void\r\n\t *\t\t\t{\r\n\t *\t\t\t\tvSlider = new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。\r\n\t *\t\t\t\tvSlider.skin = \"resource/ui/vslider.png\";//设置 vSlider 的皮肤。\r\n\t *\t\t\t\tvSlider.min = 0;//设置 vSlider 最低位置值。\r\n\t *\t\t\t\tvSlider.max = 10;//设置 vSlider 最高位置值。\r\n\t *\t\t\t\tvSlider.value = 2;//设置 vSlider 当前位置值。\r\n\t *\t\t\t\tvSlider.tick = 1;//设置 vSlider 刻度值。\r\n\t *\t\t\t\tvSlider.x = 100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。\r\n\t *\t\t\t\tvSlider.y = 100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。\r\n\t *\t\t\t\tvSlider.changeHandler = new Handler(this, onChange);//设置 vSlider 位置变化处理器。\r\n\t *\t\t\t\tLaya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。\r\n\t *\t\t\t}\r\n\t *\t\t\tprivate function onChange(value:Number):void\r\n\t *\t\t\t{\r\n\t *\t\t\t\ttrace(\"滑块的位置： value=\" + value);\r\n\t *\t\t\t}\r\n\t *\t\t}\r\n\t *\t}\r\n\t * @example\r\n\t * Laya.init(640, 800);//设置游戏画布宽高\r\n\t * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n\t * var vSlider;\r\n\t * Laya.loader.load([\"resource/ui/vslider.png\", \"resource/ui/vslider$bar.png\"], laya.utils.Handler.create(this, onLoadComplete));//加载资源。\r\n\t * function onLoadComplete() {\r\n\t *     vSlider = new laya.ui.VSlider();//创建一个 VSlider 类的实例对象 vSlider 。\r\n\t *     vSlider.skin = \"resource/ui/vslider.png\";//设置 vSlider 的皮肤。\r\n\t *     vSlider.min = 0;//设置 vSlider 最低位置值。\r\n\t *     vSlider.max = 10;//设置 vSlider 最高位置值。\r\n\t *     vSlider.value = 2;//设置 vSlider 当前位置值。\r\n\t *     vSlider.tick = 1;//设置 vSlider 刻度值。\r\n\t *     vSlider.x = 100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。\r\n\t *     vSlider.y = 100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。\r\n\t *     vSlider.changeHandler = new laya.utils.Handler(this, onChange);//设置 vSlider 位置变化处理器。\r\n\t *     Laya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。\r\n\t * }\r\n\t * function onChange(value) {\r\n\t *     console.log(\"滑块的位置： value=\" + value);\r\n\t * }\r\n\t * @example\r\n\t * import HSlider = laya.ui.HSlider;\r\n\t * import VSlider = laya.ui.VSlider;\r\n\t * import Handler = laya.utils.Handler;\r\n\t * class VSlider_Example {\r\n\t *     private vSlider: VSlider;\r\n\t *     constructor() {\r\n\t *         Laya.init(640, 800);//设置游戏画布宽高。\r\n\t *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n\t *         Laya.loader.load([\"resource/ui/vslider.png\", \"resource/ui/vslider$bar.png\"], Handler.create(this, this.onLoadComplete));//加载资源。\r\n\t *     }\r\n\t *     private onLoadComplete(): void {\r\n\t *         this.vSlider = new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。\r\n\t *         this.vSlider.skin = \"resource/ui/vslider.png\";//设置 vSlider 的皮肤。\r\n\t *         this.vSlider.min = 0;//设置 vSlider 最低位置值。\r\n\t *         this.vSlider.max = 10;//设置 vSlider 最高位置值。\r\n\t *         this.vSlider.value = 2;//设置 vSlider 当前位置值。\r\n\t *         this.vSlider.tick = 1;//设置 vSlider 刻度值。\r\n\t *         this.vSlider.x = 100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。\r\n\t *         this.vSlider.y = 100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。\r\n\t *         this.vSlider.changeHandler = new Handler(this, this.onChange);//设置 vSlider 位置变化处理器。\r\n\t *         Laya.stage.addChild(this.vSlider);//把 vSlider 添加到显示列表。\r\n\t *     }\r\n\t *     private onChange(value: number): void {\r\n\t *         console.log(\"滑块的位置： value=\" + value);\r\n\t *     }\r\n\t * }\r\n\t * @see laya.ui.Slider\r\n\t */\r\nexport class VSlider extends Slider {\r\n\r\n}\r\n\r\nILaya.regClass(VSlider);\r\nClassUtils.regClass(\"laya.ui.VSlider\", VSlider);\r\nClassUtils.regClass(\"Laya.VSlider\", VSlider);","import { Box } from \"./Box\";\r\nimport { IRender } from \"./IRender\";\r\nimport { List } from \"./List\";\r\nimport { ScrollBar } from \"./ScrollBar\";\r\nimport { Clip } from \"./Clip\";\r\nimport { Event } from \"../events/Event\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 实例的 <code>selectedIndex</code> 属性发生变化时调度。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"change\", type = \"laya.events.Event\")]*/\r\n/**\r\n * 节点打开关闭时触发。\r\n * @eventType laya.events.Event\r\n */\r\n/*[Event(name = \"open\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>Tree</code> 控件使用户可以查看排列为可扩展树的层次结构数据。\r\n *\r\n * @example\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Tree;\r\n *\t\timport laya.utils.Browser;\r\n *\t\timport laya.utils.Handler;\r\n\t\r\n *\t\tpublic class Tree_Example\r\n *\t\t{\r\n\t\r\n *\t\t\tpublic function Tree_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\", \"resource/ui/clip_selectBox.png\", \"resource/ui/clip_tree_folder.png\", \"resource/ui/clip_tree_arrow.png\"], Handler.create(this, onLoadComplete));\r\n *\t\t\t}\r\n\t\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tvar xmlString:String;//创建一个xml字符串，用于存储树结构数据。\r\n *\t\t\t\txmlString = \"&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;\";\r\n *\t\t\t\tvar domParser:* = new Browser.window.DOMParser();//创建一个DOMParser实例domParser。\r\n *\t\t\t\tvar xml:* = domParser.parseFromString(xmlString, \"text/xml\");//解析xml字符。\r\n\t\r\n *\t\t\t\tvar tree:Tree = new Tree();//创建一个 Tree 类的实例对象 tree 。\r\n *\t\t\t\ttree.scrollBarSkin = \"resource/ui/vscroll.png\";//设置 tree 的皮肤。\r\n *\t\t\t\ttree.itemRender = Item;//设置 tree 的项渲染器。\r\n *\t\t\t\ttree.xml = xml;//设置 tree 的树结构数据。\r\n *\t\t\t\ttree.x = 100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。\r\n *\t\t\t\ttree.y = 100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。\r\n *\t\t\t\ttree.width = 200;//设置 tree 的宽度。\r\n *\t\t\t\ttree.height = 100;//设置 tree 的高度。\r\n *\t\t\t\tLaya.stage.addChild(tree);//将 tree 添加到显示列表。\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n\t\r\n * import laya.ui.Box;\r\n * import laya.ui.Clip;\r\n * import laya.ui.Label;\r\n *\tclass Item extends Box\r\n *\t{\r\n *\t\tpublic function Item()\r\n *\t\t{\r\n *\t\t\tthis.name = \"render\";\r\n *\t\t\tthis.right = 0;\r\n *\t\t\tthis.left = 0;\r\n\t\r\n *\t\t\tvar selectBox:Clip = new Clip(\"resource/ui/clip_selectBox.png\", 1, 2);\r\n *\t\t\tselectBox.name = \"selectBox\";\r\n *\t\t\tselectBox.height = 24;\r\n *\t\t\tselectBox.x = 13;\r\n *\t\t\tselectBox.y = 0;\r\n *\t\t\tselectBox.left = 12;\r\n *\t\t\taddChild(selectBox);\r\n\t\r\n *\t\t\tvar folder:Clip = new Clip(\"resource/ui/clip_tree_folder.png\", 1, 3);\r\n *\t\t\tfolder.name = \"folder\";\r\n *\t\t\tfolder.x = 14;\r\n *\t\t\tfolder.y = 4;\r\n *\t\t\taddChild(folder);\r\n\t\r\n *\t\t\tvar label:Label = new Label(\"treeItem\");\r\n *\t\t\tlabel.name = \"label\";\r\n *\t\t\tlabel.color = \"#ffff00\";\r\n *\t\t\tlabel.width = 150;\r\n *\t\t\tlabel.height = 22;\r\n *\t\t\tlabel.x = 33;\r\n *\t\t\tlabel.y = 1;\r\n *\t\t\tlabel.left = 33;\r\n *\t\t\tlabel.right = 0;\r\n *\t\t\taddChild(label);\r\n\t\r\n *\t\t\tvar arrow:Clip = new Clip(\"resource/ui/clip_tree_arrow.png\", 1, 2);\r\n *\t\t\tarrow.name = \"arrow\";\r\n *\t\t\tarrow.x = 0;\r\n *\t\t\tarrow.y = 5;\r\n *\t\t\taddChild(arrow);\r\n *\t\t}\r\n *\t }\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * var res = [\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\", \"resource/ui/clip_selectBox.png\", \"resource/ui/clip_tree_folder.png\", \"resource/ui/clip_tree_arrow.png\"];\r\n * Laya.loader.load(res, new laya.utils.Handler(this, onLoadComplete));\r\n * function onLoadComplete() {\r\n *     var xmlString;//创建一个xml字符串，用于存储树结构数据。\r\n *     xmlString = \"&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;\";\r\n *     var domParser = new laya.utils.Browser.window.DOMParser();//创建一个DOMParser实例domParser。\r\n *     var xml = domParser.parseFromString(xmlString, \"text/xml\");//解析xml字符。\r\n\t\r\n *     var tree = new laya.ui.Tree();//创建一个 Tree 类的实例对象 tree 。\r\n *     tree.scrollBarSkin = \"resource/ui/vscroll.png\";//设置 tree 的皮肤。\r\n *     tree.itemRender = mypackage.treeExample.Item;//设置 tree 的项渲染器。\r\n *     tree.xml = xml;//设置 tree 的树结构数据。\r\n *     tree.x = 100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。\r\n *     tree.y = 100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。\r\n *     tree.width = 200;//设置 tree 的宽度。\r\n *     tree.height = 100;//设置 tree 的高度。\r\n *     Laya.stage.addChild(tree);//将 tree 添加到显示列表。\r\n * }\r\n * (function (_super) {\r\n *     function Item() {\r\n *         Item.__super.call(this);//初始化父类。\r\n *         this.right = 0;\r\n *         this.left = 0;\r\n\t\r\n *         var selectBox = new laya.ui.Clip(\"resource/ui/clip_selectBox.png\", 1, 2);\r\n *         selectBox.name = \"selectBox\";//设置 selectBox 的name 为“selectBox”时，将被识别为树结构的项的背景。2帧：悬停时背景、选中时背景。\r\n *         selectBox.height = 24;\r\n *         selectBox.x = 13;\r\n *         selectBox.y = 0;\r\n *         selectBox.left = 12;\r\n *         this.addChild(selectBox);//需要使用this.访问父类的属性或方法。\r\n\t\r\n *         var folder = new laya.ui.Clip(\"resource/ui/clip_tree_folder.png\", 1, 3);\r\n *         folder.name = \"folder\";//设置 folder 的name 为“folder”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。\r\n *         folder.x = 14;\r\n *         folder.y = 4;\r\n *         this.addChild(folder);\r\n\t\r\n *         var label = new laya.ui.Label(\"treeItem\");\r\n *         label.name = \"label\";//设置 label 的name 为“label”时，此值将用于树结构数据赋值。\r\n *         label.color = \"#ffff00\";\r\n *         label.width = 150;\r\n *         label.height = 22;\r\n *         label.x = 33;\r\n *         label.y = 1;\r\n *         label.left = 33;\r\n *         label.right = 0;\r\n *         this.addChild(label);\r\n\t\r\n *         var arrow = new laya.ui.Clip(\"resource/ui/clip_tree_arrow.png\", 1, 2);\r\n *         arrow.name = \"arrow\";//设置 arrow 的name 为“arrow”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。\r\n *         arrow.x = 0;\r\n *         arrow.y = 5;\r\n *         this.addChild(arrow);\r\n *     };\r\n *     Laya.class(Item,\"mypackage.treeExample.Item\",_super);//注册类 Item 。\r\n * })(laya.ui.Box);\r\n * @example\r\n * import Tree = laya.ui.Tree;\r\n * import Browser = laya.utils.Browser;\r\n * import Handler = laya.utils.Handler;\r\n * class Tree_Example {\r\n\t\r\n *     constructor() {\r\n *         Laya.init(640, 800);\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load([\"resource/ui/vscroll.png\", \"resource/ui/vscroll$bar.png\", \"resource/ui/vscroll$down.png\", \"resource/ui/vscroll$up.png\", \"resource/ui/vscroll$up.png\", \"resource/ui/clip_selectBox.png\", \"resource/ui/clip_tree_folder * . * png\", \"resource/ui/clip_tree_arrow.png\"], Handler.create(this, this.onLoadComplete));\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         var xmlString: String;//创建一个xml字符串，用于存储树结构数据。\r\n *         xmlString = \"&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc  * label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;\";\r\n *         var domParser: any = new Browser.window.DOMParser();//创建一个DOMParser实例domParser。\r\n *         var xml: any = domParser.parseFromString(xmlString, \"text/xml\");//解析xml字符。\r\n\t\r\n *         var tree: Tree = new Tree();//创建一个 Tree 类的实例对象 tree 。\r\n *         tree.scrollBarSkin = \"resource/ui/vscroll.png\";//设置 tree 的皮肤。\r\n *         tree.itemRender = Item;//设置 tree 的项渲染器。\r\n *         tree.xml = xml;//设置 tree 的树结构数据。\r\n *         tree.x = 100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。\r\n *         tree.y = 100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。\r\n *         tree.width = 200;//设置 tree 的宽度。\r\n *         tree.height = 100;//设置 tree 的高度。\r\n *         Laya.stage.addChild(tree);//将 tree 添加到显示列表。\r\n *     }\r\n * }\r\n * import Box = laya.ui.Box;\r\n * import Clip = laya.ui.Clip;\r\n * import Label = laya.ui.Label;\r\n * class Item extends Box {\r\n *     constructor() {\r\n *         super();\r\n *         this.name = \"render\";\r\n *         this.right = 0;\r\n *         this.left = 0;\r\n *         var selectBox: Clip = new Clip(\"resource/ui/clip_selectBox.png\", 1, 2);\r\n *         selectBox.name = \"selectBox\";\r\n *         selectBox.height = 24;\r\n *         selectBox.x = 13;\r\n *         selectBox.y = 0;\r\n *         selectBox.left = 12;\r\n *         this.addChild(selectBox);\r\n\t\r\n *         var folder: Clip = new Clip(\"resource/ui/clip_tree_folder.png\", 1, 3);\r\n *         folder.name = \"folder\";\r\n *         folder.x = 14;\r\n *         folder.y = 4;\r\n *         this.addChild(folder);\r\n\t\r\n *         var label: Label = new Label(\"treeItem\");\r\n *         label.name = \"label\";\r\n *         label.color = \"#ffff00\";\r\n *         label.width = 150;\r\n *         label.height = 22;\r\n *         label.x = 33;\r\n *         label.y = 1;\r\n *         label.left = 33;\r\n *         label.right = 0;\r\n *         this.addChild(label);\r\n\t\r\n *         var arrow: Clip = new Clip(\"resource/ui/clip_tree_arrow.png\", 1, 2);\r\n *         arrow.name = \"arrow\";\r\n *         arrow.x = 0;\r\n *         arrow.y = 5;\r\n *         this.addChild(arrow);\r\n *     }\r\n * }\r\n */\r\nexport class Tree extends Box implements IRender {\r\n    /**@private */\r\n    protected _list: List;\r\n    /**@private */\r\n    protected _source: any[];\r\n    /**@private */\r\n    protected _renderHandler: Handler;\r\n    /**@private */\r\n    protected _spaceLeft: number = 10;\r\n    /**@private */\r\n    protected _spaceBottom: number = 0;\r\n    /**@private */\r\n    protected _keepStatus: boolean = true;\r\n\r\n    /**\r\n     * 创建一个新的 <code>Tree</code> 类实例。\r\n     * <p>在 <code>Tree</code> 构造函数中设置属性width、height的值都为200。</p>\r\n     */\r\n    constructor() {\r\n        super();\r\n        this.width = this.height = 200;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n    */\r\n    destroy(destroyChild: boolean = true): void {\r\n        super.destroy(destroyChild);\r\n        this._list && this._list.destroy(destroyChild);\r\n        this._list = null;\r\n        this._source = null;\r\n        this._renderHandler = null;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    protected createChildren(): void {\r\n        this.addChild(this._list = new List());\r\n        this._list.renderHandler = Handler.create(this, this.renderItem, null, false);\r\n        this._list.repeatX = 1;\r\n        this._list.on(Event.CHANGE, this, this.onListChange);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 此对象包含的<code>List</code>实例的<code>Event.CHANGE</code>事件侦听处理函数。\r\n     */\r\n    protected onListChange(e: Event = null): void {\r\n        this.event(Event.CHANGE);\r\n    }\r\n\r\n    /**\r\n     * 数据源发生变化后，是否保持之前打开状态，默认为true。\r\n     * <p><b>取值：</b>\r\n     * <li>true：保持之前打开状态。</li>\r\n     * <li>false：不保持之前打开状态。</li>\r\n     * </p>\r\n     */\r\n    get keepStatus(): boolean {\r\n        return this._keepStatus;\r\n    }\r\n\r\n    set keepStatus(value: boolean) {\r\n        this._keepStatus = value;\r\n    }\r\n\r\n    /**\r\n     * 列表数据源，只包含当前可视节点数据。\r\n     */\r\n    get array(): any[] {\r\n        return this._list.array;\r\n    }\r\n\r\n    set array(value: any[]) {\r\n        if (this._keepStatus && this._list.array && value) {\r\n            this.parseOpenStatus(this._list.array, value);\r\n        }\r\n        this._source = value;\r\n        this._list.array = this.getArray();\r\n    }\r\n\r\n    /**\r\n     * 数据源，全部节点数据。\r\n     */\r\n    get source(): any[] {\r\n        return this._source;\r\n    }\r\n\r\n    /**\r\n     * 此对象包含的<code>List</code>实例对象。\r\n     */\r\n    get list(): List {\r\n        return this._list;\r\n    }\r\n\r\n    /**\r\n     * 此对象包含的<code>List</code>实例的单元格渲染器。\r\n     * <p><b>取值：</b>\r\n     * <ol>\r\n     * <li>单元格类对象。</li>\r\n     * <li> UI 的 JSON 描述。</li>\r\n     * </ol></p>\r\n     * @implements\r\n     */\r\n    get itemRender(): any {\r\n        return this._list.itemRender;\r\n    }\r\n\r\n    set itemRender(value: any) {\r\n        this._list.itemRender = value;\r\n    }\r\n\r\n    /**\r\n     * 滚动条皮肤。\r\n     */\r\n    get scrollBarSkin(): string {\r\n        return this._list.vScrollBarSkin;\r\n    }\r\n\r\n    set scrollBarSkin(value: string) {\r\n        this._list.vScrollBarSkin = value;\r\n    }\r\n\r\n    /**滚动条*/\r\n    get scrollBar(): ScrollBar {\r\n        return this._list.scrollBar;\r\n    }\r\n\r\n    /**\r\n     * 单元格鼠标事件处理器。\r\n     * <p>默认返回参数（e:Event,index:int）。</p>\r\n     */\r\n    get mouseHandler(): Handler {\r\n        return this._list.mouseHandler;\r\n    }\r\n\r\n    set mouseHandler(value: Handler) {\r\n        this._list.mouseHandler = value;\r\n    }\r\n\r\n    /**\r\n     * <code>Tree</code> 实例的渲染处理器。\r\n     */\r\n    get renderHandler(): Handler {\r\n        return this._renderHandler;\r\n    }\r\n\r\n    set renderHandler(value: Handler) {\r\n        this._renderHandler = value;\r\n    }\r\n\r\n    /**\r\n     * 左侧缩进距离（以像素为单位）。\r\n     */\r\n    get spaceLeft(): number {\r\n        return this._spaceLeft;\r\n    }\r\n\r\n    set spaceLeft(value: number) {\r\n        this._spaceLeft = value;\r\n    }\r\n\r\n    /**\r\n     * 每一项之间的间隔距离（以像素为单位）。\r\n     */\r\n    get spaceBottom(): number {\r\n        return this._list.spaceY;\r\n    }\r\n\r\n    set spaceBottom(value: number) {\r\n        this._list.spaceY = value;\r\n    }\r\n\r\n    /**\r\n     * 表示当前选择的项索引。\r\n     */\r\n    get selectedIndex(): number {\r\n        return this._list.selectedIndex;\r\n    }\r\n\r\n    set selectedIndex(value: number) {\r\n        this._list.selectedIndex = value;\r\n    }\r\n\r\n    /**\r\n     * 当前选中的项对象的数据源。\r\n     */\r\n    get selectedItem(): any {\r\n        return this._list.selectedItem;\r\n    }\r\n\r\n    set selectedItem(value: any) {\r\n        this._list.selectedItem = value;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    set width(value: number) {\r\n        super.width = value;\r\n        this._list.width = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set height(value: number) {\r\n        super.height = value;\r\n        this._list.height = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取数据源集合。\r\n     */\r\n    protected getArray(): any[] {\r\n        var arr: any[] = [];\r\n        for (let key in this._source) {//TODO TS\r\n            let item = this._source[key];\r\n            if (this.getParentOpenStatus(item)) {\r\n                item.x = this._spaceLeft * this.getDepth(item);\r\n                arr.push(item);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取项对象的深度。\r\n     */\r\n    protected getDepth(item: any, num: number = 0): number {\r\n        if (item.nodeParent == null) return num;\r\n        else return this.getDepth(item.nodeParent, num + 1);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取项对象的上一级的打开状态。\r\n     */\r\n    protected getParentOpenStatus(item: any): boolean {\r\n        var parent: any = item.nodeParent;\r\n        if (parent == null) {\r\n            return true;\r\n        } else {\r\n            if (parent.isOpen) {\r\n                if (parent.nodeParent != null) return this.getParentOpenStatus(parent);\r\n                else return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 渲染一个项对象。\r\n     * @param cell 一个项对象。\r\n     * @param index 项的索引。\r\n     */\r\n    protected renderItem(cell: Box, index: number): void {\r\n        var item: any = cell.dataSource;\r\n        if (item) {\r\n            cell.left = item.x;\r\n            var arrow: Clip = (<Clip>cell.getChildByName(\"arrow\"));\r\n            if (arrow) {\r\n                if (item.hasChild) {\r\n                    arrow.visible = true;\r\n                    arrow.index = item.isOpen ? 1 : 0;\r\n                    arrow.tag = index;\r\n                    arrow.off(Event.CLICK, this, this.onArrowClick);\r\n                    arrow.on(Event.CLICK, this, this.onArrowClick);\r\n                } else {\r\n                    arrow.visible = false;\r\n                }\r\n            }\r\n            var folder: Clip = (<Clip>cell.getChildByName(\"folder\"));\r\n            if (folder) {\r\n                if (folder.clipY == 2) {\r\n                    folder.index = item.isDirectory ? 0 : 1;\r\n                } else {\r\n                    folder.index = item.isDirectory ? item.isOpen ? 1 : 0 : 2;\r\n                }\r\n            }\r\n            this._renderHandler && this._renderHandler.runWith([cell, index]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private onArrowClick(e: Event): void {\r\n        var arrow: Clip = (<Clip>e.currentTarget);\r\n        var index: number = arrow.tag;\r\n        this._list.array[index].isOpen = !this._list.array[index].isOpen;\r\n        this.event(Event.OPEN);\r\n        this._list.array = this.getArray();\r\n    }\r\n\r\n    /**\r\n     * 设置指定项索引的项对象的打开状态。\r\n     * @param index 项索引。\r\n     * @param isOpen 是否处于打开状态。\r\n     */\r\n    setItemState(index: number, isOpen: boolean): void {\r\n        if (!this._list.array[index]) return;\r\n        this._list.array[index].isOpen = isOpen;\r\n        this._list.array = this.getArray();\r\n    }\r\n\r\n    /**\r\n     * 刷新项列表。\r\n     */\r\n    fresh(): void {\r\n        this._list.array = this.getArray();\r\n        this.repaint();\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        //if (value is XmlDom) xml = value as XmlDom;\r\n        super.dataSource = value;\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override \r\n     */\r\n    get dataSource() {\r\n        return super.dataSource;\r\n    }\r\n\r\n    /**\r\n     *  xml结构的数据源。\r\n     */\r\n    set xml(value: XMLDocument) {\r\n        var arr: any[] = [];\r\n        this.parseXml(value.childNodes[0], arr, null, true);\r\n\r\n        this.array = arr;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 解析并处理XML类型的数据源。\r\n     */\r\n    protected parseXml(xml: ChildNode, source: any[], nodeParent: any, isRoot: boolean): void {\r\n        var obj: any;\r\n        var list = xml.childNodes;\r\n        var childCount: number = list.length;\r\n        if (!isRoot) {\r\n            obj = {};\r\n            var list2: any = (xml as any).attributes;\r\n            for (let key in list2) {\r\n                var attrs = list2[key];\r\n                var prop: string = attrs.nodeName;\r\n                var value: string = attrs.nodeValue;\r\n                obj[prop] = value == \"true\" ? true : value == \"false\" ? false : value;\r\n            }\r\n            obj.nodeParent = nodeParent;\r\n            if (childCount > 0) obj.isDirectory = true;\r\n            obj.hasChild = childCount > 0;\r\n            source.push(obj);\r\n        }\r\n        for (var i: number = 0; i < childCount; i++) {\r\n            var node = list[i];\r\n            this.parseXml(node, source, obj, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 处理数据项的打开状态。\r\n     */\r\n    protected parseOpenStatus(oldSource: any[], newSource: any[]): void {\r\n        for (var i: number = 0, n: number = newSource.length; i < n; i++) {\r\n            var newItem: any = newSource[i];\r\n            if (newItem.isDirectory) {\r\n                for (var j: number = 0, m: number = oldSource.length; j < m; j++) {\r\n                    var oldItem: any = oldSource[j];\r\n                    if (oldItem.isDirectory && this.isSameParent(oldItem, newItem) && newItem.label == oldItem.label) {\r\n                        newItem.isOpen = oldItem.isOpen;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 判断两个项对象在树结构中的父节点是否相同。\r\n     * @param item1 项对象。\r\n     * @param item2 项对象。\r\n     * @return 如果父节点相同值为true，否则值为false。\r\n     */\r\n    protected isSameParent(item1: any, item2: any): boolean {\r\n        if (item1.nodeParent == null && item2.nodeParent == null) return true;\r\n        else if (item1.nodeParent == null || item2.nodeParent == null) return false\r\n        else {\r\n            if (item1.nodeParent.label == item2.nodeParent.label) return this.isSameParent(item1.nodeParent, item2.nodeParent);\r\n            else return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 表示选择的树节点项的<code>path</code>属性值。\r\n     */\r\n    get selectedPath(): string {\r\n        if (this._list.selectedItem) {\r\n            return this._list.selectedItem.path;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 更新项列表，显示指定键名的数据项。\r\n     * @param\tkey 键名。\r\n     */\r\n    filter(key: string): void {\r\n        if (Boolean(key)) {\r\n            var result: any[] = [];\r\n            this.getFilterSource(this._source, result, key);\r\n            this._list.array = result;\r\n        } else {\r\n            this._list.array = this.getArray();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 获取数据源中指定键名的值。\r\n     */\r\n    private getFilterSource(array: any[], result: any[], key: string): void {\r\n        key = key.toLocaleLowerCase();\r\n        for (let item of array) {\r\n            if (!item.isDirectory && String(item.label).toLowerCase().indexOf(key) > -1) {\r\n                item.x = 0;\r\n                result.push(item);\r\n            }\r\n            if (item.child && item.child.length > 0) {\r\n                this.getFilterSource(item.child, result, key);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(Tree);\r\nClassUtils.regClass(\"laya.ui.Tree\", Tree);\r\nClassUtils.regClass(\"Laya.Tree\", Tree);","import { Box } from \"./Box\";\r\nimport { Node } from \"../display/Node\"\r\nimport { Event } from \"../events/Event\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>LayoutBox</code> 是一个布局容器类。\r\n */\r\nexport class LayoutBox extends Box {\r\n    /**@private */\r\n    protected _space: number = 0;\r\n    /**@private */\r\n    protected _align: string = \"none\";\r\n    /**@private */\r\n    protected _itemChanged: boolean = false;\r\n\r\n\t\t/** \r\n\t\t * @inheritDoc\t\r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  addChild(child: Node): Node {\r\n        child.on(Event.RESIZE, this, this.onResize);\r\n        this._setItemChanged();\r\n        return super.addChild(child);\r\n    }\r\n\r\n    private onResize(e: Event): void {\r\n        this._setItemChanged();\r\n    }\r\n\r\n\t\t/** \r\n\t\t * @inheritDoc\t\r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  addChildAt(child: Node, index: number): Node {\r\n        child.on(Event.RESIZE, this, this.onResize);\r\n        this._setItemChanged();\r\n        return super.addChildAt(child, index);\r\n    }\r\n\r\n\t\t/**\r\n\t\t *  @inheritDoc\t\r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  removeChildAt(index: number): Node {\r\n        this.getChildAt(index).off(Event.RESIZE, this, this.onResize);\r\n        this._setItemChanged();\r\n        return super.removeChildAt(index);\r\n    }\r\n\r\n    /** 刷新。*/\r\n    refresh(): void {\r\n        this._setItemChanged();\r\n    }\r\n\r\n    /**\r\n     * 改变子对象的布局。\r\n     */\r\n    protected changeItems(): void {\r\n        this._itemChanged = false;\r\n    }\r\n\r\n    /** 子对象的间隔。*/\r\n    get space(): number {\r\n        return this._space;\r\n    }\r\n\r\n    set space(value: number) {\r\n        this._space = value;\r\n        this._setItemChanged();\r\n    }\r\n\r\n    /** 子对象对齐方式。*/\r\n    get align(): string {\r\n        return this._align;\r\n    }\r\n\r\n    set align(value: string) {\r\n        this._align = value;\r\n        this._setItemChanged();\r\n    }\r\n\r\n    /**\r\n     * 排序项目列表。可通过重写改变默认排序规则。\r\n     * @param items  项目列表。\r\n     */\r\n    protected sortItem(items: any[]): void {\r\n        if (items) items.sort(function (a: any, b: any): number { return a.y - b.y; });\r\n    }\r\n\r\n    protected _setItemChanged(): void {\r\n        if (!this._itemChanged) {\r\n            this._itemChanged = true;\r\n            this.callLater(this.changeItems);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(LayoutBox);\r\nClassUtils.regClass(\"laya.ui.LayoutBox\", LayoutBox);\r\nClassUtils.regClass(\"Laya.LayoutBox\", LayoutBox);","import { LayoutBox } from \"./LayoutBox\";\r\nimport { UIComponent } from \"./UIComponent\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * <code>HBox</code> 是一个水平布局容器类。\r\n\t */\r\nexport class HBox extends LayoutBox {\r\n    /**\r\n     * 无对齐。\r\n     */\r\n    static NONE: string = \"none\";\r\n    /**\r\n     * 居顶部对齐。\r\n     */\r\n    static TOP: string = \"top\";\r\n    /**\r\n     * 居中对齐。\r\n     */\r\n    static MIDDLE: string = \"middle\";\r\n    /**\r\n     * 居底部对齐。\r\n     */\r\n    static BOTTOM: string = \"bottom\";\r\n\r\n    /** \r\n     * @inheritDoc\t\r\n     * @override\r\n     */\r\n\tprotected sortItem(items: any[]): void {\r\n        if (items) items.sort(function (a: any, b: any): number { return a.x - b.x; });\r\n    }\r\n    /**\r\n     * @inheritDoc\t\r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        if (this._height != value) {\r\n            super.height = value;\r\n            this.callLater(this.changeItems);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc\t\r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /** \r\n     * @inheritDoc\t\r\n     * @override\r\n     */\r\n\tprotected changeItems(): void {\r\n        this._itemChanged = false;\r\n        var items: any[] = [];\r\n        var maxHeight: number = 0;\r\n        for (var i: number = 0, n: number = this.numChildren; i < n; i++) {\r\n            var item: UIComponent = (<UIComponent>this.getChildAt(i));\r\n            if (item) {\r\n                items.push(item);\r\n                maxHeight = this._height ? this._height : Math.max(maxHeight, item.height * item.scaleY);\r\n            }\r\n        }\r\n        this.sortItem(items);\r\n        var left: number = 0;\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            item = items[i];\r\n            item.x = left;\r\n            left += item.width * item.scaleX + this._space;\r\n            if (this._align == HBox.TOP) {\r\n                item.y = 0;\r\n            } else if (this._align == HBox.MIDDLE) {\r\n                item.y = (maxHeight - item.height * item.scaleY) * 0.5;\r\n            } else if (this._align == HBox.BOTTOM) {\r\n                item.y = maxHeight - item.height * item.scaleY;\r\n            }\r\n        }\r\n        this._sizeChanged();\r\n    }\r\n}\r\n\r\nILaya.regClass(HBox);\r\nClassUtils.regClass(\"laya.ui.HBox\", HBox);\r\nClassUtils.regClass(\"Laya.HBox\", HBox);","import { LayoutBox } from \"./LayoutBox\";\r\nimport { UIComponent } from \"./UIComponent\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * <code>VBox</code> 是一个垂直布局容器类。\r\n\t */\r\nexport class VBox extends LayoutBox {\r\n\t/**\r\n\t * 无对齐。\r\n\t */\r\n    static NONE: string = \"none\";\r\n\t/**\r\n\t * 左对齐。\r\n\t */\r\n    static LEFT: string = \"left\";\r\n\t/**\r\n\t * 居中对齐。\r\n\t */\r\n    static CENTER: string = \"center\";\r\n\t/**\r\n\t * 右对齐。\r\n\t */\r\n    static RIGHT: string = \"right\";\r\n    /**\r\n     * @override\r\n     */\r\n    set width(value: number) {\r\n        if (this._width != value) {\r\n            super.width = value;\r\n            this.callLater(this.changeItems);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /** \r\n     * @inheritDoc\t\r\n     * @override\r\n    */\r\n    protected changeItems(): void {\r\n        this._itemChanged = false;\r\n        var items: any[] = [];\r\n        var maxWidth: number = 0;\r\n\r\n        for (var i: number = 0, n: number = this.numChildren; i < n; i++) {\r\n            var item: UIComponent = (<UIComponent>this.getChildAt(i));\r\n            if (item) {\r\n                items.push(item);\r\n                maxWidth = this._width ? this._width : Math.max(maxWidth, item.width * item.scaleX);\r\n            }\r\n        }\r\n\r\n        this.sortItem(items);\r\n        var top: number = 0;\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            item = items[i];\r\n            item.y = top;\r\n            top += item.height * item.scaleY + this._space;\r\n            if (this._align == VBox.LEFT) {\r\n                item.x = 0;\r\n            } else if (this._align == VBox.CENTER) {\r\n                item.x = (maxWidth - item.width * item.scaleX) * 0.5;\r\n            } else if (this._align == VBox.RIGHT) {\r\n                item.x = maxWidth - item.width * item.scaleX;\r\n            }\r\n        }\r\n        this._sizeChanged();\r\n    }\r\n}\r\n\r\n\r\nILaya.regClass(VBox);\r\nClassUtils.regClass(\"laya.ui.VBox\", VBox);\r\nClassUtils.regClass(\"Laya.VBox\", VBox);","import { Event } from \"../events/Event\"\r\nimport { Texture } from \"../resource/Texture\"\r\nimport { AutoBitmap } from \"./AutoBitmap\"\r\nimport { Clip } from \"./Clip\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 字体切片，简化版的位图字体，只需设置一个切片图片和文字内容即可使用，效果同位图字体\r\n * 使用方式：设置位图字体皮肤skin，设置皮肤对应的字体内容sheet（如果多行，可以使用空格换行），示例：\r\n * fontClip.skin = \"font1.png\";//设置皮肤\r\n * fontClip.sheet = \"abc123 456\";//设置皮肤对应的内容，空格换行。此皮肤为2行5列（显示时skin会被等分为2行5列），第一行对应的文字为\"abc123\"，第二行为\"456\"\r\n * fontClip.value = \"a1326\";//显示\"a1326\"文字\r\n */\r\nexport class FontClip extends Clip {\r\n    /**数值*/\r\n    protected _valueArr: string = '';\r\n    /**文字内容数组**/\r\n    protected _indexMap: any = null;\r\n    /**位图字体内容**/\r\n    protected _sheet: string = null;\r\n    /**@private */\r\n    protected _direction: string = \"horizontal\";\r\n    /**X方向间隙*/\r\n    protected _spaceX: number = 0;\r\n    /**Y方向间隙*/\r\n    protected _spaceY: number = 0;\r\n    /**@private 水平对齐方式*/\r\n    private _align: string = \"left\";\r\n    /**@private 显示文字宽*/\r\n    private _wordsW: number = 0;\r\n    /**@private 显示文字高*/\r\n    private _wordsH: number = 0;\r\n\r\n    /**\r\n     * @param skin 位图字体皮肤\r\n     * @param sheet 位图字体内容，空格代表换行\r\n     */\r\n    constructor(skin: string = null, sheet: string = null) {\r\n        super();\r\n        if (skin) this.skin = skin;\r\n        if (sheet) this.sheet = sheet;\r\n    }\r\n\r\n    /**\r\n    * @override\r\n    */\r\n    protected createChildren(): void {\r\n        this._bitmap = new AutoBitmap();\r\n        this.on(Event.LOADED, this, this._onClipLoaded);\r\n    }\r\n\r\n    /**\r\n     * 资源加载完毕\r\n     */\r\n    private _onClipLoaded(): void {\r\n        this.callLater(this.changeValue);\r\n    }\r\n\r\n    /**\r\n     * 设置位图字体内容，空格代表换行。比如\"abc123 456\"，代表第一行对应的文字为\"abc123\"，第二行为\"456\"\r\n     */\r\n    get sheet(): string {\r\n        return this._sheet;\r\n    }\r\n\r\n    set sheet(value: string) {\r\n        value += \"\";\r\n        this._sheet = value;\r\n        //根据空格换行\r\n        var arr: any[] = value.split(\" \");\r\n        this._clipX = String(arr[0]).length;\r\n        this.clipY = arr.length;\r\n\r\n        this._indexMap = {};\r\n        for (var i: number = 0; i < this._clipY; i++) {\r\n            var line: any[] = arr[i].split(\"\");\r\n            for (var j: number = 0, n: number = line.length; j < n; j++) {\r\n                this._indexMap[line[j]] = i * this._clipX + j;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置位图字体的显示内容\r\n     */\r\n    get value(): string {\r\n        if (!this._valueArr) return \"\";\r\n        return this._valueArr;\r\n    }\r\n\r\n    set value(value: string) {\r\n        value += \"\";\r\n        this._valueArr = value;\r\n        this.callLater(this.changeValue);\r\n    }\r\n\r\n    /**\r\n     * 布局方向。\r\n     * <p>默认值为\"horizontal\"。</p>\r\n     * <p><b>取值：</b>\r\n     * <li>\"horizontal\"：表示水平布局。</li>\r\n     * <li>\"vertical\"：表示垂直布局。</li>\r\n     * </p>\r\n     */\r\n    get direction(): string {\r\n        return this._direction;\r\n    }\r\n\r\n    set direction(value: string) {\r\n        this._direction = value;\r\n        this.callLater(this.changeValue);\r\n    }\r\n\r\n    /**X方向文字间隙*/\r\n    get spaceX(): number {\r\n        return this._spaceX;\r\n    }\r\n\r\n    set spaceX(value: number) {\r\n        this._spaceX = value;\r\n        if (this._direction === \"horizontal\") this.callLater(this.changeValue);\r\n    }\r\n\r\n    /**Y方向文字间隙*/\r\n    get spaceY(): number {\r\n        return this._spaceY;\r\n    }\r\n\r\n    set spaceY(value: number) {\r\n        this._spaceY = value;\r\n        if (!(this._direction === \"horizontal\")) this.callLater(this.changeValue);\r\n    }\r\n\r\n\r\n    set align(v: string) {\r\n        this._align = v;\r\n        this.callLater(this.changeValue);\r\n    }\r\n\r\n    /**水平对齐方式*/\r\n    get align(): string {\r\n        return this._align;\r\n    }\r\n\r\n\r\n    /**渲染数值*/\r\n    protected changeValue(): void {\r\n        if (!this._sources) return;\r\n        if (!this._valueArr) return;\r\n        this.graphics.clear(true);\r\n        var texture: Texture;\r\n        texture = this._sources[0];\r\n        if (!texture) return;\r\n        var isHorizontal: boolean = (this._direction === \"horizontal\");\r\n        if (isHorizontal) {\r\n            this._wordsW = this._valueArr.length * (texture.sourceWidth + this.spaceX);\r\n            this._wordsH = texture.sourceHeight;\r\n        } else {\r\n            this._wordsW = texture.sourceWidth;\r\n            this._wordsH = (texture.sourceHeight + this.spaceY) * this._valueArr.length;\r\n        }\r\n        var dX: number = 0;\r\n        if (this._width) {\r\n            switch (this._align) {\r\n                case \"center\":\r\n                    dX = 0.5 * (this._width - this._wordsW);\r\n                    break;\r\n                case \"right\":\r\n                    dX = this._width - this._wordsW;\r\n                    break;\r\n                default:\r\n                    dX = 0;\r\n            }\r\n        }\r\n\r\n        for (var i: number = 0, sz: number = this._valueArr.length; i < sz; i++) {\r\n            var index: number = this._indexMap[this._valueArr.charAt(i)];\r\n            if (!this.sources[index]) continue;\r\n            texture = this.sources[index];\r\n            if (isHorizontal) this.graphics.drawImage(texture, dX + i * (texture.sourceWidth + this.spaceX), 0, texture.sourceWidth, texture.sourceHeight);\r\n            else this.graphics.drawImage(texture, 0 + dX, i * (texture.sourceHeight + this.spaceY), texture.sourceWidth, texture.sourceHeight);\r\n        }\r\n        if (!this._width) {\r\n\r\n            this._widget.resetLayoutX();\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n        if (!this._height) {\r\n            this._widget.resetLayoutY();\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n\tset width(value: number) {\r\n        super.width = value;\r\n        this.callLater(this.changeValue);\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n\tset height(value: number) {\r\n        super.height = value;\r\n        this.callLater(this.changeValue);\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\t\t/**\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/ protected measureWidth(): number {\r\n        return this._wordsW;\r\n    }\r\n\t\t/**\r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/ protected measureHeight(): number {\r\n        return this._wordsH;\r\n    }\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param destroyChild \r\n\t\t * @override\r\n\t\t */\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        this._valueArr = null;\r\n        this._indexMap = null;\r\n        this.graphics.clear(true);\r\n        this.removeSelf();\r\n        this.off(Event.LOADED, this, this._onClipLoaded);\r\n        super.destroy(destroyChild);\r\n    }\r\n}\r\n\r\nILaya.regClass(FontClip);\r\nClassUtils.regClass(\"laya.ui.FontClip\", FontClip);\r\nClassUtils.regClass(\"Laya.FontClip\", FontClip);","import { Widget } from \"./Widget\";\r\nimport { Animation } from \"../display/Animation\"\r\nimport { Scene } from \"../display/Scene\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Text } from \"../display/Text\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Box } from \"./Box\"\r\nimport { Button } from \"./Button\"\r\nimport { CheckBox } from \"./CheckBox\"\r\nimport { Image } from \"./Image\"\r\nimport { Label } from \"./Label\"\r\nimport { ProgressBar } from \"./ProgressBar\"\r\nimport { Radio } from \"./Radio\"\r\nimport { RadioGroup } from \"./RadioGroup\"\r\nimport { Tab } from \"./Tab\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { ViewStack } from \"./ViewStack\";\r\nimport { TextArea } from \"./TextArea\";\r\nimport { ColorPicker } from \"./ColorPicker\";\r\nimport { ScaleBox } from \"./ScaleBox\";\r\nimport { Clip } from \"./Clip\";\r\nimport { ComboBox } from \"./ComboBox\";\r\nimport { HScrollBar } from \"./HScrollBar\";\r\nimport { HSlider } from \"./HSlider\";\r\nimport { List } from \"./List\";\r\nimport { Panel } from \"./Panel\";\r\nimport { ScrollBar } from \"./ScrollBar\";\r\nimport { Slider } from \"./Slider\";\r\nimport { TextInput } from \"./TextInput\";\r\nimport { VScrollBar } from \"./VScrollBar\";\r\nimport { VSlider } from \"./VSlider\";\r\nimport { Tree } from \"./Tree\";\r\nimport { HBox } from \"./HBox\";\r\nimport { VBox } from \"./VBox\";\r\nimport { FontClip } from \"./FontClip\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n\r\n\r\n/**\r\n * <code>View</code> 是一个视图类，2.0开始，更改继承至Scene类，相对于Scene，增加相对布局功能。\r\n */\r\nexport class View extends Scene {\r\n    /**@private 兼容老版本*/\r\n    static uiMap: any = {};\r\n    /**@internal */\r\n    _watchMap: any = {};\r\n    /**@private 相对布局组件*/\r\n    protected _widget: Widget;\r\n    /**@private 控件的数据源。 */\r\n    protected _dataSource: any;\r\n    /**X锚点，值为0-1，设置anchorX值最终通过pivotX值来改变节点轴心点。*/\r\n    protected _anchorX: number = NaN;\r\n    /**Y锚点，值为0-1，设置anchorY值最终通过pivotY值来改变节点轴心点。*/\r\n    protected _anchorY: number = NaN;\r\n\r\n    static __init__(): void {\r\n        ILaya.ClassUtils.regShortClassName([ViewStack, Button, TextArea, ColorPicker, Box, ScaleBox, CheckBox, Clip, ComboBox, UIComponent,\r\n            HScrollBar, HSlider, Image, Label, List, Panel, ProgressBar, Radio, RadioGroup, ScrollBar, Slider, Tab, TextInput, View, /*Dialog,*/\r\n            VScrollBar, VSlider, Tree, HBox, VBox, Animation, Text, FontClip]);\r\n    }\r\n\r\n    constructor() {\r\n        super(false);   // 先不要createChildren 因为 this._widget还没有赋值\r\n        this._widget = Widget.EMPTY;\r\n        this.createChildren();\r\n    }\r\n\r\n    /**\r\n     * @private 兼容老版本\r\n     * 注册组件类映射。\r\n     * <p>用于扩展组件及修改组件对应关系。</p>\r\n     * @param key 组件类的关键字。\r\n     * @param compClass 组件类对象。\r\n     */\r\n    static regComponent(key: string, compClass: new () => any): void {\r\n        ILaya.ClassUtils.regClass(key, compClass);\r\n    }\r\n\r\n    /**\r\n     * @private 兼容老版本\r\n     * 注册UI视图类的逻辑处理类。\r\n     * 注册runtime解析。\r\n     * @param key UI视图类的关键字。\r\n     * @param compClass UI视图类对应的逻辑处理类。\r\n     */\r\n    static regViewRuntime(key: string, compClass: new () => any): void {\r\n        ILaya.ClassUtils.regClass(key, compClass);\r\n    }\r\n\r\n    /**\r\n     * @private 兼容老版本\r\n     * 注册UI配置信息，比如注册一个路径为\"test/TestPage\"的页面，UI内容是IDE生成的json\r\n     * @param\turl\t\tUI的路径\r\n     * @param\tjson\tUI内容\r\n     */\r\n    static regUI(url: string, json: any): void {\r\n        ILaya.loader.cacheRes(url, json);\r\n    }\r\n\r\n\t\t/** \r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  destroy(destroyChild: boolean = true): void {\r\n        this._watchMap = null;\r\n        super.destroy(destroyChild);\r\n    }\r\n\r\n    /**@private */\r\n    changeData(key: string): void {\r\n        var arr: any[] = this._watchMap[key];\r\n        if (!arr) return;\r\n        for (var i: number = 0, n: number = arr.length; i < n; i++) {\r\n            var watcher: any = arr[i];\r\n            watcher.exe(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件顶边到其内容区域顶边之间的垂直距离（以像素为单位）。</p>\r\n     */\r\n    get top(): number {\r\n        return this._widget.top;\r\n    }\r\n\r\n    set top(value: number) {\r\n        if (value != this._widget.top) {\r\n            this._getWidget().top = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件底边到其内容区域底边之间的垂直距离（以像素为单位）。</p>\r\n     */\r\n    get bottom(): number {\r\n        return this._widget.bottom;\r\n    }\r\n\r\n    set bottom(value: number) {\r\n        if (value != this._widget.bottom) {\r\n            this._getWidget().bottom = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件左边到其内容区域左边之间的水平距离（以像素为单位）。</p>\r\n     */\r\n    get left(): number {\r\n        return this._widget.left;\r\n    }\r\n\r\n    set left(value: number) {\r\n        if (value != this._widget.left) {\r\n            this._getWidget().left = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>从组件右边到其内容区域右边之间的水平距离（以像素为单位）。</p>\r\n     */\r\n    get right(): number {\r\n        return this._widget.right;\r\n    }\r\n\r\n    set right(value: number) {\r\n        if (value != this._widget.right) {\r\n            this._getWidget().right = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>在父容器中，此对象的水平方向中轴线与父容器的水平方向中心线的距离（以像素为单位）。</p>\r\n     */\r\n    get centerX(): number {\r\n        return this._widget.centerX;\r\n    }\r\n\r\n    set centerX(value: number) {\r\n        if (value != this._widget.centerX) {\r\n            this._getWidget().centerX = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * <p>在父容器中，此对象的垂直方向中轴线与父容器的垂直方向中心线的距离（以像素为单位）。</p>\r\n     */\r\n    get centerY(): number {\r\n        return this._widget.centerY;\r\n    }\r\n\r\n    set centerY(value: number) {\r\n        if (value != this._widget.centerY) {\r\n            this._getWidget().centerY = value;\r\n        }\r\n    }\r\n\r\n    /**X锚点，值为0-1，设置anchorX值最终通过pivotX值来改变节点轴心点。*/\r\n    get anchorX(): number {\r\n        return this._anchorX;\r\n    }\r\n\r\n    set anchorX(value: number) {\r\n        if (this._anchorX != value) {\r\n            this._anchorX = value;\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n    }\r\n\r\n    /**Y锚点，值为0-1，设置anchorY值最终通过pivotY值来改变节点轴心点。*/\r\n    get anchorY(): number {\r\n        return this._anchorY;\r\n    }\r\n\r\n    set anchorY(value: number) {\r\n        if (this._anchorY != value) {\r\n            this._anchorY = value\r\n            this.callLater(this._sizeChanged);\r\n        }\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/ protected _sizeChanged(): void {\r\n        if (!isNaN(this._anchorX)) this.pivotX = this.anchorX * this.width;\r\n        if (!isNaN(this._anchorY)) this.pivotY = this.anchorY * this.height;\r\n        this.event(Event.RESIZE);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * <p>获取对象的布局样式。请不要直接修改此对象</p>\r\n     */\r\n    private _getWidget(): Widget {\r\n        this._widget === Widget.EMPTY && (this._widget = this.addComponent(Widget));\r\n        return this._widget;\r\n    }\r\n\r\n    /**@private 兼容老版本*/\r\n    protected loadUI(path: string): void {\r\n        var uiView: any = View.uiMap[path];\r\n        View.uiMap && this.createView(uiView);\r\n    }\r\n\r\n    /**\r\n     * @implements\r\n     * laya.ui.UIComponent#dataSource\r\n     * */\r\n    get dataSource(): any {\r\n        return this._dataSource;\r\n    }\r\n\r\n    set dataSource(value: any) {\r\n        this._dataSource = value;\r\n        for (var name in value) {\r\n            var comp: any = this.getChildByName(name);\r\n            if (comp instanceof UIComponent) comp.dataSource = value[name];\r\n            else if (name in this && !(this[name] instanceof Function)) this[name] = value[name];\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(View);\r\nClassUtils.regClass(\"laya.ui.View\", View);\r\nClassUtils.regClass(\"Laya.View\", View);\r\n\r\n    //dialog 依赖于view，放到这里的话，谁在前都会报错，所以不能放到这里了\r\n","import { DialogManager } from \"./DialogManager\";\r\nimport { Dialog } from \"./Dialog\";\r\n/**\r\n * @internal\r\n */\r\nexport class IUI{\r\n    //static DialogManager:typeof DialogManager=null;\r\n    static Dialog:typeof Dialog=null;\r\n}","import { UIConfig } from \"./../../UIConfig\";\r\nimport { Const } from \"../Const\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Box } from \"./Box\"\r\nimport { Dialog } from \"./Dialog\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { Ease } from \"../utils/Ease\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { Tween } from \"../utils/Tween\"\r\nimport { IUI } from \"./IUI\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { ILaya } from \"../../ILaya\";\r\n\r\n/**打开任意窗口后调度。\r\n * @eventType Event.OPEN\r\n */\r\n/*[Event(name = \"open\", type = \"laya.events.Event\")]*/\r\n/**关闭任意窗口后调度。\r\n * @eventType Event.CLOSE\r\n */\r\n/*[Event(name = \"close\", type = \"laya.events.Event\")]*/\r\n\r\n/**\r\n * <code>DialogManager</code> 对话框管理容器，所有的对话框都在该容器内，并且受管理器管理。\r\n * 任意对话框打开和关闭，都会出发管理类的open和close事件\r\n * 可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭，点击窗口是否切换层次等\r\n * 通过设置对话框的zOrder属性，可以更改弹出的层次\r\n */\r\nexport class DialogManager extends Sprite {\r\n    /**遮罩层*/\r\n    maskLayer: Sprite = new Sprite();\r\n    /**锁屏层*/\r\n    lockLayer: Sprite;\r\n\r\n    /**@private 全局默认弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null*/\r\n    popupEffect = (dialog: Dialog)=>{\r\n        dialog.scale(1, 1);\r\n        dialog._effectTween = Tween.from(dialog, { x: ILaya.stage.width / 2, y: ILaya.stage.height / 2, scaleX: 0, scaleY: 0 }, 300, Ease.backOut, Handler.create(this, this.doOpen, [dialog]), 0, false, false);\r\n    }\r\n\r\n    /**@private 全局默认关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null*/\r\n    closeEffect = (dialog: Dialog)=>{\r\n        dialog._effectTween = Tween.to(dialog, { x: ILaya.stage.width / 2, y: ILaya.stage.height / 2, scaleX: 0, scaleY: 0 }, 300, Ease.strongOut, Handler.create(this, this.doClose, [dialog]), 0, false, false);\r\n    }\r\n\r\n    /**全局默认关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null*/\r\n    popupEffectHandler: Handler = new Handler(this, this.popupEffect);\r\n    /**全局默认弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null*/\r\n    closeEffectHandler: Handler = new Handler(this, this.closeEffect);\r\n\r\n    /**\r\n     * 创建一个新的 <code>DialogManager</code> 类实例。\r\n     */\r\n    constructor() {\r\n        super();\r\n        this.mouseEnabled = this.maskLayer.mouseEnabled = true;\r\n        this.zOrder = 1000;\r\n        ILaya.stage.addChild(this);\r\n        ILaya.stage.on(Event.RESIZE, this, this._onResize);\r\n        if (UIConfig.closeDialogOnSide) this.maskLayer.on(\"click\", this, this._closeOnSide);\r\n        this._onResize(null);\r\n    }\r\n\r\n    private _closeOnSide(): void {\r\n        var dialog: Dialog = (<Dialog>this.getChildAt(this.numChildren - 1));\r\n        if (dialog instanceof IUI.Dialog) dialog.close();\r\n    }\r\n\r\n    /**设置锁定界面，如果为空则什么都不显示*/\r\n    setLockView(value: UIComponent): void {\r\n        if (!this.lockLayer) {\r\n            this.lockLayer = new Box();\r\n            this.lockLayer.mouseEnabled = true;\r\n            this.lockLayer.size(ILaya.stage.width, ILaya.stage.height);\r\n        }\r\n        this.lockLayer.removeChildren();\r\n        if (value) {\r\n            value.centerX = value.centerY = 0;\r\n            this.lockLayer.addChild(value);\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    private _onResize(e: Event = null): void {\r\n        var width: number = this.maskLayer.width = ILaya.stage.width;\r\n        var height: number = this.maskLayer.height = ILaya.stage.height;\r\n        if (this.lockLayer) this.lockLayer.size(width, height);\r\n\r\n        this.maskLayer.graphics.clear(true);\r\n        this.maskLayer.graphics.drawRect(0, 0, width, height, UIConfig.popupBgColor);\r\n        this.maskLayer.alpha = UIConfig.popupBgAlpha;\r\n\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var item: Dialog = (<Dialog>this.getChildAt(i));\r\n            if (item.isPopupCenter) this._centerDialog(item);\r\n        }\r\n    }\r\n\r\n    private _centerDialog(dialog: Dialog): void {\r\n        dialog.x = Math.round(((ILaya.stage.width - dialog.width) >> 1) + dialog.pivotX);\r\n        dialog.y = Math.round(((ILaya.stage.height - dialog.height) >> 1) + dialog.pivotY);\r\n    }\r\n\r\n    /**\r\n     * 显示对话框\r\n     * @param dialog 需要显示的对象框 <code>Dialog</code> 实例。\r\n     * @param closeOther 是否关闭其它对话框，若值为ture，则关闭其它的对话框。\r\n     * @param showEffect 是否显示弹出效果\r\n     */\r\n    open(dialog: Dialog, closeOther: boolean = false, showEffect: boolean = false): void {\r\n        if (closeOther) this._closeAll();\r\n        this._clearDialogEffect(dialog);\r\n        if (dialog.isPopupCenter) this._centerDialog(dialog);\r\n        this.addChild(dialog);\r\n        if (dialog.isModal || this._getBit(Const.HAS_ZORDER)) ILaya.timer.callLater(this, this._checkMask);\r\n        if (showEffect && dialog.popupEffect != null) dialog.popupEffect.runWith(dialog);\r\n        else this.doOpen(dialog);\r\n        this.event(Event.OPEN);\r\n    }\r\n\r\n    /**@private */\r\n    private _clearDialogEffect(dialog: Dialog): void {\r\n        if (dialog._effectTween) {\r\n            Tween.clear(dialog._effectTween);\r\n            dialog._effectTween = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 执行打开对话框。\r\n     * @param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n     */\r\n    doOpen(dialog: Dialog): void {\r\n        dialog.onOpened(dialog._param);\r\n    }\r\n\r\n    /**\r\n     * 锁定所有层，显示加载条信息，防止双击\r\n     */\r\n    lock(value: boolean): void {\r\n        if (this.lockLayer) {\r\n            if (value) this.addChild(this.lockLayer);\r\n            else this.lockLayer.removeSelf();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 关闭对话框。\r\n     * @param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n     */\r\n    close(dialog: Dialog): void {\r\n        this._clearDialogEffect(dialog);\r\n        if (dialog.isShowEffect && dialog.closeEffect != null) dialog.closeEffect.runWith([dialog]);\r\n        else this.doClose(dialog);\r\n        this.event(Event.CLOSE);\r\n    }\r\n\r\n    /**\r\n     * 执行关闭对话框。\r\n     * @param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n     */\r\n    doClose(dialog: Dialog): void {\r\n        dialog.removeSelf();\r\n        dialog.isModal && this._checkMask();\r\n        dialog.closeHandler && dialog.closeHandler.runWith(dialog.closeType);\r\n        dialog.onClosed(dialog.closeType);\r\n        if (dialog.autoDestroyAtClosed) dialog.destroy();\r\n    }\r\n\r\n    /**\r\n     * 关闭所有的对话框。\r\n     */\r\n    closeAll(): void {\r\n        this._closeAll();\r\n        this.event(Event.CLOSE);\r\n    }\r\n\r\n    /**@private */\r\n    private _closeAll(): void {\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var item: Dialog = (<Dialog>this.getChildAt(i));\r\n            if (item && item.close != null) {\r\n                this.doClose(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据组获取所有对话框\r\n     * @param\tgroup 组名称\r\n     * @return\t对话框数组\r\n     */\r\n    getDialogsByGroup(group: string): any[] {\r\n        var arr: any[] = [];\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var item: Dialog = (<Dialog>this.getChildAt(i));\r\n            if (item && item.group === group) {\r\n                arr.push(item);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * 根据组关闭所有弹出框\r\n     * @param\tgroup 需要关闭的组名称\r\n     * @return\t需要关闭的对话框数组\r\n     */\r\n    closeByGroup(group: string): any[] {\r\n        var arr: any[] = [];\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var item: Dialog = (<Dialog>this.getChildAt(i));\r\n            if (item && item.group === group) {\r\n                item.close();\r\n                arr.push(item);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    /**@internal 发生层次改变后，重新检查遮罩层是否正确*/\r\n    _checkMask(): void {\r\n        this.maskLayer.removeSelf();\r\n        for (var i: number = this.numChildren - 1; i > -1; i--) {\r\n            var dialog: Dialog = (<Dialog>this.getChildAt(i));\r\n            if (dialog && dialog.isModal) {\r\n                //trace(numChildren,i);\r\n                this.addChildAt(this.maskLayer, i);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nClassUtils.regClass(\"laya.ui.DialogManager\", DialogManager);\r\nClassUtils.regClass(\"Laya.DialogManager\", DialogManager);","import { View } from \"./View\";\r\nimport { DialogManager } from \"./DialogManager\";\r\nimport { UIUtils } from \"./UIUtils\";\r\nimport { Button } from \"./Button\";\r\nimport { UIComponent } from \"./UIComponent\";\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Rectangle } from \"../maths/Rectangle\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { Tween } from \"../utils/Tween\"\r\nimport { IUI } from \"./IUI\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * <code>Dialog</code> 组件是一个弹出对话框，实现对话框弹出，拖动，模式窗口功能。\r\n * 可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭等\r\n * 通过设置zOrder属性，可以更改弹出的层次\r\n * 通过设置popupEffect和closeEffect可以设置弹出效果和关闭效果，如果不想有任何弹出关闭效果，可以设置前述属性为空\r\n *\r\n * @example <caption>以下示例代码，创建了一个 <code>Dialog</code> 实例。</caption>\r\n * package\r\n *\t{\r\n *\t\timport laya.ui.Dialog;\r\n *\t\timport laya.utils.Handler;\r\n *\t\tpublic class Dialog_Example\r\n *\t\t{\r\n *\t\t\tprivate var dialog:Dialog_Instance;\r\n *\t\t\tpublic function Dialog_Example()\r\n *\t\t\t{\r\n *\t\t\t\tLaya.init(640, 800);//设置游戏画布宽高、渲染模式。\r\n *\t\t\t\tLaya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *\t\t\t\tLaya.loader.load(\"resource/ui/btn_close.png\", Handler.create(this, onLoadComplete));//加载资源。\r\n *\t\t\t}\r\n *\t\t\tprivate function onLoadComplete():void\r\n *\t\t\t{\r\n *\t\t\t\tdialog = new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。\r\n *\t\t\t\tdialog.dragArea = \"0,0,150,50\";//设置 dialog 的拖拽区域。\r\n *\t\t\t\tdialog.show();//显示 dialog。\r\n *\t\t\t\tdialog.closeHandler = new Handler(this, onClose);//设置 dialog 的关闭函数处理器。\r\n *\t\t\t}\r\n *\t\t\tprivate function onClose(name:String):void\r\n *\t\t\t{\r\n *\t\t\t\tif (name == Dialog.CLOSE)\r\n *\t\t\t\t{\r\n *\t\t\t\t\ttrace(\"通过点击 name 为\" + name +\"的组件，关闭了dialog。\");\r\n *\t\t\t\t}\r\n *\t\t\t}\r\n *\t\t}\r\n *\t}\r\n *\timport laya.ui.Button;\r\n *\timport laya.ui.Dialog;\r\n *\timport laya.ui.Image;\r\n *\tclass Dialog_Instance extends Dialog\r\n *\t{\r\n *\t\tfunction Dialog_Instance():void\r\n *\t\t{\r\n *\t\t\tvar bg:Image = new Image(\"resource/ui/bg.png\");\r\n *\t\t\tbg.sizeGrid = \"40,10,5,10\";\r\n *\t\t\tbg.width = 150;\r\n *\t\t\tbg.height = 250;\r\n *\t\t\taddChild(bg);\r\n *\t\t\tvar image:Image = new Image(\"resource/ui/image.png\");\r\n *\t\t\taddChild(image);\r\n *\t\t\tvar button:Button = new Button(\"resource/ui/btn_close.png\");\r\n *\t\t\tbutton.name = Dialog.CLOSE;//设置button的name属性值。\r\n *\t\t\tbutton.x = 0;\r\n *\t\t\tbutton.y = 0;\r\n *\t\t\taddChild(button);\r\n *\t\t}\r\n *\t}\r\n * @example\r\n * Laya.init(640, 800);//设置游戏画布宽高、渲染模式\r\n * Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色\r\n * var dialog;\r\n * Laya.loader.load(\"resource/ui/btn_close.png\", laya.utils.Handler.create(this, loadComplete));//加载资源\r\n * (function (_super) {//新建一个类Dialog_Instance继承自laya.ui.Dialog。\r\n *     function Dialog_Instance() {\r\n *         Dialog_Instance.__super.call(this);//初始化父类\r\n *         var bg = new laya.ui.Image(\"resource/ui/bg.png\");//新建一个 Image 类的实例 bg 。\r\n *         bg.sizeGrid = \"10,40,10,5\";//设置 bg 的网格信息。\r\n *         bg.width = 150;//设置 bg 的宽度。\r\n *         bg.height = 250;//设置 bg 的高度。\r\n *         this.addChild(bg);//将 bg 添加到显示列表。\r\n *         var image = new laya.ui.Image(\"resource/ui/image.png\");//新建一个 Image 类的实例 image 。\r\n *         this.addChild(image);//将 image 添加到显示列表。\r\n *         var button = new laya.ui.Button(\"resource/ui/btn_close.png\");//新建一个 Button 类的实例 bg 。\r\n *         button.name = laya.ui.Dialog.CLOSE;//设置 button 的 name 属性值。\r\n *         button.x = 0;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。\r\n *         button.y = 0;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。\r\n *         this.addChild(button);//将 button 添加到显示列表。\r\n *     };\r\n *     Laya.class(Dialog_Instance,\"mypackage.dialogExample.Dialog_Instance\",_super);//注册类Dialog_Instance。\r\n * })(laya.ui.Dialog);\r\n * function loadComplete() {\r\n *     console.log(\"资源加载完成！\");\r\n *     dialog = new mypackage.dialogExample.Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。\r\n *     dialog.dragArea = \"0,0,150,50\";//设置 dialog 的拖拽区域。\r\n *     dialog.show();//显示 dialog。\r\n *     dialog.closeHandler = new laya.utils.Handler(this, onClose);//设置 dialog 的关闭函数处理器。\r\n * }\r\n * function onClose(name) {\r\n *     if (name == laya.ui.Dialog.CLOSE) {\r\n *         console.log(\"通过点击 name 为\" + name + \"的组件，关闭了dialog。\");\r\n *     }\r\n * }\r\n * @example\r\n * import Dialog = laya.ui.Dialog;\r\n * import Handler = laya.utils.Handler;\r\n * class Dialog_Example {\r\n *     private dialog: Dialog_Instance;\r\n *     constructor() {\r\n *         Laya.init(640, 800);//设置游戏画布宽高。\r\n *         Laya.stage.bgColor = \"#efefef\";//设置画布的背景颜色。\r\n *         Laya.loader.load(\"resource/ui/btn_close.png\", Handler.create(this, this.onLoadComplete));//加载资源。\r\n *     }\r\n *     private onLoadComplete(): void {\r\n *         this.dialog = new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。\r\n *         this.dialog.dragArea = \"0,0,150,50\";//设置 dialog 的拖拽区域。\r\n *         this.dialog.show();//显示 dialog。\r\n *         this.dialog.closeHandler = new Handler(this, this.onClose);//设置 dialog 的关闭函数处理器。\r\n *     }\r\n *     private onClose(name: string): void {\r\n *         if (name == Dialog.CLOSE) {\r\n *             console.log(\"通过点击 name 为\" + name + \"的组件，关闭了dialog。\");\r\n *         }\r\n *     }\r\n * }\r\n * import Button = laya.ui.Button;\r\n * class Dialog_Instance extends Dialog {\r\n *     Dialog_Instance(): void {\r\n *         var bg: laya.ui.Image = new laya.ui.Image(\"resource/ui/bg.png\");\r\n *         bg.sizeGrid = \"40,10,5,10\";\r\n *         bg.width = 150;\r\n *         bg.height = 250;\r\n *         this.addChild(bg);\r\n *         var image: laya.ui.Image = new laya.ui.Image(\"resource/ui/image.png\");\r\n *         this.addChild(image);\r\n *         var button: Button = new Button(\"resource/ui/btn_close.png\");\r\n *         button.name = Dialog.CLOSE;//设置button的name属性值。\r\n *         button.x = 0;\r\n *         button.y = 0;\r\n *         this.addChild(button);\r\n *     }\r\n * }\r\n */\r\nexport class Dialog extends View {\r\n    /**对话框内的某个按钮命名为close，点击此按钮则会关闭*/\r\n    static CLOSE: string = \"close\";\r\n    /**对话框内的某个按钮命名为cancel，点击此按钮则会关闭*/\r\n    static CANCEL: string = \"cancel\";\r\n    /**对话框内的某个按钮命名为sure，点击此按钮则会关闭*/\r\n    static SURE: string = \"sure\";\r\n    /**对话框内的某个按钮命名为no，点击此按钮则会关闭*/\r\n    static NO: string = \"no\";\r\n    /**对话框内的某个按钮命名为yes，点击此按钮则会关闭*/\r\n    static YES: string = \"yes\";\r\n    /**对话框内的某个按钮命名为ok，点击此按钮则会关闭*/\r\n    static OK: string = \"ok\";\r\n\r\n    /**@private 表示对话框管理器。*/\r\n    private static _manager: DialogManager;\r\n\r\n    /**对话框管理容器，所有的对话框都在该容器内，并且受管理器管理，可以自定义自己的管理器，来更改窗口管理的流程。\r\n     * 任意对话框打开和关闭，都会触发管理类的open和close事件*/\r\n    static get manager(): DialogManager {\r\n        return Dialog._manager = Dialog._manager || new DialogManager();\r\n    }\r\n\r\n    static set manager(value: DialogManager) {\r\n        Dialog._manager = value;\r\n    }\r\n\r\n    /**\r\n     * 对话框被关闭时会触发的回调函数处理器。\r\n     * <p>回调函数参数为用户点击的按钮名字name:String。</p>\r\n     */\r\n    closeHandler: Handler;\r\n    /**\r\n     * 弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null\r\n     * 全局默认弹出效果可以通过manager.popupEffect修改\r\n     */\r\n    popupEffect: Handler;\r\n    /**\r\n     * 关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null\r\n     * 全局默认关闭效果可以通过manager.closeEffect修改\r\n     */\r\n    closeEffect: Handler;\r\n    /**组名称*/\r\n    group: string;\r\n    /**是否是模式窗口*/\r\n    isModal: boolean;\r\n    /**是否显示弹出效果*/\r\n    isShowEffect: boolean = true;\r\n    /**指定对话框是否居中弹。<p>如果值为true，则居中弹出，否则，则根据对象坐标显示，默认为true。</p>*/\r\n    isPopupCenter: boolean = true;\r\n    /**关闭类型，点击name为\"close\"，\"cancel\"，\"sure\"，\"no\"，\"yes\"，\"no\"的按钮时，会自动记录点击按钮的名称*/\r\n    closeType: string;\r\n    /**@private */\r\n    private _dragArea: Rectangle;\r\n    /**@internal */\r\n    _param: any;\r\n    /**@internal */\r\n    _effectTween: Tween;\r\n\r\n    constructor() {\r\n        super();\r\n        this.popupEffect = Dialog.manager.popupEffectHandler;\r\n        this.closeEffect = Dialog.manager.closeEffectHandler;\r\n        this._dealDragArea();\r\n        this.on(Event.CLICK, this, this._onClick);\r\n    }\r\n\r\n    /**@private 提取拖拽区域*/\r\n    protected _dealDragArea(): void {\r\n        var dragTarget: Sprite = (<Sprite>this.getChildByName(\"drag\"));\r\n        if (dragTarget) {\r\n            this.dragArea = dragTarget._x + \",\" + dragTarget._y + \",\" + dragTarget.width + \",\" + dragTarget.height;\r\n            dragTarget.removeSelf();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 用来指定对话框的拖拽区域。默认值为\"0,0,0,0\"。\r\n     * <p><b>格式：</b>构成一个矩形所需的 x,y,width,heith 值，用逗号连接为字符串。\r\n     * 例如：\"0,0,100,200\"。</p>\r\n     * @see #includeExamplesSummary 请参考示例\r\n     */\r\n    get dragArea(): string {\r\n        if (this._dragArea) return this._dragArea.toString();\r\n        return null;\r\n    }\r\n\r\n    set dragArea(value: string) {\r\n        if (value) {\r\n            var a: any[] = UIUtils.fillArray([0, 0, 0, 0], value, Number);\r\n            this._dragArea = new Rectangle(a[0], a[1], a[2], a[3]);\r\n            this.on(Event.MOUSE_DOWN, this, this._onMouseDown);\r\n        } else {\r\n            this._dragArea = null;\r\n            this.off(Event.MOUSE_DOWN, this, this._onMouseDown);\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    private _onMouseDown(e: Event): void {\r\n        var point: Point = this.getMousePoint();\r\n        if (this._dragArea.contains(point.x, point.y)) this.startDrag();\r\n        else this.stopDrag();\r\n    }\r\n\r\n    /**@private 处理默认点击事件*/\r\n    protected _onClick(e: Event): void {\r\n        var btn: Button = (<Button>e.target);\r\n        if (btn) {\r\n            switch (btn.name) {\r\n                case Dialog.CLOSE:\r\n                case Dialog.CANCEL:\r\n                case Dialog.SURE:\r\n                case Dialog.NO:\r\n                case Dialog.OK:\r\n                case Dialog.YES:\r\n                    this.close(btn.name);\r\n                    return;\r\n            }\r\n        }\r\n    }\r\n\r\n\t\t/**\r\n\t\t * @inheritDoc \r\n\t\t * @override\r\n\t\t*/\r\n\t\t/*override*/  open(closeOther: boolean = true, param: any = null): void {\r\n        this._dealDragArea();\r\n        this._param = param;\r\n        Dialog.manager.open(this, closeOther, this.isShowEffect);\r\n        Dialog.manager.lock(false);\r\n    }\r\n\r\n    /**\r\n     * 关闭对话框。\r\n     * @param type 关闭的原因，会传递给onClosed函数\r\n     * @override\r\n     */\r\n\tclose(type: string = null): void {\r\n        this.closeType = type;\r\n        Dialog.manager.close(this);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tdestroy(destroyChild: boolean = true): void {\r\n        this.closeHandler = null;\r\n        this.popupEffect = null;\r\n        this.closeEffect = null;\r\n        this._dragArea = null;\r\n        super.destroy(destroyChild);\r\n    }\r\n\r\n    /**\r\n     * 显示对话框（以非模式窗口方式显示）。\r\n     * @param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。\r\n     * @param showEffect 是否显示弹出效果\r\n     */\r\n    show(closeOther: boolean = false, showEffect: boolean = true): void {\r\n        this._open(false, closeOther, showEffect);\r\n    }\r\n\r\n    /**\r\n     * 显示对话框（以模式窗口方式显示）。\r\n     * @param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。\r\n     * @param showEffect 是否显示弹出效果\r\n     */\r\n    popup(closeOther: boolean = false, showEffect: boolean = true): void {\r\n        this._open(true, closeOther, showEffect);\r\n    }\r\n\r\n    /**@private */\r\n    protected _open(modal: boolean, closeOther: boolean, showEffect: boolean): void {\r\n        this.isModal = modal;\r\n        this.isShowEffect = showEffect;\r\n        Dialog.manager.lock(true);\r\n        this.open(closeOther);\r\n    }\r\n\r\n    /**弹出框的显示状态；如果弹框处于显示中，则为true，否则为false;*/\r\n    get isPopup(): boolean {\r\n        return this.parent != null;\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n\tset zOrder(value: number) {\r\n        super.zOrder = value;\r\n        Dialog.manager._checkMask();\r\n    }\r\n    /**\r\n     * @inheritDoc \r\n     * @override\r\n     */\r\n    get zOrder() {\r\n        return super.zOrder;\r\n    }\r\n\r\n    /**\r\n     * 设置锁定界面，在界面未准备好前显示锁定界面，准备完毕后则移除锁定层，如果为空则什么都不显示\r\n     * @param\tview 锁定界面内容\r\n     */\r\n    static setLockView(view: UIComponent): void {\r\n        Dialog.manager.setLockView(view);\r\n    }\r\n\r\n    /**\r\n     * 锁定所有层，显示加载条信息，防止下面内容被点击\r\n     */\r\n    static lock(value: boolean): void {\r\n        Dialog.manager.lock(value);\r\n    }\r\n\r\n    /**关闭所有对话框。*/\r\n    static closeAll(): void {\r\n        Dialog.manager.closeAll();\r\n    }\r\n\r\n    /**\r\n     * 根据组获取对话框集合\r\n     * @param\tgroup 组名称\r\n     * @return\t对话框数组\r\n     */\r\n    static getDialogsByGroup(group: string): any[] {\r\n        return Dialog.manager.getDialogsByGroup(group);\r\n    }\r\n\r\n    /**\r\n     * 根据组关闭所有弹出框\r\n     * @param\tgroup 需要关闭的组名称\r\n     */\r\n    static closeByGroup(group: string): any[] {\r\n        return Dialog.manager.closeByGroup(group);\r\n    }\r\n}\r\n\r\n\r\nIUI.Dialog = Dialog;\r\nILaya.regClass(Dialog);\r\nClassUtils.regClass(\"laya.ui.Dialog\", Dialog);\r\nClassUtils.regClass(\"Laya.Dialog\", Dialog);","import { Graphics } from \"../display/Graphics\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Text } from \"../display/Text\"\r\nimport { Event } from \"../events/Event\"\r\nimport { Rectangle } from \"../maths/Rectangle\"\r\nimport { UIComponent } from \"./UIComponent\"\r\nimport { UIEvent } from \"./UIEvent\"\r\nimport { Handler } from \"../utils/Handler\"\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**鼠标提示管理类*/\r\nexport class TipManager extends UIComponent {\r\n    static offsetX: number = 10;\r\n    static offsetY: number = 15;\r\n    static tipTextColor: string = \"#ffffff\";\r\n    static tipBackColor: string = \"#111111\";\r\n    static tipDelay: number = 200;\r\n    private _tipBox: UIComponent;\r\n    private _tipText: Text;\r\n    private _defaultTipHandler: Function;\r\n\r\n    constructor() {\r\n        super();\r\n        this._tipBox = new UIComponent();\r\n        this._tipBox.addChild(this._tipText = new Text());\r\n        this._tipText.x = this._tipText.y = 5;\r\n        this._tipText.color = TipManager.tipTextColor;\r\n        this._defaultTipHandler = this._showDefaultTip;\r\n        ILaya.stage.on(UIEvent.SHOW_TIP, this, this._onStageShowTip);\r\n        ILaya.stage.on(UIEvent.HIDE_TIP, this, this._onStageHideTip);\r\n        this.zOrder = 1100\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onStageHideTip(e: any): void {\r\n        ILaya.timer.clear(this, this._showTip);\r\n        this.closeAll();\r\n        this.removeSelf();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onStageShowTip(data: any): void {\r\n        ILaya.timer.once(TipManager.tipDelay, this, this._showTip, [data], true);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _showTip(tip: any): void {\r\n        if (typeof (tip) == 'string') {\r\n            var text: string = String(tip);\r\n            if (Boolean(text)) {\r\n                this._defaultTipHandler(text);\r\n            }\r\n        } else if (tip instanceof Handler) {\r\n            ((<Handler>tip)).run();\r\n        } else if (tip instanceof Function) {\r\n            tip.apply();\r\n        }\r\n        if (true) {\r\n            ILaya.stage.on(Event.MOUSE_MOVE, this, this._onStageMouseMove);\r\n            ILaya.stage.on(Event.MOUSE_DOWN, this, this._onStageMouseDown);\r\n        }\r\n\r\n        this._onStageMouseMove(null);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onStageMouseDown(e: Event): void {\r\n        this.closeAll();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _onStageMouseMove(e: Event): void {\r\n        this._showToStage(this, TipManager.offsetX, TipManager.offsetY);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _showToStage(dis: Sprite, offX: number = 0, offY: number = 0): void {\r\n        var rec: Rectangle = dis.getBounds();\r\n        dis.x = ILaya.stage.mouseX + offX;\r\n        dis.y = ILaya.stage.mouseY + offY;\r\n        if (dis._x + rec.width > ILaya.stage.width) {\r\n            dis.x -= rec.width + offX;\r\n        }\r\n        if (dis._y + rec.height > ILaya.stage.height) {\r\n            dis.y -= rec.height + offY;\r\n        }\r\n    }\r\n\r\n    /**关闭所有鼠标提示*/\r\n    closeAll(): void {\r\n        ILaya.timer.clear(this, this._showTip);\r\n        ILaya.stage.off(Event.MOUSE_MOVE, this, this._onStageMouseMove);\r\n        ILaya.stage.off(Event.MOUSE_DOWN, this, this._onStageMouseDown);\r\n        this.removeChildren();\r\n    }\r\n\r\n    /**\r\n     * 显示显示对象类型的tip\r\n     */\r\n    showDislayTip(tip: Sprite): void {\r\n        this.addChild(tip);\r\n        this._showToStage(this);\r\n        ILaya.stage.addChild(this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    private _showDefaultTip(text: string): void {\r\n        this._tipText.text = text;\r\n        var g: Graphics = this._tipBox.graphics;\r\n        g.clear(true);\r\n        g.drawRect(0, 0, this._tipText.width + 10, this._tipText.height + 10, TipManager.tipBackColor);\r\n        this.addChild(this._tipBox);\r\n        this._showToStage(this);\r\n        ILaya.stage.addChild(this);\r\n    }\r\n\r\n    /**默认鼠标提示函数*/\r\n    get defaultTipHandler(): Function {\r\n        return this._defaultTipHandler;\r\n    }\r\n\r\n    set defaultTipHandler(value: Function) {\r\n        this._defaultTipHandler = value;\r\n    }\r\n}\r\n\r\nILaya.regClass(TipManager);\r\nClassUtils.regClass(\"laya.ui.TipManager\", TipManager);\r\nClassUtils.regClass(\"Laya.TipManager\", TipManager);","\r\n//TODO 什么时候做\r\nexport class UILib {\r\n    static __init__() {\r\n        //注册UI类名称映射\r\n\r\n    }\r\n}\r\n\r\n","import { UIComponent } from \"../../laya/ui/UIComponent\";\r\nimport { Laya } from \"./../../Laya\";\r\nimport { Stage } from \"../../laya/display/Stage\"\r\nimport { Matrix } from \"../../laya/maths/Matrix\"\r\nimport { Texture } from \"../../laya/resource/Texture\"\r\nimport { Texture2D } from \"../resource/Texture2D\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\t\r\n/**\r\n * 微信开放数据展示组件，直接实例本组件，即可根据组件宽高，位置，以最优的方式显示开放域数据\r\n */\r\nexport class WXOpenDataViewer extends UIComponent {\r\n    //private _texture:Texture;\r\n    \r\n    constructor(){\r\n        super();\r\n        this._width = this._height = 200;\r\n        var tex:Texture = new Texture();\r\n        tex.bitmap = new Texture2D();\r\n        this.texture = tex;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    onEnable():void {\r\n        this.postMsg({type: \"display\",rate:Laya.stage.frameRate});\r\n        if ((window as any).wx && (window as any).sharedCanvas) Laya.timer.frameLoop(1, this, this._onLoop);\r\n    }\r\n    /**\r\n     * @override\r\n     */ \r\n    onDisable():void {\r\n        this.postMsg({type: \"undisplay\"});\r\n        Laya.timer.clear(this, this._onLoop);\r\n    }\r\n    \r\n    private _onLoop():void {\r\n        let _canvas:HTMLCanvasElement = (window as any).sharedCanvas;\r\n        this.texture.sourceWidth = _canvas.width;\r\n        this.texture.sourceHeight = _canvas.height;\r\n        (this.texture.bitmap as Texture2D).loadImageSource(_canvas);\r\n    }\r\n    \r\n    /**\r\n     * @override\r\n     */\r\n    set width(value:number) {\r\n        super.width = value;\r\n        if ((window as any).sharedCanvas) (window as any).sharedCanvas.width = value;\r\n        this.callLater(this._postMsg);\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    get width(){\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    set height(value:number) {\r\n        super.height = value;\r\n        if ((window as any).sharedCanvas) (window as any).sharedCanvas.height = value;\r\n        this.callLater(this._postMsg);\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    get height(){\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    set x(value:number) {\r\n        super.x = value;\r\n        this.callLater(this._postMsg);\r\n    }\r\n    \r\n    /**\r\n     * @override\r\n     */\r\n    get x(){\r\n       return super.x;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    set y(value:number) {\r\n        super.y = value;\r\n        this.callLater(this._postMsg);\r\n    }\r\n    \r\n    /**\r\n     * @override\r\n     */\r\n    get y(){\r\n        return super.y;\r\n    }\r\n    \r\n    private _postMsg():void {\r\n        var mat:Matrix = new Matrix();\r\n        mat.translate(this.x, this.y);\r\n        var stage:Stage = Laya.stage;\r\n        mat.scale(stage._canvasTransform.getScaleX() * this.globalScaleX * stage.transform.getScaleX(), stage._canvasTransform.getScaleY() * this.globalScaleY * stage.transform.getScaleY());\r\n        this.postMsg({type: \"changeMatrix\", a: mat.a, b: mat.b, c: mat.c, d: mat.d, tx: mat.tx, ty: mat.ty, w: this.width, h: this.height});\r\n    }\r\n    \r\n    /**向开放数据域发送消息*/\r\n        postMsg(msg:any):void {\r\n        if ((window as any).wx && (window as any).wx.getOpenDataContext) {\r\n            var openDataContext:any = (window as any).wx.getOpenDataContext();\r\n            openDataContext.postMessage(msg);\r\n        }\r\n    }\r\n}\r\n\r\nILaya.regClass(WXOpenDataViewer);\r\nClassUtils.regClass(\"laya.ui.WXOpenDataViewer\", WXOpenDataViewer);\r\nClassUtils.regClass(\"Laya.WXOpenDataViewer\", WXOpenDataViewer);"],"names":["Graphics","ILaya","Utils","Texture","ClassUtils","Component","Event","ColorFilter","WeakObject","Sprite","Loader","Handler","Browser","LocalStorage","Text","Const","Input","Point","Laya","Tween","Ease","SceneUtils","Rectangle","Scene","Animation","Texture2D","Matrix"],"mappings":"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"}