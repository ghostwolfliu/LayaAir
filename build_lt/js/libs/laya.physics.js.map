{"version":3,"file":"laya.physics.js","sources":["../../../src/layaAir/laya/physics/IPhysics.ts","../../../src/layaAir/laya/physics/ColliderBase.ts","../../../src/layaAir/laya/physics/RigidBody.ts","../../../src/layaAir/laya/physics/DestructionListener.ts","../../../src/layaAir/laya/physics/Physics.ts","../../../src/layaAir/laya/physics/BoxCollider.ts","../../../src/layaAir/laya/physics/ChainCollider.ts","../../../src/layaAir/laya/physics/CircleCollider.ts","../../../src/layaAir/laya/physics/PhysicsDebugDraw.ts","../../../src/layaAir/laya/physics/PolygonCollider.ts","../../../src/layaAir/laya/physics/joint/JointBase.ts","../../../src/layaAir/laya/physics/joint/DistanceJoint.ts","../../../src/layaAir/laya/physics/joint/GearJoint.ts","../../../src/layaAir/laya/physics/joint/MotorJoint.ts","../../../src/layaAir/laya/physics/joint/MouseJoint.ts","../../../src/layaAir/laya/physics/joint/PrismaticJoint.ts","../../../src/layaAir/laya/physics/joint/PulleyJoint.ts","../../../src/layaAir/laya/physics/joint/RevoluteJoint.ts","../../../src/layaAir/laya/physics/joint/RopeJoint.ts","../../../src/layaAir/laya/physics/joint/WeldJoint.ts","../../../src/layaAir/laya/physics/joint/WheelJoint.ts"],"sourcesContent":["import { RigidBody } from \"./RigidBody\";\r\nimport { Physics } from \"./Physics\";\r\n/**\r\n * @internal\r\n * 使用全局类的时候，避免引用其他模块\r\n */\r\nexport class IPhysics {\r\n    static RigidBody: typeof RigidBody = null;\r\n    static Physics: typeof Physics = null;\r\n}","import { Laya } from \"../../Laya\";\r\nimport { Component } from \"../components/Component\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { IPhysics } from \"./IPhysics\";\r\nimport { RigidBody } from \"./RigidBody\";\r\n\r\n/**\r\n * 碰撞体基类\r\n */\r\nexport class ColliderBase extends Component {\r\n    /**是否是传感器，传感器能够触发碰撞事件，但不会产生碰撞反应*/\r\n    private _isSensor: boolean = false;\r\n    /**密度值，值可以为零或者是正数，建议使用相似的密度，这样做可以改善堆叠稳定性，默认值为10*/\r\n    private _density: number = 10;\r\n    /**摩擦力，取值范围0-1，值越大，摩擦越大，默认值为0.2*/\r\n    private _friction: number = 0.2;\r\n    /**弹性系数，取值范围0-1，值越大，弹性越大，默认值为0*/\r\n    private _restitution: number = 0;\r\n    /**标签*/\r\n    label: string;\r\n\r\n    /**@private b2Shape对象*/\r\n    protected _shape: any;\r\n    /**@private b2FixtureDef对象 */\r\n    protected _def: any;\r\n    /**[只读]b2Fixture对象 */\r\n    fixture: any;\r\n    /**[只读]刚体引用*/\r\n    rigidBody: RigidBody;\r\n\r\n    /**@private 获取碰撞体信息*/\r\n    protected getDef(): any {\r\n        if (!this._def) {\r\n            var def: any = new (<any>window).box2d.b2FixtureDef();\r\n            def.density = this.density;\r\n            def.friction = this.friction;\r\n            def.isSensor = this.isSensor;\r\n            def.restitution = this.restitution;\r\n            def.shape = this._shape;\r\n            this._def = def;\r\n        }\r\n        return this._def;\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    _onEnable(): void {\r\n        if(this.rigidBody){\r\n            this.refresh();\r\n        }\r\n        else{\r\n            Laya.systemTimer.callLater(this, this._checkRigidBody);\r\n        }\r\n    }\r\n\r\n    private _checkRigidBody(): void {\r\n        if (!this.rigidBody) {\r\n            var comp: RigidBody = this.owner.getComponent(IPhysics.RigidBody);\r\n            if (comp) {\r\n                this.rigidBody = comp;\r\n                this.refresh();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    protected _onDestroy(): void {\r\n        if (this.rigidBody) {\r\n            if (this.fixture) {\r\n                if (this.fixture.GetBody() == this.rigidBody._getOriBody()) {\r\n                    this.rigidBody.body.DestroyFixture(this.fixture);\r\n                }\r\n                //fixture.Destroy();\r\n                this.fixture = null;\r\n            }\r\n            this.rigidBody = null;\r\n            this._shape = null;\r\n            this._def = null;\r\n        }\r\n    }\r\n\r\n    /**是否是传感器，传感器能够触发碰撞事件，但不会产生碰撞反应*/\r\n    get isSensor(): boolean {\r\n        return this._isSensor;\r\n    }\r\n\r\n    set isSensor(value: boolean) {\r\n        this._isSensor = value;\r\n        if (this._def) {\r\n            this._def.isSensor = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    /**密度值，值可以为零或者是正数，建议使用相似的密度，这样做可以改善堆叠稳定性，默认值为10*/\r\n    get density(): number {\r\n        return this._density;\r\n    }\r\n\r\n    set density(value: number) {\r\n        this._density = value;\r\n        if (this._def) {\r\n            this._def.density = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    /**摩擦力，取值范围0-1，值越大，摩擦越大，默认值为0.2*/\r\n    get friction(): number {\r\n        return this._friction;\r\n    }\r\n\r\n    set friction(value: number) {\r\n        this._friction = value;\r\n        if (this._def) {\r\n            this._def.friction = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    /**弹性系数，取值范围0-1，值越大，弹性越大，默认值为0*/\r\n    get restitution(): number {\r\n        return this._restitution;\r\n    }\r\n\r\n    set restitution(value: number) {\r\n        this._restitution = value;\r\n        if (this._def) {\r\n            this._def.restitution = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 碰撞体参数发生变化后，刷新物理世界碰撞信息\r\n     */\r\n    refresh(): void {\r\n        if (this.enabled && this.rigidBody) {\r\n            var body: any = this.rigidBody.body;\r\n            if (this.fixture) {\r\n                //trace(fixture);\r\n                if (this.fixture.GetBody() == this.rigidBody.body) {\r\n                    this.rigidBody.body.DestroyFixture(this.fixture);\r\n                }\r\n                this.fixture.Destroy();\r\n                this.fixture = null;\r\n            }\r\n            var def: any = this.getDef();\r\n            def.filter.groupIndex = this.rigidBody.group;\r\n            def.filter.categoryBits = this.rigidBody.category;\r\n            def.filter.maskBits = this.rigidBody.mask;\r\n            this.fixture = body.CreateFixture(def);\r\n            this.fixture.collider = this;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * 重置形状\r\n     */\r\n    resetShape(re: boolean = true): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取是否为单实例组件。\r\n     * @override\r\n     */\r\n    get isSingleton(): boolean {\r\n        return false;\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.ColliderBase\", ColliderBase);\r\nClassUtils.regClass(\"Laya.ColliderBase\", ColliderBase);\r\n","import { IPhysics } from \"./IPhysics\";\r\nimport { Laya } from \"../../Laya\";\r\nimport { ColliderBase } from \"./ColliderBase\";\r\nimport { Component } from \"../components/Component\"\r\nimport { Sprite } from \"..//display/Sprite\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { Utils } from \"../utils/Utils\"\r\nimport { ClassUtils } from \"../utils/ClassUtils\"\r\n\r\n/**\r\n * 2D刚体，显示对象通过RigidBody和物理世界进行绑定，保持物理和显示对象之间的位置同步\r\n * 物理世界的位置变化会自动同步到显示对象，显示对象本身的位移，旋转（父对象位移无效）也会自动同步到物理世界\r\n * 由于引擎限制，暂时不支持以下情形：\r\n * 1.不支持绑定节点缩放\r\n * 2.不支持绑定节点的父节点缩放和旋转\r\n * 3.不支持实时控制父对象位移，IDE内父对象位移是可以的\r\n * 如果想整体位移物理世界，可以Physics.I.worldRoot=场景，然后移动场景即可\r\n * 可以通过IDE-\"项目设置\" 开启物理辅助线显示，或者通过代码PhysicsDebugDraw.enable();\r\n */\r\nexport class RigidBody extends Component {\r\n    /**\r\n     * 刚体类型，支持三种类型static，dynamic和kinematic类型，默认为dynamic类型\r\n     * static为静态类型，静止不动，不受重力影响，质量无限大，可以通过节点移动，旋转，缩放进行控制\r\n     * dynamic为动态类型，受重力影响\r\n     * kinematic为运动类型，不受重力影响，可以通过施加速度或者力的方式使其运动\r\n     */\r\n    protected _type: string = \"dynamic\";\r\n    /**是否允许休眠，允许休眠能提高性能*/\r\n    protected _allowSleep: boolean = true;\r\n    /**角速度，设置会导致旋转*/\r\n    protected _angularVelocity: number = 0;\r\n    /**旋转速度阻尼系数，范围可以在0到无穷大之间，0表示没有阻尼，无穷大表示满阻尼，通常阻尼的值应该在0到0.1之间*/\r\n    protected _angularDamping: number = 0;\r\n    /**线性运动速度，比如{x:10,y:10}*/\r\n    protected _linearVelocity: any = { x: 0, y: 0 };\r\n    /**线性速度阻尼系数，范围可以在0到无穷大之间，0表示没有阻尼，无穷大表示满阻尼，通常阻尼的值应该在0到0.1之间*/\r\n    protected _linearDamping: number = 0;\r\n    /**是否高速移动的物体，设置为true，可以防止高速穿透*/\r\n    protected _bullet: boolean = false;\r\n    /**是否允许旋转，如果不希望刚体旋转，这设置为false*/\r\n    protected _allowRotation: boolean = true;\r\n    /**重力缩放系数，设置为0为没有重力*/\r\n    protected _gravityScale: number = 1;\r\n\r\n    /**[只读] 指定了该主体所属的碰撞组，默认为0，碰撞规则如下：\r\n     * 1.如果两个对象group相等\r\n     * \t\tgroup值大于零，它们将始终发生碰撞\r\n     * \t\tgroup值小于零，它们将永远不会发生碰撞\r\n     * \t\tgroup值等于0，则使用规则3\r\n     * 2.如果group值不相等，则使用规则3\r\n     * 3.每个刚体都有一个category类别，此属性接收位字段，范围为[1,2^31]范围内的2的幂\r\n     * 每个刚体也都有一个mask类别，指定与其碰撞的类别值之和（值是所有category按位AND的值）\r\n     */\r\n    group: number = 0;\r\n    /**[只读]碰撞类别，使用2的幂次方值指定，有32种不同的碰撞类别可用*/\r\n    category: number = 1;\r\n    /**[只读]指定冲突位掩码碰撞的类别，category位操作的结果*/\r\n    mask: number = -1;\r\n    /**[只读]自定义标签*/\r\n    label: string = \"RigidBody\";\r\n    /**[只读]原始刚体*/\r\n    protected _body: any;\r\n\r\n    private _createBody(): void {\r\n        if (this._body||!this.owner) return;\r\n        var sp: Sprite = (<Sprite>this.owner);\r\n        var box2d: any = (<any>window).box2d;\r\n        var def: any = new box2d.b2BodyDef();\r\n        var point: Point = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        def.position.Set(point.x / IPhysics.Physics.PIXEL_RATIO, point.y / IPhysics.Physics.PIXEL_RATIO);\r\n        def.angle = Utils.toRadian(sp.rotation);\r\n        def.allowSleep = this._allowSleep;\r\n        def.angularDamping = this._angularDamping;\r\n        def.angularVelocity = this._angularVelocity;\r\n        def.bullet = this._bullet;\r\n        def.fixedRotation = !this._allowRotation;\r\n        def.gravityScale = this._gravityScale;\r\n        def.linearDamping = this._linearDamping;\r\n        var obj: any = this._linearVelocity;\r\n        if (obj && obj.x != 0 || obj.y != 0) {\r\n            def.linearVelocity = new box2d.b2Vec2(obj.x, obj.y);\r\n        }\r\n        def.type = box2d.b2BodyType[\"b2_\" + this._type + \"Body\"];\r\n        //def.userData = label;\r\n\r\n        this._body = IPhysics.Physics.I._createBody(def);\r\n        //trace(body);\r\n\r\n        //查找碰撞体\r\n        this.resetCollider(false);\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    _onAwake(): void {\r\n        this._createBody();\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    _onEnable(): void {\r\n        var _$this = this;\r\n        this._createBody();\r\n        //实时同步物理到节点\r\n        Laya.physicsTimer.frameLoop(1, this, this._sysPhysicToNode);\r\n\r\n        //监听节点变化，同步到物理世界\r\n        var sp: any = <Sprite>this.owner;\r\n        //如果节点发生变化，则同步到物理世界（仅限节点本身，父节点发生变化不会自动同步）\r\n        if (this.accessGetSetFunc(sp, \"x\", \"set\") && !sp._changeByRigidBody) {\r\n            sp._changeByRigidBody = true;\r\n            function setX(value: any): void {\r\n                _$this.accessGetSetFunc(sp, \"x\", \"set\")(value);\r\n                _$this._sysPosToPhysic();\r\n            }\r\n            this._overSet(sp, \"x\", setX);\r\n\r\n            function setY(value: any): void {\r\n                _$this.accessGetSetFunc(sp, \"y\", \"set\")(value);\r\n                _$this._sysPosToPhysic();\r\n            };\r\n            this._overSet(sp, \"y\", setY);\r\n\r\n            function setRotation(value: any): void {\r\n                _$this.accessGetSetFunc(sp, \"rotation\", \"set\")(value);\r\n                _$this._sysNodeToPhysic();\r\n            };\r\n            this._overSet(sp, \"rotation\", setRotation);\r\n\r\n            function setScaleX(value: any): void {\r\n                _$this.accessGetSetFunc(sp, \"scaleX\", \"set\")(value);\r\n                _$this.resetCollider(true);\r\n            };\r\n            this._overSet(sp, \"scaleX\", setScaleX);\r\n\r\n            function setScaleY(value: any): void {\r\n                _$this.accessGetSetFunc(sp, \"scaleY\", \"set\")(value);\r\n                _$this.resetCollider(true);\r\n            };\r\n            this._overSet(sp, \"scaleY\", setScaleY);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取对象某属性的get set方法\r\n     * 通过其本身无法获取该方法，只能从原型上获取\r\n     * @param obj \r\n     * @param prop \r\n     * @param accessor \r\n     */\r\n    private accessGetSetFunc(obj: Object, prop: string, accessor: string): any {\r\n        if ([\"get\", \"set\"].indexOf(accessor) === -1) { // includes\r\n            return;\r\n        }\r\n        let privateProp = `_$${accessor}_${prop}`;\r\n        if (obj[privateProp]) {\r\n            return obj[privateProp];\r\n        }\r\n        let ObjConstructor = obj.constructor;\r\n        let des;\r\n        while (ObjConstructor) {\r\n            des = Object.getOwnPropertyDescriptor(ObjConstructor.prototype, prop);\r\n            if (des && des[accessor]) { // 构造函数(包括原型的构造函数)有该属性\r\n                obj[privateProp] = des[accessor].bind(obj);\r\n                break;\r\n            }\r\n            ObjConstructor = Object.getPrototypeOf(ObjConstructor);\r\n        }\r\n        return obj[privateProp];\r\n    }\r\n\r\n    /**\r\n     * 重置Collider\r\n     * @param\tresetShape 是否先重置形状，比如缩放导致碰撞体变化\r\n     */\r\n    private resetCollider(resetShape: boolean): void {\r\n        //查找碰撞体\r\n        var comps: any[] = this.owner.getComponents(ColliderBase);\r\n        if (comps) {\r\n            for (var i: number = 0, n: number = comps.length; i < n; i++) {\r\n                var collider: ColliderBase = comps[i];\r\n                collider.rigidBody = this;\r\n                if (resetShape) collider.resetShape();\r\n                else collider.refresh();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**@private 同步物理坐标到游戏坐标*/\r\n    private _sysPhysicToNode(): void {\r\n        if (this.type != \"static\" && this._body.IsAwake()) {\r\n            var pos: any = this._body.GetPosition();\r\n            var ang: any = this._body.GetAngle();\r\n            var sp: any = (<Sprite>this.owner);\r\n\r\n            //if (label == \"tank\") console.log(\"get\",ang);\r\n            this.accessGetSetFunc(sp, \"rotation\", \"set\")(Utils.toAngle(ang) - (<Sprite>sp.parent).globalRotation);\r\n\r\n            if (ang == 0) {\r\n                var point: Point = sp.parent.globalToLocal(Point.TEMP.setTo(pos.x * IPhysics.Physics.PIXEL_RATIO + sp.pivotX, pos.y * IPhysics.Physics.PIXEL_RATIO + sp.pivotY), false, IPhysics.Physics.I.worldRoot);\r\n                this.accessGetSetFunc(sp, \"x\", \"set\")(point.x);\r\n                this.accessGetSetFunc(sp, \"y\", \"set\")(point.y);\r\n            } else {\r\n                point = sp.globalToLocal(Point.TEMP.setTo(pos.x * IPhysics.Physics.PIXEL_RATIO, pos.y * IPhysics.Physics.PIXEL_RATIO), false, IPhysics.Physics.I.worldRoot);\r\n                point.x += sp.pivotX;\r\n                point.y += sp.pivotY;\r\n                point = sp.toParentPoint(point);\r\n                this.accessGetSetFunc(sp, \"x\", \"set\")(point.x);\r\n                this.accessGetSetFunc(sp, \"y\", \"set\")(point.y);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**@private 同步节点坐标及旋转到物理世界*/\r\n    private _sysNodeToPhysic(): void {\r\n        var sp: Sprite = <Sprite>this.owner;\r\n        this._body.SetAngle(Utils.toRadian(sp.rotation));\r\n        var p: Point = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        this._body.SetPositionXY(p.x / IPhysics.Physics.PIXEL_RATIO, p.y / IPhysics.Physics.PIXEL_RATIO);\r\n    }\r\n\r\n    /**@private 同步节点坐标到物理世界*/\r\n    private _sysPosToPhysic(): void {\r\n        var sp: Sprite = <Sprite>this.owner;\r\n        var p: Point = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        this._body.SetPositionXY(p.x / IPhysics.Physics.PIXEL_RATIO, p.y / IPhysics.Physics.PIXEL_RATIO);\r\n    }\r\n\r\n    /**@private */\r\n    private _overSet(sp: Sprite, prop: string, getfun: any): void {\r\n        Object.defineProperty(sp, prop, { get: this.accessGetSetFunc(sp, prop, \"get\"), set: getfun, enumerable: false, configurable: true });;\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    protected _onDisable(): void {\r\n        //添加到物理世界\r\n        Laya.physicsTimer.clear(this, this._sysPhysicToNode);\r\n        this._body && IPhysics.Physics.I._removeBody(this._body);\r\n        this._body = null;\r\n\r\n        var owner: any = this.owner;\r\n        if (owner._changeByRigidBody) {\r\n            this._overSet(owner, \"x\", this.accessGetSetFunc(owner, \"x\", \"set\"));\r\n            this._overSet(owner, \"y\", this.accessGetSetFunc(owner, \"y\", \"set\"));\r\n            this._overSet(owner, \"rotation\", this.accessGetSetFunc(owner, \"rotation\", \"set\"));\r\n            this._overSet(owner, \"scaleX\", this.accessGetSetFunc(owner, \"scaleX\", \"set\"));\r\n            this._overSet(owner, \"scaleY\", this.accessGetSetFunc(owner, \"scaleY\", \"set\"));\r\n            owner._changeByRigidBody = false;\r\n        }\r\n    }\r\n\r\n    /**获得原始body对象 */\r\n    getBody(): any {\r\n        if (!this._body) this._onAwake();\r\n        return this._body;\r\n    }\r\n\r\n    _getOriBody(): any {\r\n        return this._body;\r\n    }\r\n\r\n    /**[只读]获得原始body对象 */\r\n    get body(): any {\r\n        if (!this._body) this._onAwake();\r\n        return this._body;\r\n    }\r\n\r\n    /**\r\n     * 对刚体施加力\r\n     * @param\tposition 施加力的点，如{x:100,y:100}，全局坐标\r\n     * @param\tforce\t施加的力，如{x:0.1,y:0.1}\r\n     */\r\n    applyForce(position: any, force: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.ApplyForce(force, position);\r\n    }\r\n\r\n    /**\r\n     * 从中心点对刚体施加力，防止对象旋转\r\n     * @param\tforce\t施加的力，如{x:0.1,y:0.1}\r\n     */\r\n    applyForceToCenter(force: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.ApplyForceToCenter(force);\r\n    }\r\n\r\n    /**\r\n     * 施加速度冲量，添加的速度冲量会与刚体原有的速度叠加，产生新的速度\r\n     * @param\tposition 施加力的点，如{x:100,y:100}，全局坐标\r\n     * @param\timpulse\t施加的速度冲量，如{x:0.1,y:0.1}\r\n     */\r\n    applyLinearImpulse(position: any, impulse: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.ApplyLinearImpulse(impulse, position);\r\n    }\r\n\r\n    /**\r\n     * 施加速度冲量，添加的速度冲量会与刚体原有的速度叠加，产生新的速度\r\n     * @param\timpulse\t施加的速度冲量，如{x:0.1,y:0.1}\r\n     */\r\n    applyLinearImpulseToCenter(impulse: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.ApplyLinearImpulseToCenter(impulse);\r\n    }\r\n\r\n    /**\r\n     * 对刚体施加扭矩，使其旋转\r\n     * @param\ttorque\t施加的扭矩\r\n     */\r\n    applyTorque(torque: number): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.ApplyTorque(torque);\r\n    }\r\n\r\n    /**\r\n     * 设置速度，比如{x:10,y:10}\r\n     * @param\tvelocity\r\n     */\r\n    setVelocity(velocity: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.SetLinearVelocity(velocity);\r\n    }\r\n\r\n    /**\r\n     * 设置角度\r\n     * @param\tvalue 单位为弧度\r\n     */\r\n    setAngle(value: any): void {\r\n        if (!this._body) this._onAwake();\r\n        this._body.SetAngle(value);\r\n        this._body.SetAwake(true);\r\n    }\r\n\r\n    /**获得刚体质量*/\r\n    getMass(): number {\r\n        return this._body ? this._body.GetMass() : 0;\r\n    }\r\n\r\n    /**\r\n     * 获得质心的相对节点0,0点的位置偏移\r\n     */\r\n    getCenter(): any {\r\n        if (!this._body) this._onAwake();\r\n        var p: Point = this._body.GetLocalCenter();\r\n        p.x = p.x * IPhysics.Physics.PIXEL_RATIO;\r\n        p.y = p.y * IPhysics.Physics.PIXEL_RATIO;\r\n        return p;\r\n    }\r\n\r\n    /**\r\n     * 获得质心的世界坐标，相对于Physics.I.worldRoot节点\r\n     */\r\n    getWorldCenter(): any {\r\n        if (!this._body) this._onAwake();\r\n        var p: Point = this._body.GetWorldCenter();\r\n        p.x = p.x * IPhysics.Physics.PIXEL_RATIO;\r\n        p.y = p.y * IPhysics.Physics.PIXEL_RATIO;\r\n        return p;\r\n    }\r\n\r\n    /**\r\n     * 刚体类型，支持三种类型static，dynamic和kinematic类型\r\n     * static为静态类型，静止不动，不受重力影响，质量无限大，可以通过节点移动，旋转，缩放进行控制\r\n     * dynamic为动态类型，接受重力影响\r\n     * kinematic为运动类型，不受重力影响，可以通过施加速度或者力的方式使其运动\r\n     */\r\n    get type(): string {\r\n        return this._type;\r\n    }\r\n\r\n    set type(value: string) {\r\n        this._type = value;\r\n        if (this._body) this._body.SetType((<any>window).box2d.b2BodyType[\"b2_\" + this._type + \"Body\"]);\r\n    }\r\n\r\n    /**重力缩放系数，设置为0为没有重力*/\r\n    get gravityScale(): number {\r\n        return this._gravityScale;\r\n    }\r\n\r\n    set gravityScale(value: number) {\r\n        this._gravityScale = value;\r\n        if (this._body) this._body.SetGravityScale(value);\r\n    }\r\n\r\n    /**是否允许旋转，如果不希望刚体旋转，这设置为false*/\r\n    get allowRotation(): boolean {\r\n        return this._allowRotation;\r\n    }\r\n\r\n    set allowRotation(value: boolean) {\r\n        this._allowRotation = value;\r\n        if (this._body) this._body.SetFixedRotation(!value);\r\n    }\r\n\r\n    /**是否允许休眠，允许休眠能提高性能*/\r\n    get allowSleep(): boolean {\r\n        return this._allowSleep;\r\n    }\r\n\r\n    set allowSleep(value: boolean) {\r\n        this._allowSleep = value;\r\n        if (this._body) this._body.SetSleepingAllowed(value);\r\n    }\r\n\r\n    /**旋转速度阻尼系数，范围可以在0到无穷大之间，0表示没有阻尼，无穷大表示满阻尼，通常阻尼的值应该在0到0.1之间*/\r\n    get angularDamping(): number {\r\n        return this._angularDamping;\r\n    }\r\n\r\n    set angularDamping(value: number) {\r\n        this._angularDamping = value;\r\n        if (this._body) this._body.SetAngularDamping(value);\r\n    }\r\n\r\n    /**角速度，设置会导致旋转*/\r\n    get angularVelocity(): number {\r\n        if (this._body) return this._body.GetAngularVelocity();\r\n        return this._angularVelocity;\r\n    }\r\n\r\n    set angularVelocity(value: number) {\r\n        this._angularVelocity = value;\r\n        if (this._body) this._body.SetAngularVelocity(value);\r\n    }\r\n\r\n    /**线性速度阻尼系数，范围可以在0到无穷大之间，0表示没有阻尼，无穷大表示满阻尼，通常阻尼的值应该在0到0.1之间*/\r\n    get linearDamping(): number {\r\n        return this._linearDamping;\r\n    }\r\n\r\n    set linearDamping(value: number) {\r\n        this._linearDamping = value;\r\n        if (this._body) this._body.SetLinearDamping(value);\r\n    }\r\n\r\n    /**线性运动速度，比如{x:5,y:5}*/\r\n    get linearVelocity(): any {\r\n        if (this._body) {\r\n            var vec: any = this._body.GetLinearVelocity();\r\n            return { x: vec.x, y: vec.y };\r\n        }\r\n        return this._linearVelocity;\r\n    }\r\n\r\n    set linearVelocity(value: any) {\r\n        if (!value) return;\r\n        if (value instanceof Array) {\r\n            value = { x: value[0], y: value[1] };\r\n        }\r\n        this._linearVelocity = value;\r\n        if (this._body) this._body.SetLinearVelocity(new (<any>window).box2d.b2Vec2(value.x, value.y));\r\n    }\r\n\r\n    /**是否高速移动的物体，设置为true，可以防止高速穿透*/\r\n    get bullet(): boolean {\r\n        return this._bullet;\r\n    }\r\n\r\n    set bullet(value: boolean) {\r\n        this._bullet = value;\r\n        if (this._body) this._body.SetBullet(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.RigidBody\", RigidBody);\r\nClassUtils.regClass(\"Laya.RigidBody\", RigidBody);","\r\n/** \r\n * JS实现Box2D SayGoodbyeParticle\r\n * 相关类型对象被隐性移除时触发对应的SayGoodBye方法\r\n */\r\n    export class DestructionListener {\r\n        /**\r\n         * Joint被隐性移除时触发\r\n         * @param params box2d的Joint相关对象\r\n         */\r\n        public SayGoodbyeJoint(params:any):void{\r\n            params.m_userData&&(params.m_userData.isDestroy = true);\r\n        }\r\n        /**\r\n         * Fixtures被隐性移除时触发\r\n         * @param params box2d的Fixtures相关对象\r\n         */\r\n        public SayGoodbyeFixture(params:any):void{\r\n\r\n        }\r\n        /**\r\n         * ParticleGroup被隐性移除时触发\r\n         * @param params box2d的ParticleGroup相关对象\r\n         */\r\n        public SayGoodbyeParticleGroup(params:any):void{\r\n\r\n        }\r\n        /**\r\n         * Particle被隐性移除时触发\r\n         * @param params box2d的Particle相关对象\r\n         */\r\n        public SayGoodbyeParticle(params:any):void{\r\n\r\n        }\r\n    }","import { BoxCollider } from \"./BoxCollider\";\r\nimport { ChainCollider } from \"./ChainCollider\";\r\nimport { CircleCollider } from \"./CircleCollider\";\r\nimport { PolygonCollider } from \"./PolygonCollider\";\r\nimport { RigidBody } from \"./RigidBody\";\r\nimport { PhysicsDebugDraw } from \"./PhysicsDebugDraw\";\r\nimport { Laya } from \"../../Laya\";\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Event } from \"../events/Event\"\r\nimport { EventDispatcher } from \"../events/EventDispatcher\"\r\nimport { Point } from \"../maths/Point\"\r\nimport { DistanceJoint } from \"./joint/DistanceJoint\"\r\nimport { GearJoint } from \"./joint/GearJoint\"\r\nimport { MotorJoint } from \"./joint/MotorJoint\"\r\nimport { MouseJoint } from \"./joint/MouseJoint\"\r\nimport { PrismaticJoint } from \"./joint/PrismaticJoint\"\r\nimport { PulleyJoint } from \"./joint/PulleyJoint\"\r\nimport { RevoluteJoint } from \"./joint/RevoluteJoint\"\r\nimport { RopeJoint } from \"./joint/RopeJoint\"\r\nimport { WeldJoint } from \"./joint/WeldJoint\"\r\nimport { WheelJoint } from \"./joint/WheelJoint\"\r\nimport { ClassUtils } from \"../utils/ClassUtils\"\r\nimport { IPhysics } from \"./IPhysics\";\r\nimport { DestructionListener } from \"./DestructionListener\";\r\n/**\r\n * 2D物理引擎，使用Box2d驱动\r\n */\r\nexport class Physics extends EventDispatcher {\r\n    /**2D游戏默认单位为像素，物理默认单位为米，此值设置了像素和米的转换比率，默认50像素=1米*/\r\n    static PIXEL_RATIO: number = 50;\r\n    /**@private */\r\n    private static _I: Physics;\r\n\r\n    /**Box2d引擎的全局引用，更多属性和api请参考 http://box2d.org */\r\n    box2d: any = (<any>window).box2d;\r\n    /**[只读]物理世界引用，更多属性请参考官网 */\r\n    world: any;\r\n    /**旋转迭代次数，增大数字会提高精度，但是会降低性能*/\r\n    velocityIterations: number = 8;\r\n    /**位置迭代次数，增大数字会提高精度，但是会降低性能*/\r\n    positionIterations: number = 3;\r\n\r\n    /**@private 是否已经激活*/\r\n    private _enabled: boolean;\r\n    /**@private 根容器*/\r\n    private _worldRoot: Sprite;\r\n    /**@private 空的body节点，给一些不需要节点的关节使用*/\r\n    _emptyBody: any;\r\n    /**@private */\r\n    _eventList: any[] = [];\r\n\r\n    /**全局物理单例*/\r\n    static get I(): Physics {\r\n        return Physics._I || (Physics._I = new Physics());\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 开启物理世界\r\n     * options值参考如下：\r\n       allowSleeping:true,\r\n       gravity:10,\r\n       customUpdate:false 自己控制物理更新时机，自己调用Physics.update\r\n     */\r\n    static enable(options: any = null): void {\r\n        Physics.I.start(options);\r\n        IPhysics.RigidBody = RigidBody;\r\n        IPhysics.Physics = this;\r\n    }\r\n\r\n    /**\r\n     * 开启物理世界\r\n     * options值参考如下：\r\n       allowSleeping:true,\r\n       gravity:10,\r\n       customUpdate:false 自己控制物理更新时机，自己调用Physics.update\r\n     */\r\n    start(options: any = null): void {\r\n        if (!this._enabled) {\r\n            this._enabled = true;\r\n\r\n            options || (options = {});\r\n            var box2d: any = (<any>window).box2d;\r\n            if (box2d == null) {\r\n                console.error(\"Can not find box2d libs, you should request box2d.js first.\");\r\n                return;\r\n            }\r\n\r\n            var gravity: any = new box2d.b2Vec2(0, options.gravity || 500 / Physics.PIXEL_RATIO);\r\n            this.world = new box2d.b2World(gravity);\r\n            this.world.SetDestructionListener(new DestructionListener());\r\n            this.world.SetContactListener(new ContactListener());\r\n            this.allowSleeping = options.allowSleeping == null ? true : options.allowSleeping;\r\n            if (!options.customUpdate) Laya.physicsTimer.frameLoop(1, this, this._update);\r\n            this._emptyBody = this._createBody(new (<any>window).box2d.b2BodyDef());\r\n        }\r\n    }\r\n\r\n    private _update(): void {\r\n        this.world.Step(1 / 60, this.velocityIterations, this.positionIterations, 3);\r\n        var len: number = this._eventList.length;\r\n        if (len > 0) {\r\n            for (var i: number = 0; i < len; i += 2) {\r\n                this._sendEvent(this._eventList[i], this._eventList[i + 1]);\r\n            }\r\n            this._eventList.length = 0;\r\n        }\r\n    }\r\n\r\n    private _sendEvent(type: number, contact: any): void {\r\n        var colliderA: any = contact.GetFixtureA().collider;\r\n        var colliderB: any = contact.GetFixtureB().collider;\r\n        var ownerA: any = colliderA.owner;\r\n        var ownerB: any = colliderB.owner;\r\n        contact.getHitInfo = function (): any {\r\n            var manifold: any = new this.box2d.b2WorldManifold();\r\n            this.GetWorldManifold(manifold);\r\n            //第一点？\r\n            var p: any = manifold.points[0];\r\n            p.x *= Physics.PIXEL_RATIO;\r\n            p.y *= Physics.PIXEL_RATIO;\r\n            return manifold;\r\n        }\r\n        if (ownerA) {\r\n            var args: any[] = [colliderB, colliderA, contact];\r\n            if (type === 0) {\r\n                ownerA.event(Event.TRIGGER_ENTER, args);\r\n                if (!ownerA[\"_triggered\"]) {\r\n                    ownerA[\"_triggered\"] = true;\r\n                } else {\r\n                    ownerA.event(Event.TRIGGER_STAY, args);\r\n                }\r\n            } else {\r\n                ownerA[\"_triggered\"] = false;\r\n                ownerA.event(Event.TRIGGER_EXIT, args);\r\n            }\r\n        }\r\n        if (ownerB) {\r\n            args = [colliderA, colliderB, contact];\r\n            if (type === 0) {\r\n                ownerB.event(Event.TRIGGER_ENTER, args);\r\n                if (!ownerB[\"_triggered\"]) {\r\n                    ownerB[\"_triggered\"] = true;\r\n                } else {\r\n                    ownerB.event(Event.TRIGGER_STAY, args);\r\n                }\r\n            } else {\r\n                ownerB[\"_triggered\"] = false;\r\n                ownerB.event(Event.TRIGGER_EXIT, args);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    _createBody(def: any): any {\r\n        if (this.world) {\r\n            return this.world.CreateBody(def);\r\n        } else {\r\n            console.error('The physical engine should be initialized first.use \"Physics.enable()\"');\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    _removeBody(body: any): void {\r\n        if (this.world) {\r\n            this.world.DestroyBody(body);\r\n        } else {\r\n            console.error('The physical engine should be initialized first.use \"Physics.enable()\"');\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    _createJoint(def: any): any {\r\n        if (this.world) {\r\n            let joint = this.world.CreateJoint(def);\r\n            joint.m_userData = {};\r\n            joint.m_userData.isDestroy = false;\r\n            return joint;\r\n        } else {\r\n            console.error('The physical engine should be initialized first.use \"Physics.enable()\"');\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    _removeJoint(joint: any): void {\r\n        if (this.world) {\r\n            this.world.DestroyJoint(joint);\r\n        } else {\r\n            console.error('The physical engine should be initialized first.use \"Physics.enable()\"');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 停止物理世界\r\n     */\r\n    stop(): void {\r\n        Laya.physicsTimer.clear(this, this._update);\r\n    }\r\n\r\n    /**\r\n     * 设置是否允许休眠，休眠可以提高稳定性和性能，但通常会牺牲准确性\r\n     */\r\n    get allowSleeping(): boolean {\r\n        return this.world.GetAllowSleeping();\r\n    }\r\n\r\n    set allowSleeping(value: boolean) {\r\n        this.world.SetAllowSleeping(value);\r\n    }\r\n\r\n    /**\r\n     * 物理世界重力环境，默认值为{x:0,y:1}\r\n     * 如果修改y方向重力方向向上，可以直接设置gravity.y=-1;\r\n     */\r\n    get gravity(): any {\r\n        return this.world.GetGravity();\r\n    }\r\n\r\n    set gravity(value: any) {\r\n        this.world.SetGravity(value);\r\n    }\r\n\r\n    /**获得刚体总数量*/\r\n    getBodyCount(): number {\r\n        return this.world.GetBodyCount();\r\n    }\r\n\r\n    /**获得碰撞总数量*/\r\n    getContactCount(): number {\r\n        return this.world.GetContactCount();\r\n    }\r\n\r\n    /**获得关节总数量*/\r\n    getJointCount(): number {\r\n        return this.world.GetJointCount();\r\n    }\r\n\r\n    /**物理世界根容器，将根据此容器作为物理世界坐标世界，进行坐标变换，默认值为stage\r\n     * 设置特定容器后，就可整体位移物理对象，保持物理世界不变*/\r\n    get worldRoot(): Sprite {\r\n        return this._worldRoot || Laya.stage;\r\n    }\r\n\r\n    set worldRoot(value: Sprite) {\r\n        this._worldRoot = value;\r\n        if (value) {\r\n            //TODO：\r\n            var p: Point = value.localToGlobal(Point.TEMP.setTo(0, 0));\r\n            this.world.ShiftOrigin({ x: p.x / Physics.PIXEL_RATIO, y: p.y / Physics.PIXEL_RATIO });\r\n        }\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.Physics\", Physics);\r\nClassUtils.regClass(\"Laya.Physics\", Physics);\r\n\r\n// import { Physics } from \"./Physics\"\r\n\r\n/**@private */\r\nclass ContactListener {\r\n    BeginContact(contact: any): void {\r\n        Physics.I._eventList.push(0, contact);\r\n        //console.log(\"BeginContact\", contact);\t\r\n    }\r\n\r\n    EndContact(contact: any): void {\r\n        Physics.I._eventList.push(1, contact);\r\n        //console.log(\"EndContact\", contact);\r\n    }\r\n\r\n    PreSolve(contact: any, oldManifold: any): void {\r\n        //console.log(\"PreSolve\", contact);\r\n    }\r\n\r\n    PostSolve(contact: any, impulse: any): void {\r\n        //console.log(\"PostSolve\", contact);\r\n    }\r\n}\r\n","import { ColliderBase } from \"./ColliderBase\";\r\nimport { Physics } from \"./Physics\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 2D矩形碰撞体\r\n\t */\r\nexport class BoxCollider extends ColliderBase {\r\n    /**相对节点的x轴偏移*/\r\n    private _x: number = 0;\r\n    /**相对节点的y轴偏移*/\r\n    private _y: number = 0;\r\n    /**矩形宽度*/\r\n    private _width: number = 100;\r\n    /**矩形高度*/\r\n    private _height: number = 100;\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    protected getDef(): any {\r\n        if (!this._shape) {\r\n            this._shape = new (<any>window).box2d.b2PolygonShape();\r\n            this._setShape(false);\r\n        }\r\n        this.label = (this.label || \"BoxCollider\");\r\n        return super.getDef();\r\n    }\r\n\r\n    private _setShape(re: boolean = true): void {\r\n        var scaleX: number = (this.owner[\"scaleX\"] || 1);\r\n        var scaleY: number = (this.owner[\"scaleY\"] || 1);\r\n        this._shape.SetAsBox(this._width / 2 / Physics.PIXEL_RATIO * scaleX, this._height / 2 / Physics.PIXEL_RATIO * scaleY, new (<any>window).box2d.b2Vec2((this._width / 2 + this._x) / Physics.PIXEL_RATIO * scaleX, (this._height / 2 + this._y) / Physics.PIXEL_RATIO * scaleY));\r\n        if (re) this.refresh();\r\n    }\r\n\r\n    /**相对节点的x轴偏移*/\r\n    get x(): number {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value: number) {\r\n        this._x = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**相对节点的y轴偏移*/\r\n    get y(): number {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value: number) {\r\n        this._y = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**矩形宽度*/\r\n    get width(): number {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value: number) {\r\n        if (value <= 0) throw \"BoxCollider size cannot be less than 0\";\r\n        this._width = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**矩形高度*/\r\n    get height(): number {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value: number) {\r\n        if (value <= 0) throw \"BoxCollider size cannot be less than 0\";\r\n        this._height = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**@private 重置形状\r\n     * @override\r\n    */\r\n    resetShape(re: boolean = true): void {\r\n        this._setShape();\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.BoxCollider\", BoxCollider);\r\nClassUtils.regClass(\"Laya.BoxCollider\", BoxCollider);\r\n","import { ColliderBase } from \"./ColliderBase\";\r\nimport { Physics } from \"./Physics\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 2D线形碰撞体\r\n\t */\r\nexport class ChainCollider extends ColliderBase {\r\n    /**相对节点的x轴偏移*/\r\n    private _x: number = 0;\r\n    /**相对节点的y轴偏移*/\r\n    private _y: number = 0;\r\n    /**用逗号隔开的点的集合，格式：x,y,x,y ...*/\r\n    private _points: string = \"0,0,100,0\";\r\n    /**是否是闭环，注意不要有自相交的链接形状，它可能不能正常工作*/\r\n    private _loop: boolean = false;\r\n    /**\r\n     * @override\r\n     */\r\n    protected getDef(): any {\r\n        if (!this._shape) {\r\n            this._shape = new (<any>window).box2d.b2ChainShape();\r\n            this._setShape(false);\r\n        }\r\n        this.label = (this.label || \"ChainCollider\");\r\n        return super.getDef();\r\n    }\r\n\r\n    private _setShape(re: boolean = true): void {\r\n        var arr: any[] = this._points.split(\",\");\r\n        var len: number = arr.length;\r\n        if (len % 2 == 1) throw \"ChainCollider points lenth must a multiplier of 2\";\r\n\r\n        var ps: any[] = [];\r\n        for (var i: number = 0, n: number = len; i < n; i += 2) {\r\n            ps.push(new (<any>window).box2d.b2Vec2((this._x + parseInt(arr[i])) / Physics.PIXEL_RATIO, (this._y + parseInt(arr[i + 1])) / Physics.PIXEL_RATIO));\r\n        }\r\n        this._loop ? this._shape.CreateLoop(ps, len / 2) : this._shape.CreateChain(ps, len / 2);\r\n\r\n        if (re) this.refresh();\r\n    }\r\n\r\n    /**相对节点的x轴偏移*/\r\n    get x(): number {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value: number) {\r\n        this._x = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**相对节点的y轴偏移*/\r\n    get y(): number {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value: number) {\r\n        this._y = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**用逗号隔开的点的集合，格式：x,y,x,y ...*/\r\n    get points(): string {\r\n        return this._points;\r\n    }\r\n\r\n    set points(value: string) {\r\n        if (!value) throw \"ChainCollider points cannot be empty\";\r\n        this._points = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**是否是闭环，注意不要有自相交的链接形状，它可能不能正常工作*/\r\n    get loop(): boolean {\r\n        return this._loop;\r\n    }\r\n\r\n    set loop(value: boolean) {\r\n        this._loop = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.ChainCollider\", ChainCollider);\r\nClassUtils.regClass(\"Laya.ChainCollider\", ChainCollider);","import { ColliderBase } from \"./ColliderBase\";\r\nimport { Physics } from \"./Physics\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 2D圆形碰撞体\r\n\t */\r\nexport class CircleCollider extends ColliderBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**相对节点的x轴偏移*/\r\n    private _x: number = 0;\r\n    /**相对节点的y轴偏移*/\r\n    private _y: number = 0;\r\n    /**圆形半径，必须为正数*/\r\n    private _radius: number = 50;\r\n    /**\r\n     * @override\r\n     */\r\n    protected getDef(): any {\r\n        if (!this._shape) {\r\n            this._shape = new (<any>window).box2d.b2CircleShape();\r\n            this._setShape(false);\r\n        }\r\n        this.label = (this.label || \"CircleCollider\");\r\n        return super.getDef();\r\n    }\r\n\r\n    private _setShape(re: boolean = true): void {\r\n        var scale: number = this.owner[\"scaleX\"] || 1;\r\n        this._shape.m_radius = this._radius / Physics.PIXEL_RATIO * scale;\r\n        this._shape.m_p.Set((this._radius + this._x) / Physics.PIXEL_RATIO * scale, (this._radius + this._y) / Physics.PIXEL_RATIO * scale);\r\n        if (re) this.refresh();\r\n    }\r\n\r\n    /**相对节点的x轴偏移*/\r\n    get x(): number {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value: number) {\r\n        this._x = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**相对节点的y轴偏移*/\r\n    get y(): number {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value: number) {\r\n        this._y = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**圆形半径，必须为正数*/\r\n    get radius(): number {\r\n        return this._radius;\r\n    }\r\n\r\n    set radius(value: number) {\r\n        if (value <= 0) throw \"CircleCollider radius cannot be less than 0\";\r\n        this._radius = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**@private 重置形状\r\n     * @override\r\n    */\r\n    resetShape(re: boolean = true): void {\r\n        this._setShape();\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.CircleCollider\", CircleCollider);\r\nClassUtils.regClass(\"Laya.CircleCollider\", CircleCollider);","import { Laya } from \"../../Laya\";\r\nimport { Graphics } from \"../display/Graphics\"\r\nimport { Sprite } from \"../display/Sprite\"\r\nimport { Context } from \"../resource/Context\"\r\nimport { Browser } from \"../utils/Browser\"\r\nimport { Physics } from \"./Physics\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n\r\n/**\r\n * 物理辅助线，调用PhysicsDebugDraw.enable()开启，或者通过IDE设置打开\r\n */\r\nexport class PhysicsDebugDraw extends Sprite {\r\n    /**@private */\r\n    m_drawFlags: number = 99;\r\n    /**@private */\r\n    static box2d: any;\r\n    /**@private */\r\n    static DrawString_s_color: any;\r\n    /**@private */\r\n    static DrawStringWorld_s_p: any;\r\n    /**@private */\r\n    static DrawStringWorld_s_cc: any;\r\n    /**@private */\r\n    static DrawStringWorld_s_color: any;\r\n    /**@private */\r\n    world: any;\r\n    /**@private */\r\n    private _camera: any;\r\n    /**@private */\r\n    private static _canvas: any;\r\n    /**@private */\r\n    private static _inited: boolean = false;\r\n    /**@private */\r\n    private _mG: Graphics;\r\n    /**@private */\r\n    private _textSp: Sprite;\r\n    /**@private */\r\n    private _textG: Graphics;\r\n\r\n    /**@private */\r\n    static init(): void {\r\n        PhysicsDebugDraw.box2d = Browser.window.box2d;\r\n        PhysicsDebugDraw.DrawString_s_color = new PhysicsDebugDraw.box2d.b2Color(0.9, 0.6, 0.6);\r\n        PhysicsDebugDraw.DrawStringWorld_s_p = new PhysicsDebugDraw.box2d.b2Vec2();\r\n        PhysicsDebugDraw.DrawStringWorld_s_cc = new PhysicsDebugDraw.box2d.b2Vec2();\r\n        PhysicsDebugDraw.DrawStringWorld_s_color = new PhysicsDebugDraw.box2d.b2Color(0.5, 0.9, 0.5);\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        if (!PhysicsDebugDraw._inited) {\r\n            PhysicsDebugDraw._inited = true;\r\n            PhysicsDebugDraw.init();\r\n        }\r\n        this._camera = {};\r\n        this._camera.m_center = new PhysicsDebugDraw.box2d.b2Vec2(0, 0);\r\n        this._camera.m_extent = 25;\r\n        this._camera.m_zoom = 1;\r\n        this._camera.m_width = 1280;\r\n        this._camera.m_height = 800;\r\n\r\n        this._mG = new Graphics();\r\n        this.graphics = this._mG;\r\n\r\n        this._textSp = new Sprite();\r\n        this._textG = this._textSp.graphics;\r\n        this.addChild(this._textSp);\r\n    }\r\n\r\n    /**@private \r\n     * @override\r\n    */\r\n    render(ctx: Context, x: number, y: number): void {\r\n        this._renderToGraphic();\r\n        super.render(ctx, x, y);\r\n    }\r\n\r\n    /**@private */\r\n    private lineWidth: number;\r\n\r\n    /**@private */\r\n    private _renderToGraphic(): void {\r\n        if (this.world) {\r\n            this._textG.clear();\r\n            this._mG.clear();\r\n            this._mG.save();\r\n            this._mG.scale(Physics.PIXEL_RATIO, Physics.PIXEL_RATIO);\r\n            this.lineWidth = 1 / Physics.PIXEL_RATIO;\r\n            this.world.DrawDebugData();\r\n            this._mG.restore();\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    SetFlags(flags: number): void {\r\n        this.m_drawFlags = flags;\r\n    }\r\n\r\n    /**@private */\r\n    GetFlags(): number {\r\n        return this.m_drawFlags;\r\n    }\r\n\r\n    /**@private */\r\n    AppendFlags(flags: number): void {\r\n        this.m_drawFlags |= flags;\r\n    }\r\n\r\n    /**@private */\r\n    ClearFlags(flags: any): void {\r\n        this.m_drawFlags &= ~flags;\r\n    }\r\n\r\n    /**@private */\r\n    PushTransform(xf: any): void {\r\n        this._mG.save();\r\n        this._mG.translate(xf.p.x, xf.p.y);\r\n        this._mG.rotate(xf.q.GetAngle());\r\n    }\r\n\r\n    /**@private */\r\n    PopTransform(xf: any): void {\r\n        this._mG.restore();\r\n    }\r\n\r\n    /**@private */\r\n    DrawPolygon(vertices: any, vertexCount: any, color: any): void {\r\n        var i: number, len: number;\r\n        len = vertices.length;\r\n        var points: any[];\r\n        points = [];\r\n        for (i = 0; i < vertexCount; i++) {\r\n            points.push(vertices[i].x, vertices[i].y);\r\n        }\r\n        this._mG.drawPoly(0, 0, points, null, color.MakeStyleString(1), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    DrawSolidPolygon(vertices: any, vertexCount: any, color: any): void {\r\n        var i: number, len: number;\r\n        len = vertices.length;\r\n        var points: any[];\r\n        points = [];\r\n        for (i = 0; i < vertexCount; i++) {\r\n            points.push(vertices[i].x, vertices[i].y);\r\n        }\r\n        this._mG.drawPoly(0, 0, points, color.MakeStyleString(0.5), color.MakeStyleString(1), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    DrawCircle(center: any, radius: any, color: any): void {\r\n        this._mG.drawCircle(center.x, center.y, radius, null, color.MakeStyleString(1), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    DrawSolidCircle(center: any, radius: any, axis: any, color: any): void {\r\n        var cx: any = center.x;\r\n        var cy: any = center.y;\r\n        this._mG.drawCircle(cx, cy, radius, color.MakeStyleString(0.5), color.MakeStyleString(1), this.lineWidth);\r\n        this._mG.drawLine(cx, cy, (cx + axis.x * radius), (cy + axis.y * radius), color.MakeStyleString(1), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    DrawParticles(centers: any, radius: any, colors: any, count: any): void {\r\n        if (colors !== null) {\r\n            for (var i: number = 0; i < count; ++i) {\r\n                var center: any = centers[i];\r\n                var color: any = colors[i];\r\n                this._mG.drawCircle(center.x, center.y, radius, color.MakeStyleString(), null, this.lineWidth);\r\n            }\r\n        } else {\r\n\r\n            for (i = 0; i < count; ++i) {\r\n                center = centers[i];\r\n                this._mG.drawCircle(center.x, center.y, radius, \"#ffff00\", null, this.lineWidth);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**@private */\r\n    DrawSegment(p1: any, p2: any, color: any): void {\r\n        this._mG.drawLine(p1.x, p1.y, p2.x, p2.y, color.MakeStyleString(1), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    DrawTransform(xf: any): void {\r\n        this.PushTransform(xf);\r\n        this._mG.drawLine(0, 0, 1, 0, PhysicsDebugDraw.box2d.b2Color.RED.MakeStyleString(1), this.lineWidth);\r\n        this._mG.drawLine(0, 0, 0, 1, PhysicsDebugDraw.box2d.b2Color.GREEN.MakeStyleString(1), this.lineWidth);\r\n        this.PopTransform(xf);\r\n    }\r\n\r\n    /**@private */\r\n    DrawPoint(p: any, size: any, color: any): void {\r\n        size *= this._camera.m_zoom;\r\n        size /= this._camera.m_extent;\r\n        var hsize: any = size / 2;\r\n\r\n        this._mG.drawRect(p.x - hsize, p.y - hsize, size, size, color.MakeStyleString(), null);\r\n    }\r\n\r\n    /**@private */\r\n    DrawString(x: any, y: any, message: any): void {\r\n        this._textG.fillText(message, x, y, \"15px DroidSans\", PhysicsDebugDraw.DrawString_s_color.MakeStyleString(), \"left\");\r\n    }\r\n\r\n    /**@private */\r\n    DrawStringWorld(x: any, y: any, message: any): void {\r\n        this.DrawString(x, y, message);\r\n    }\r\n\r\n    /**@private */\r\n    DrawAABB(aabb: any, color: any): void {\r\n        var x: number = aabb.lowerBound.x;\r\n        var y: number = aabb.lowerBound.y;\r\n        var w: number = aabb.upperBound.x - aabb.lowerBound.x;\r\n        var h: number = aabb.upperBound.y - aabb.lowerBound.y;\r\n\r\n        this._mG.drawRect(x, y, w, h, null, color.MakeStyleString(), this.lineWidth);\r\n    }\r\n\r\n    /**@private */\r\n    static I: PhysicsDebugDraw;\r\n\r\n    /**\r\n     * 激活物理辅助线\r\n     * @param\tflags 位标记值，其值是AND的结果，其值有-1:显示形状，2:显示关节，4:显示AABB包围盒,8:显示broad-phase pairs,16:显示质心\r\n     * @return\t返回一个Sprite对象，本对象用来显示物理辅助线\r\n     */\r\n    static enable(flags: number = 99): PhysicsDebugDraw {\r\n        if (!PhysicsDebugDraw.I) {\r\n            var debug: PhysicsDebugDraw = new PhysicsDebugDraw();\r\n            debug.world = Physics.I.world;\r\n            debug.world.SetDebugDraw(debug);\r\n            debug.zOrder = 1000;\r\n            debug.m_drawFlags = flags;\r\n            Laya.stage.addChild(debug);\r\n            PhysicsDebugDraw.I = debug;\r\n\r\n        }\r\n        return debug;\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.PhysicsDebugDraw\", PhysicsDebugDraw);\r\nClassUtils.regClass(\"Laya.PhysicsDebugDraw\", PhysicsDebugDraw);\r\n","import { ColliderBase } from \"./ColliderBase\";\r\nimport { Physics } from \"./Physics\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\n/**\r\n\t * 2D多边形碰撞体，暂时不支持凹多边形，如果是凹多边形，先手动拆分为多个凸多边形\r\n\t * 节点个数最多是b2_maxPolygonVertices，这数值默认是8，所以点的数量不建议超过8个，也不能小于3个\r\n\t */\r\nexport class PolygonCollider extends ColliderBase {\r\n    /**相对节点的x轴偏移*/\r\n    private _x: number = 0;\r\n    /**相对节点的y轴偏移*/\r\n    private _y: number = 0;\r\n    /**用逗号隔开的点的集合，格式：x,y,x,y ...*/\r\n    private _points: string = \"50,0,100,100,0,100\";\r\n    /**\r\n     * @override\r\n     */\r\n    protected getDef(): any {\r\n        if (!this._shape) {\r\n            this._shape = new (<any>window).box2d.b2PolygonShape();\r\n            this._setShape(false);\r\n        }\r\n        this.label = (this.label || \"PolygonCollider\");\r\n        return super.getDef();\r\n    }\r\n\r\n    private _setShape(re: boolean = true): void {\r\n        var arr: any[] = this._points.split(\",\");\r\n        var len: number = arr.length;\r\n        if (len < 6) throw \"PolygonCollider points must be greater than 3\";\r\n        if (len % 2 == 1) throw \"PolygonCollider points lenth must a multiplier of 2\";\r\n\r\n        var ps: any[] = [];\r\n        for (var i: number = 0, n: number = len; i < n; i += 2) {\r\n            ps.push(new (<any>window).box2d.b2Vec2((this._x + parseInt(arr[i])) / Physics.PIXEL_RATIO, (this._y + parseInt(arr[i + 1])) / Physics.PIXEL_RATIO));\r\n        }\r\n\r\n        this._shape.Set(ps, len / 2);\r\n        if (re) this.refresh();\r\n    }\r\n\r\n    /**相对节点的x轴偏移*/\r\n    get x(): number {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value: number) {\r\n        this._x = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**相对节点的y轴偏移*/\r\n    get y(): number {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value: number) {\r\n        this._y = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n\r\n    /**用逗号隔开的点的集合，格式：x,y,x,y ...*/\r\n    get points(): string {\r\n        return this._points;\r\n    }\r\n\r\n    set points(value: string) {\r\n        if (!value) throw \"PolygonCollider points cannot be empty\";\r\n        this._points = value;\r\n        if (this._shape) this._setShape();\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.PolygonCollider\", PolygonCollider);\r\nClassUtils.regClass(\"Laya.PolygonCollider\", PolygonCollider);","import { Component } from \"../../components/Component\"\r\nimport { Physics } from \"../Physics\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\nimport { RigidBody } from \"../RigidBody\";\r\n\r\n/**\r\n * 关节基类\r\n */\r\nexport class JointBase extends Component {\r\n    /**原生关节对象*/\r\n    protected _joint: any;\r\n\r\n    /**[只读]原生关节对象*/\r\n    get joint(): any {\r\n        if (!this._joint) this._createJoint();\r\n        return this._joint;\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    _onEnable(): void {\r\n        this._createJoint();\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    _onAwake(): void {\r\n        this._createJoint();\r\n    }\r\n\r\n    protected _createJoint(): void {\r\n    }\r\n    /**\r\n     * @internal\r\n     * @override\r\n     */\r\n    protected _onDisable(): void {\r\n        if (this._joint&&this._joint.m_userData&&!this._joint.m_userData.isDestroy) {\r\n            Physics.I._removeJoint(this._joint);\r\n        }\r\n        this._joint = null;\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.JointBase\", JointBase);\r\nClassUtils.regClass(\"Laya.JointBase\", JointBase);\r\n","import { JointBase } from \"./JointBase\";\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 距离关节：两个物体上面各自有一点，两点之间的距离固定不变\r\n */\r\nexport class DistanceJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体，可不设置，默认为左上角空刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]自身刚体链接点，是相对于自身刚体的左上角位置偏移*/\r\n    selfAnchor: any[] = [0, 0];\r\n    /**[首次设置有效]链接刚体链接点，是相对于otherBody的左上角位置偏移*/\r\n    otherAnchor: any[] = [0, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**约束的目标静止长度*/\r\n    private _length: number = 0;\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    private _frequency: number = 0;\r\n    /**刚体在回归到节点过程中受到的阻尼，建议取值0~1*/\r\n    private _damping: number = 0;\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = DistanceJoint._temp || (DistanceJoint._temp = new box2d.b2DistanceJointDef());\r\n            def.bodyA = this.otherBody ? this.otherBody.getBody() : Physics.I._emptyBody;\r\n            def.bodyB = this.selfBody.getBody();\r\n            def.localAnchorA.Set(this.otherAnchor[0] / Physics.PIXEL_RATIO, this.otherAnchor[1] / Physics.PIXEL_RATIO);\r\n            def.localAnchorB.Set(this.selfAnchor[0] / Physics.PIXEL_RATIO, this.selfAnchor[1] / Physics.PIXEL_RATIO);\r\n            def.frequencyHz = this._frequency;\r\n            def.dampingRatio = this._damping;\r\n            def.collideConnected = this.collideConnected;\r\n            var p1: any = def.bodyA.GetWorldPoint(def.localAnchorA, new box2d.b2Vec2());\r\n            var p2: any = def.bodyB.GetWorldPoint(def.localAnchorB, new box2d.b2Vec2());\r\n            def.length = this._length / Physics.PIXEL_RATIO || box2d.b2Vec2.SubVV(p2, p1, new box2d.b2Vec2()).Length();\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**约束的目标静止长度*/\r\n    get length(): number {\r\n        return this._length;\r\n    }\r\n\r\n    set length(value: number) {\r\n        this._length = value;\r\n        if (this._joint) this._joint.SetLength(value / Physics.PIXEL_RATIO);\r\n    }\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    get frequency(): number {\r\n        return this._frequency;\r\n    }\r\n\r\n    set frequency(value: number) {\r\n        this._frequency = value;\r\n        if (this._joint) this._joint.SetFrequency(value);\r\n    }\r\n\r\n    /**刚体在回归到节点过程中受到的阻尼，建议取值0~1*/\r\n    get damping(): number {\r\n        return this._damping;\r\n    }\r\n\r\n    set damping(value: number) {\r\n        this._damping = value;\r\n        if (this._joint) this._joint.SetDampingRatio(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.DistanceJoint\", DistanceJoint);\r\nClassUtils.regClass(\"Laya.DistanceJoint\", DistanceJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 齿轮关节：用来模拟两个齿轮间的约束关系，齿轮旋转时，产生的动量有两种输出方式，一种是齿轮本身的角速度，另一种是齿轮表面的线速度\r\n */\r\nexport class GearJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]要绑定的第1个关节，类型可以是RevoluteJoint或者PrismaticJoint*/\r\n    joint1: any;\r\n    /**[首次设置有效]要绑定的第2个关节，类型可以是RevoluteJoint或者PrismaticJoint*/\r\n    joint2: any;\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**两个齿轮角速度比例，默认1*/\r\n    private _ratio: number = 1;\r\n    /**\r\n     * @override\r\n     * \r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            if (!this.joint1) throw \"Joint1 can not be empty\";\r\n            if (!this.joint2) throw \"Joint2 can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = GearJoint._temp || (GearJoint._temp = new box2d.b2GearJointDef());\r\n            def.bodyA = this.joint1.owner.getComponent(RigidBody).getBody();\r\n            def.bodyB = this.joint2.owner.getComponent(RigidBody).getBody();\r\n            def.joint1 = this.joint1.joint;\r\n            def.joint2 = this.joint2.joint;\r\n            def.ratio = this._ratio;\r\n            def.collideConnected = this.collideConnected;\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**两个齿轮角速度比例，默认1*/\r\n    get ratio(): number {\r\n        return this._ratio;\r\n    }\r\n\r\n    set ratio(value: number) {\r\n        this._ratio = value;\r\n        if (this._joint) this._joint.SetRatio(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.GearJoint\", GearJoint);\r\nClassUtils.regClass(\"Laya.GearJoint\", GearJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 马达关节：用来限制两个刚体，使其相对位置和角度保持不变\r\n */\r\nexport class MotorJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**基于otherBody坐标位置的偏移量，也是selfBody的目标位置*/\r\n    private _linearOffset: any[] = [0, 0];\r\n    /**基于otherBody的角度偏移量，也是selfBody的目标角度*/\r\n    private _angularOffset: number = 0;\r\n    /**当selfBody偏离目标位置时，为使其恢复到目标位置，马达关节所施加的最大作用力*/\r\n    private _maxForce: number = 1000;\r\n    /**当selfBody角度与目标角度不同时，为使其达到目标角度，马达关节施加的最大扭力*/\r\n    private _maxTorque: number = 1000;\r\n    /**selfBody向目标位置移动时的缓动因子，取值0~1，值越大速度越快*/\r\n    private _correctionFactor: number = 0.3;\r\n    /**\r\n     * @override\r\n     * \r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            if (!this.otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = MotorJoint._temp || (MotorJoint._temp = new box2d.b2MotorJointDef());\r\n            def.Initialize(this.otherBody.getBody(), this.selfBody.getBody());\r\n            def.linearOffset = new box2d.b2Vec2(this._linearOffset[0] / Physics.PIXEL_RATIO, this._linearOffset[1] / Physics.PIXEL_RATIO);\r\n            def.angularOffset = this._angularOffset;\r\n            def.maxForce = this._maxForce;\r\n            def.maxTorque = this._maxTorque;\r\n            def.correctionFactor = this._correctionFactor;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**基于otherBody坐标位置的偏移量，也是selfBody的目标位置*/\r\n    get linearOffset(): any[] {\r\n        return this._linearOffset;\r\n    }\r\n\r\n    set linearOffset(value: any[]) {\r\n        this._linearOffset = value;\r\n        if (this._joint) this._joint.SetLinearOffset(new (<any>window).box2d.b2Vec2(value[0] / Physics.PIXEL_RATIO, value[1] / Physics.PIXEL_RATIO));\r\n    }\r\n\r\n    /**基于otherBody的角度偏移量，也是selfBody的目标角度*/\r\n    get angularOffset(): number {\r\n        return this._angularOffset;\r\n    }\r\n\r\n    set angularOffset(value: number) {\r\n        this._angularOffset = value;\r\n        if (this._joint) this._joint.SetAngularOffset(value);\r\n    }\r\n\r\n    /**当selfBody偏离目标位置时，为使其恢复到目标位置，马达关节所施加的最大作用力*/\r\n    get maxForce(): number {\r\n        return this._maxForce;\r\n    }\r\n\r\n    set maxForce(value: number) {\r\n        this._maxForce = value;\r\n        if (this._joint) this._joint.SetMaxForce(value);\r\n    }\r\n\r\n    /**当selfBody角度与目标角度不同时，为使其达到目标角度，马达关节施加的最大扭力*/\r\n    get maxTorque(): number {\r\n        return this._maxTorque;\r\n    }\r\n\r\n    set maxTorque(value: number) {\r\n        this._maxTorque = value;\r\n        if (this._joint) this._joint.SetMaxTorque(value);\r\n    }\r\n\r\n    /**selfBody向目标位置移动时的缓动因子，取值0~1，值越大速度越快*/\r\n    get correctionFactor(): number {\r\n        return this._correctionFactor;\r\n    }\r\n\r\n    set correctionFactor(value: number) {\r\n        this._correctionFactor = value;\r\n        if (this._joint) this._joint.SetCorrectionFactor(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.MotorJoint\", MotorJoint);\r\nClassUtils.regClass(\"Laya.MotorJoint\", MotorJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Laya } from \"../../../Laya\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Event } from \"../../events/Event\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 鼠标关节：鼠标关节用于通过鼠标来操控物体。它试图将物体拖向当前鼠标光标的位置。而在旋转方面就没有限制。\r\n */\r\nexport class MouseJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的链接点，是相对于自身刚体的左上角位置偏移，如果不设置，则根据鼠标点击点作为连接点*/\r\n    anchor: any[];\r\n\r\n    /**鼠标关节在拖曳刚体bodyB时施加的最大作用力*/\r\n    private _maxForce: number = 10000;\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    private _frequency: number = 5;\r\n    /**刚体在回归到节点过程中受到的阻尼，取值0~1*/\r\n    private _damping: number = 0.7;\r\n    /**\r\n     * @override\r\n     * @internal\r\n     */\r\n    _onEnable(): void {\r\n        //super._onEnable();\r\n        (<Sprite>this.owner).on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n    /**\r\n     * @override\r\n     * @internal\r\n     */\r\n    _onAwake(): void {\r\n    }\r\n\r\n    private onMouseDown(): void {\r\n        this._createJoint();\r\n        Laya.stage.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        Laya.stage.once(Event.MOUSE_UP, this, this.onStageMouseUp);\r\n    }\r\n    /**\r\n     * @override\r\n     * \r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = MouseJoint._temp || (MouseJoint._temp = new box2d.b2MouseJointDef());\r\n            if (this.anchor) {\r\n                var anchorPos: Point = (<Sprite>this.selfBody.owner).localToGlobal(Point.TEMP.setTo(this.anchor[0], this.anchor[1]), false, Physics.I.worldRoot);\r\n            } else {\r\n                anchorPos = Physics.I.worldRoot.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX, Laya.stage.mouseY));\r\n            }\r\n            var anchorVec: any = new box2d.b2Vec2(anchorPos.x / Physics.PIXEL_RATIO, anchorPos.y / Physics.PIXEL_RATIO);\r\n            def.bodyA = Physics.I._emptyBody;\r\n            def.bodyB = this.selfBody.getBody();\r\n            def.target = anchorVec;\r\n            def.frequencyHz = this._frequency;\r\n            def.damping = this._damping;\r\n            def.maxForce = this._maxForce;\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    private onStageMouseUp(): void {\r\n        Laya.stage.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        super._onDisable();\r\n    }\r\n\r\n    private onMouseMove(): void {\r\n        this._joint.SetTarget(new (<any>window).box2d.b2Vec2(Physics.I.worldRoot.mouseX / Physics.PIXEL_RATIO, Physics.I.worldRoot.mouseY / Physics.PIXEL_RATIO));\r\n    }\r\n    /**\r\n     * @override\r\n     * @internal\r\n     */\r\n    protected _onDisable(): void {\r\n        (<Sprite>this.owner).off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        super._onDisable();\r\n    }\r\n\r\n    /**鼠标关节在拖曳刚体bodyB时施加的最大作用力*/\r\n    get maxForce(): number {\r\n        return this._maxForce;\r\n    }\r\n\r\n    set maxForce(value: number) {\r\n        this._maxForce = value;\r\n        if (this._joint) this._joint.SetMaxForce(value);\r\n    }\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    get frequency(): number {\r\n        return this._frequency;\r\n    }\r\n\r\n    set frequency(value: number) {\r\n        this._frequency = value;\r\n        if (this._joint) this._joint.SetFrequency(value);\r\n    }\r\n\r\n    /**刚体在回归到节点过程中受到的阻尼，取值0~1*/\r\n    get damping(): number {\r\n        return this._damping;\r\n    }\r\n\r\n    set damping(value: number) {\r\n        this._damping = value;\r\n        if (this._joint) this._joint.SetDampingRatio(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.MouseJoint\", MouseJoint);\r\nClassUtils.regClass(\"Laya.MouseJoint\", MouseJoint);\r\n","import { JointBase } from \"./JointBase\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 平移关节：移动关节允许两个物体沿指定轴相对移动，它会阻止相对旋转\r\n */\r\nexport class PrismaticJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体，可不设置，默认为左上角空刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]关节的控制点，是相对于自身刚体的左上角位置偏移*/\r\n    anchor: any[] = [0, 0];\r\n    /**[首次设置有效]一个向量值，描述运动方向，比如1,0是沿X轴向右*/\r\n    axis: any[] = [1, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    private _enableMotor: boolean = false;\r\n    /**启用马达后，在axis坐标轴上移动可以达到的最大速度*/\r\n    private _motorSpeed: number = 0;\r\n    /**启用马达后，可以施加的最大作用力*/\r\n    private _maxMotorForce: number = 10000;\r\n\r\n    /**是否对刚体的移动范围加以约束*/\r\n    private _enableLimit: boolean = false;\r\n    /**启用约束后，刚体移动范围的下限，是距离anchor的偏移量*/\r\n    private _lowerTranslation: number = 0;\r\n    /**启用约束后，刚体移动范围的上限，是距离anchor的偏移量*/\r\n    private _upperTranslation: number = 0;\r\n    /**\r\n     * @override\r\n     * \r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            //if (!otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = PrismaticJoint._temp || (PrismaticJoint._temp = new box2d.b2PrismaticJointDef());\r\n            var anchorPos: Point = (<Sprite>this.selfBody.owner).localToGlobal(Point.TEMP.setTo(this.anchor[0], this.anchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVec: any = new box2d.b2Vec2(anchorPos.x / Physics.PIXEL_RATIO, anchorPos.y / Physics.PIXEL_RATIO);\r\n            def.Initialize(this.otherBody ? this.otherBody.getBody() : Physics.I._emptyBody, this.selfBody.getBody(), anchorVec, new box2d.b2Vec2(this.axis[0], this.axis[1]));\r\n            def.enableMotor = this._enableMotor;\r\n            def.motorSpeed = this._motorSpeed;\r\n            def.maxMotorForce = this._maxMotorForce;\r\n            def.enableLimit = this._enableLimit;\r\n            def.lowerTranslation = this._lowerTranslation / Physics.PIXEL_RATIO;\r\n            def.upperTranslation = this._upperTranslation / Physics.PIXEL_RATIO;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    get enableMotor(): boolean {\r\n        return this._enableMotor;\r\n    }\r\n\r\n    set enableMotor(value: boolean) {\r\n        this._enableMotor = value;\r\n        if (this._joint) this._joint.EnableMotor(value);\r\n    }\r\n\r\n    /**启用马达后，在axis坐标轴上移动可以达到的最大速度*/\r\n    get motorSpeed(): number {\r\n        return this._motorSpeed;\r\n    }\r\n\r\n    set motorSpeed(value: number) {\r\n        this._motorSpeed = value;\r\n        if (this._joint) this._joint.SetMotorSpeed(value);\r\n    }\r\n\r\n    /**启用马达后，可以施加的最大作用力*/\r\n    get maxMotorForce(): number {\r\n        return this._maxMotorForce;\r\n    }\r\n\r\n    set maxMotorForce(value: number) {\r\n        this._maxMotorForce = value;\r\n        if (this._joint) this._joint.SetMaxMotorForce(value);\r\n    }\r\n\r\n    /**是否对刚体的移动范围加以约束*/\r\n    get enableLimit(): boolean {\r\n        return this._enableLimit;\r\n    }\r\n\r\n    set enableLimit(value: boolean) {\r\n        this._enableLimit = value;\r\n        if (this._joint) this._joint.EnableLimit(value);\r\n    }\r\n\r\n    /**启用约束后，刚体移动范围的下限，是距离anchor的偏移量*/\r\n    get lowerTranslation(): number {\r\n        return this._lowerTranslation;\r\n    }\r\n\r\n    set lowerTranslation(value: number) {\r\n        this._lowerTranslation = value;\r\n        if (this._joint) this._joint.SetLimits(value, this._upperTranslation);\r\n    }\r\n\r\n    /**启用约束后，刚体移动范围的上限，是距离anchor的偏移量*/\r\n    get upperTranslation(): number {\r\n        return this._upperTranslation;\r\n    }\r\n\r\n    set upperTranslation(value: number) {\r\n        this._upperTranslation = value;\r\n        if (this._joint) this._joint.SetLimits(this._lowerTranslation, value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.PrismaticJoint\", PrismaticJoint);\r\nClassUtils.regClass(\"Laya.PrismaticJoint\", PrismaticJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 滑轮关节：它将两个物体接地(ground)并彼此连接，当一个物体上升，另一个物体就会下降\r\n */\r\nexport class PulleyJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]自身刚体链接点，是相对于自身刚体的左上角位置偏移*/\r\n    selfAnchor: any[] = [0, 0];\r\n    /**[首次设置有效]链接刚体链接点，是相对于otherBody的左上角位置偏移*/\r\n    otherAnchor: any[] = [0, 0];\r\n\r\n    /**[首次设置有效]滑轮上与节点selfAnchor相连接的节点，是相对于自身刚体的左上角位置偏移*/\r\n    selfGroundPoint: any[] = [0, 0];\r\n    /**[首次设置有效]滑轮上与节点otherAnchor相连接的节点，是相对于otherBody的左上角位置偏移*/\r\n    otherGroundPoint: any[] = [0, 0];\r\n    /**[首次设置有效]两刚体移动距离比率*/\r\n    ratio: number = 1.5;\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            if (!this.otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = PulleyJoint._temp || (PulleyJoint._temp = new box2d.b2PulleyJointDef());\r\n            var posA: Point = ((<Sprite>this.otherBody.owner)).localToGlobal(Point.TEMP.setTo(this.otherAnchor[0], this.otherAnchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVecA: any = new box2d.b2Vec2(posA.x / Physics.PIXEL_RATIO, posA.y / Physics.PIXEL_RATIO);\r\n            var posB: Point = ((<Sprite>this.selfBody.owner)).localToGlobal(Point.TEMP.setTo(this.selfAnchor[0], this.selfAnchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVecB: any = new box2d.b2Vec2(posB.x / Physics.PIXEL_RATIO, posB.y / Physics.PIXEL_RATIO);\r\n            var groundA: Point = ((<Sprite>this.otherBody.owner)).localToGlobal(Point.TEMP.setTo(this.otherGroundPoint[0], this.otherGroundPoint[1]), false, Physics.I.worldRoot);\r\n            var groundVecA: any = new box2d.b2Vec2(groundA.x / Physics.PIXEL_RATIO, groundA.y / Physics.PIXEL_RATIO);\r\n            var groundB: Point = ((<Sprite>this.selfBody.owner)).localToGlobal(Point.TEMP.setTo(this.selfGroundPoint[0], this.selfGroundPoint[1]), false, Physics.I.worldRoot);\r\n            var groundVecB: any = new box2d.b2Vec2(groundB.x / Physics.PIXEL_RATIO, groundB.y / Physics.PIXEL_RATIO);\r\n\r\n            def.Initialize(this.otherBody.getBody(), this.selfBody.getBody(), groundVecA, groundVecB, anchorVecA, anchorVecB, this.ratio);\r\n            def.collideConnected = this.collideConnected;\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.PulleyJoint\", PulleyJoint);\r\nClassUtils.regClass(\"Laya.PulleyJoint\", PulleyJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 旋转关节强制两个物体共享一个锚点，两个物体相对旋转\r\n */\r\nexport class RevoluteJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体，可不设置*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]关节的链接点，是相对于自身刚体的左上角位置偏移*/\r\n    anchor: any[] = [0, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    private _enableMotor: boolean = false;\r\n    /**启用马达后，可以达到的最大旋转速度*/\r\n    private _motorSpeed: number = 0;\r\n    /**启用马达后，可以施加的最大扭距，如果最大扭矩太小，会导致不旋转*/\r\n    private _maxMotorTorque: number = 10000;\r\n\r\n    /**是否对刚体的旋转范围加以约束*/\r\n    private _enableLimit: boolean = false;\r\n    /**启用约束后，刚体旋转范围的下限弧度*/\r\n    private _lowerAngle: number = 0;\r\n    /**启用约束后，刚体旋转范围的上限弧度*/\r\n    private _upperAngle: number = 0;\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            //if (!otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = RevoluteJoint._temp || (RevoluteJoint._temp = new box2d.b2RevoluteJointDef());\r\n            var anchorPos: Point = (<Sprite>this.selfBody.owner).localToGlobal(Point.TEMP.setTo(this.anchor[0], this.anchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVec: any = new box2d.b2Vec2(anchorPos.x / Physics.PIXEL_RATIO, anchorPos.y / Physics.PIXEL_RATIO);\r\n            def.Initialize(this.otherBody ? this.otherBody.getBody() : Physics.I._emptyBody, this.selfBody.getBody(), anchorVec);\r\n            def.enableMotor = this._enableMotor;\r\n            def.motorSpeed = this._motorSpeed;\r\n            def.maxMotorTorque = this._maxMotorTorque;\r\n            def.enableLimit = this._enableLimit;\r\n            def.lowerAngle = this._lowerAngle;\r\n            def.upperAngle = this._upperAngle;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    get enableMotor(): boolean {\r\n        return this._enableMotor;\r\n    }\r\n\r\n    set enableMotor(value: boolean) {\r\n        this._enableMotor = value;\r\n        if (this._joint) this._joint.EnableMotor(value);\r\n    }\r\n\r\n    /**启用马达后，可以达到的最大旋转速度*/\r\n    get motorSpeed(): number {\r\n        return this._motorSpeed;\r\n    }\r\n\r\n    set motorSpeed(value: number) {\r\n        this._motorSpeed = value;\r\n        if (this._joint) this._joint.SetMotorSpeed(value);\r\n    }\r\n\r\n    /**启用马达后，可以施加的最大扭距，如果最大扭矩太小，会导致不旋转*/\r\n    get maxMotorTorque(): number {\r\n        return this._maxMotorTorque;\r\n    }\r\n\r\n    set maxMotorTorque(value: number) {\r\n        this._maxMotorTorque = value;\r\n        if (this._joint) this._joint.SetMaxMotorTorque(value);\r\n    }\r\n\r\n    /**是否对刚体的旋转范围加以约束*/\r\n    get enableLimit(): boolean {\r\n        return this._enableLimit;\r\n    }\r\n\r\n    set enableLimit(value: boolean) {\r\n        this._enableLimit = value;\r\n        if (this._joint) this._joint.EnableLimit(value);\r\n    }\r\n\r\n    /**启用约束后，刚体旋转范围的下限弧度*/\r\n    get lowerAngle(): number {\r\n        return this._lowerAngle;\r\n    }\r\n\r\n    set lowerAngle(value: number) {\r\n        this._lowerAngle = value;\r\n        if (this._joint) this._joint.SetLimits(value, this._upperAngle);\r\n    }\r\n\r\n    /**启用约束后，刚体旋转范围的上限弧度*/\r\n    get upperAngle(): number {\r\n        return this._upperAngle;\r\n    }\r\n\r\n    set upperAngle(value: number) {\r\n        this._upperAngle = value;\r\n        if (this._joint) this._joint.SetLimits(this._lowerAngle, value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.RevoluteJoint\", RevoluteJoint);\r\nClassUtils.regClass(\"Laya.RevoluteJoint\", RevoluteJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 绳索关节：限制了两个点之间的最大距离。它能够阻止连接的物体之间的拉伸，即使在很大的负载下\r\n */\r\nexport class RopeJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体，可不设置，默认为左上角空刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]自身刚体链接点，是相对于自身刚体的左上角位置偏移*/\r\n    selfAnchor: any[] = [0, 0];\r\n    /**[首次设置有效]链接刚体链接点，是相对于otherBody的左上角位置偏移*/\r\n    otherAnchor: any[] = [0, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**selfAnchor和otherAnchor之间的最大距离*/\r\n    private _maxLength: number = 1;\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            //if (!otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = RopeJoint._temp || (RopeJoint._temp = new box2d.b2RopeJointDef());\r\n            def.bodyA = this.otherBody ? this.otherBody.getBody() : Physics.I._emptyBody;\r\n            def.bodyB = this.selfBody.getBody();\r\n            def.localAnchorA.Set(this.otherAnchor[0] / Physics.PIXEL_RATIO, this.otherAnchor[1] / Physics.PIXEL_RATIO);\r\n            def.localAnchorB.Set(this.selfAnchor[0] / Physics.PIXEL_RATIO, this.selfAnchor[1] / Physics.PIXEL_RATIO);\r\n            def.maxLength = this._maxLength / Physics.PIXEL_RATIO;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**selfAnchor和otherAnchor之间的最大距离*/\r\n    get maxLength(): number {\r\n        return this._maxLength;\r\n    }\r\n\r\n    set maxLength(value: number) {\r\n        this._maxLength = value;\r\n        if (this._joint) this._joint.SetMaxLength(value / Physics.PIXEL_RATIO);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.RopeJoint\", RopeJoint);\r\nClassUtils.regClass(\"Laya.RopeJoint\", RopeJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 焊接关节：焊接关节的用途是使两个物体不能相对运动，受到关节的限制，两个刚体的相对位置和角度都保持不变，看上去像一个整体\r\n */\r\nexport class WeldJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]关节的链接点，是相对于自身刚体的左上角位置偏移*/\r\n    anchor: any[] = [0, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    private _frequency: number = 5;\r\n    /**刚体在回归到节点过程中受到的阻尼，取值0~1*/\r\n    private _damping: number = 0.7;\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            if (!this.otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = WeldJoint._temp || (WeldJoint._temp = new box2d.b2WeldJointDef());\r\n            var anchorPos: Point = (<Sprite>this.selfBody.owner).localToGlobal(Point.TEMP.setTo(this.anchor[0], this.anchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVec: any = new box2d.b2Vec2(anchorPos.x / Physics.PIXEL_RATIO, anchorPos.y / Physics.PIXEL_RATIO);\r\n            def.Initialize(this.otherBody.getBody(), this.selfBody.getBody(), anchorVec);\r\n            def.frequencyHz = this._frequency;\r\n            def.dampingRatio = this._damping;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    get frequency(): number {\r\n        return this._frequency;\r\n    }\r\n\r\n    set frequency(value: number) {\r\n        this._frequency = value;\r\n        if (this._joint) this._joint.SetFrequency(value);\r\n    }\r\n\r\n    /**刚体在回归到节点过程中受到的阻尼，建议取值0~1*/\r\n    get damping(): number {\r\n        return this._damping;\r\n    }\r\n\r\n    set damping(value: number) {\r\n        this._damping = value;\r\n        if (this._joint) this._joint.SetDampingRatio(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.WeldJoint\", WeldJoint);\r\nClassUtils.regClass(\"Laya.WeldJoint\", WeldJoint);","import { JointBase } from \"./JointBase\";\r\nimport { Sprite } from \"../../display/Sprite\"\r\nimport { Point } from \"../../maths/Point\"\r\nimport { Physics } from \"../Physics\"\r\nimport { RigidBody } from \"../RigidBody\"\r\nimport { ClassUtils } from \"../../utils/ClassUtils\";\r\n\r\n/**\r\n * 轮子关节：围绕节点旋转，包含弹性属性，使得刚体在节点位置发生弹性偏移\r\n */\r\nexport class WheelJoint extends JointBase {\r\n    /**@private */\r\n    private static _temp: any;\r\n    /**[首次设置有效]关节的自身刚体*/\r\n    selfBody: RigidBody;\r\n    /**[首次设置有效]关节的连接刚体*/\r\n    otherBody: RigidBody;\r\n    /**[首次设置有效]关节的链接点，是相对于自身刚体的左上角位置偏移*/\r\n    anchor: any[] = [0, 0];\r\n    /**[首次设置有效]两个刚体是否可以发生碰撞，默认为false*/\r\n    collideConnected: boolean = false;\r\n    /**[首次设置有效]一个向量值，描述运动方向，比如1,0是沿X轴向右*/\r\n    axis: any[] = [1, 0];\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    private _frequency: number = 5;\r\n    /**刚体在回归到节点过程中受到的阻尼，取值0~1*/\r\n    private _damping: number = 0.7;\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    private _enableMotor: boolean = false;\r\n    /**启用马达后，可以达到的最大旋转速度*/\r\n    private _motorSpeed: number = 0;\r\n    /**启用马达后，可以施加的最大扭距，如果最大扭矩太小，会导致不旋转*/\r\n    private _maxMotorTorque: number = 10000;\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    protected _createJoint(): void {\r\n        if (!this._joint) {\r\n            if (!this.otherBody) throw \"otherBody can not be empty\";\r\n            this.selfBody = this.selfBody || this.owner.getComponent(RigidBody);\r\n            if (!this.selfBody) throw \"selfBody can not be empty\";\r\n\r\n            var box2d: any = (<any>window).box2d;\r\n            var def: any = WheelJoint._temp || (WheelJoint._temp = new box2d.b2WheelJointDef());\r\n            var anchorPos: Point = (<Sprite>this.selfBody.owner).localToGlobal(Point.TEMP.setTo(this.anchor[0], this.anchor[1]), false, Physics.I.worldRoot);\r\n            var anchorVec: any = new box2d.b2Vec2(anchorPos.x / Physics.PIXEL_RATIO, anchorPos.y / Physics.PIXEL_RATIO);\r\n            def.Initialize(this.otherBody.getBody(), this.selfBody.getBody(), anchorVec, new box2d.b2Vec2(this.axis[0], this.axis[1]));\r\n            def.enableMotor = this._enableMotor;\r\n            def.motorSpeed = this._motorSpeed;\r\n            def.maxMotorTorque = this._maxMotorTorque;\r\n            def.frequencyHz = this._frequency;\r\n            def.dampingRatio = this._damping;\r\n            def.collideConnected = this.collideConnected;\r\n\r\n            this._joint = Physics.I._createJoint(def);\r\n        }\r\n    }\r\n\r\n    /**弹簧系统的震动频率，可以视为弹簧的弹性系数*/\r\n    get frequency(): number {\r\n        return this._frequency;\r\n    }\r\n\r\n    set frequency(value: number) {\r\n        this._frequency = value;\r\n        if (this._joint) this._joint.SetSpringFrequencyHz(value);\r\n    }\r\n\r\n    /**刚体在回归到节点过程中受到的阻尼，取值0~1*/\r\n    get damping(): number {\r\n        return this._damping;\r\n    }\r\n\r\n    set damping(value: number) {\r\n        this._damping = value;\r\n        if (this._joint) this._joint.SetSpringDampingRatio(value);\r\n    }\r\n\r\n    /**是否开启马达，开启马达可使目标刚体运动*/\r\n    get enableMotor(): boolean {\r\n        return this._enableMotor;\r\n    }\r\n\r\n    set enableMotor(value: boolean) {\r\n        this._enableMotor = value;\r\n        if (this._joint) this._joint.EnableMotor(value);\r\n    }\r\n\r\n    /**启用马达后，可以达到的最大旋转速度*/\r\n    get motorSpeed(): number {\r\n        return this._motorSpeed;\r\n    }\r\n\r\n    set motorSpeed(value: number) {\r\n        this._motorSpeed = value;\r\n        if (this._joint) this._joint.SetMotorSpeed(value);\r\n    }\r\n\r\n    /**启用马达后，可以施加的最大扭距，如果最大扭矩太小，会导致不旋转*/\r\n    get maxMotorTorque(): number {\r\n        return this._maxMotorTorque;\r\n    }\r\n\r\n    set maxMotorTorque(value: number) {\r\n        this._maxMotorTorque = value;\r\n        if (this._joint) this._joint.SetMaxMotorTorque(value);\r\n    }\r\n}\r\n\r\nClassUtils.regClass(\"laya.physics.joint.WheelJoint\", WheelJoint);\r\nClassUtils.regClass(\"Laya.WheelJoint\", WheelJoint);"],"names":["Component","Laya","ClassUtils","Point","Utils","EventDispatcher","Event","Sprite","Graphics","Browser"],"mappings":"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"}